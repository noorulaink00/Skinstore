/*! For license information please see main.7b0d2f7d.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case _:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Se=null;function _e(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Te(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Ie(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Se)&&(Ne(),Ie())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,je=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,je=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,St,_t,Tt=!1,It=[],Ct=null,Nt=null,At=null,Ot=new Map,Rt=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void _t(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Tt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Ot.forEach(Ut),Rt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Ot.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)jt(n),null===n.blockedOn&&Pt.shift()}var Ht=b.ReactCurrentBatchConfig,qt=!0;function Kt(e,t,n,r){var i=kt,a=Ht.transition;Ht.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,Ht.transition=a}}function Wt(e,t,n,r){var i=kt,a=Ht.transition;Ht.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,Ht.transition=a}}function Gt(e,t,n,r){if(qt){var i=Yt(e,t,n,r);if(null===i)qr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&qr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),gn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(yn),bn=an(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function _n(){return Sn}var Tn=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Tn),Cn=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),An=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(On),Pn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Kn(e,t,n,r){Te(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Kn(t,Gn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Sr={};function _r(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=_r("animationend"),Ir=_r("animationiteration"),Cr=_r("animationstart"),Nr=_r("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),u(t,[e])}for(var Pr=0;Pr<Or.length;Pr++){var Dr=Or[Pr];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Tr,"onAnimationEnd"),Rr(Ir,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Tr:case Ir:case Cr:u=gn;break;case Nr:u=An;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(qn(s))if(Jn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(y=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(g=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=zn(n))&&(k.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),$t=Zt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Re(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,a))&&o.unshift(Kr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Kr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function Si(e){return{current:e}}function _i(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Ti(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ii={},Ci=Si(Ii),Ni=Si(!1),Ai=Ii;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){_i(Ni),_i(Ci)}function Di(e,t,n){if(Ci.current!==Ii)throw Error(a(168));Ti(Ci,t),Ti(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ai=Ci.current,Ti(Ci,e),Ti(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,_i(Ni),_i(Ci),Ti(Ci,e)):_i(Ni),Ti(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge($e,Bi),i}finally{kt=t,Vi=!1}}return null}var Hi=[],qi=0,Ki=null,Wi=0,Gi=[],Qi=0,Yi=null,Xi=1,Ji="";function Zi(e,t){Hi[qi++]=Wi,Hi[qi++]=Ki,Ki=e,Wi=t}function $i(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Xi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Ki;)Ki=Hi[--qi],Hi[qi]=null,Wi=Hi[--qi],Hi[qi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Si(null),ya=null,ka=null,ba=null;function wa(){ba=ka=ya=null}function xa(e){var t=ga.current;_i(ga),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ya=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ya)throw Error(a(308));ka=e,ya.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ta=null;function Ia(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);ju|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ha(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=_a(a):(i=Ri(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=_a(a):(a=Ri(t)?Ai:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),ia&&Zi(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return ia&&Zi(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Mc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Wa(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Xa=Ya(!0),Ja=Ya(!1),Za={},$a=Si(Za),eo=Si(Za),to=Si(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i($a),Ti($a,t)}function io(){_i($a),_i(eo),_i(to)}function ao(e){no(to.current);var t=no($a.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti($a,n))}function oo(e){eo.current===e&&(_i($a),_i(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function _o(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Io(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,ju|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,ju|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Ro(e,t){var n=vo,r=Io(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,qo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Au)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Io().memoizedState}function zo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function Ho(e,t){return zo(8390656,8,e,t)}function qo(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Wo(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,ju|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return Io().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:_a,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:_a,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=$o.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Au)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ho(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Au.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:_a,useCallback:Xo,useContext:_a,useEffect:qo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:Jo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(Io(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],Io().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},cs={readContext:_a,useCallback:Xo,useContext:_a,useEffect:qo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:Jo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],Io().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Xa(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=_o(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Is(e,t,n,r,i)}function _s(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Du,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Du,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Du,Pu),Pu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Du,Pu),Pu|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Ri(n)?Ai:Ci.current;return a=Oi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=_o(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Cs(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qs(e,t),Ha(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=_a(c):c=Oi(t,c=Ri(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&qa(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Aa||Ba(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=_a(u):u=Oi(t,u=Ri(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&qa(t,o,r,u),Aa=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Ks(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Os(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Ps,Ds,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=jc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ms,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Au)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rc(r,e,i,-1))}return mc(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?js(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ri(t.type)&&Pi(),Gs(t),null;case 3:return r=t.stateNode,io(),_i(Ni),_i(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Ps(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":W(r),$(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":W(e),$(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(_i(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Ps(e,t),null===e&&Br(t.stateNode.containerInfo),Gs(t),null;case 10:return xa(t.type._context),Gs(t),null;case 19:if(_i(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Hu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Je()-o.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),_i(Ni),_i(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(_i(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Js=!1,Zs="function"===typeof WeakSet?WeakSet:Set,$s=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){_c(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Js&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_c(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,du(e,t,n),Js=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){_c(e,e.return,m)}try{ru(5,e,e.return)}catch(m){_c(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){_c(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){_c(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){_c(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){_c(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Je())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(l=Js)||f,mu(t,e),Js=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for($s=e,f=e.child;null!==f;){for(h=$s=f;null!==$s;){switch(p=(d=$s).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){_c(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){xu(h);continue}}null!==p?(p.return=d,$s=p):xu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){_c(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){_c(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){_c(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){$s=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Js;s=Xs;var c=Js;if(Xs=o,(Js=u)&&!c)for($s=i;null!==$s;)u=(o=$s).child,22===o.tag&&null!==o.memoizedState?Eu(i):null!==u?(u.return=o,$s=u):Eu(i);for(;null!==a;)$s=a,bu(a,t,n),a=a.sibling;$s=i,Xs=s,Js=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):wu(e)}}function wu(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Js||512&t.flags&&au(t)}catch(d){_c(t,t.return,d)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function xu(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function Eu(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){_c(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){_c(t,i,u)}}var a=t.return;try{au(t)}catch(u){_c(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){_c(t,o,u)}}}catch(u){_c(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Su,_u=Math.ceil,Tu=b.ReactCurrentDispatcher,Iu=b.ReactCurrentOwner,Cu=b.ReactCurrentBatchConfig,Nu=0,Au=null,Ou=null,Ru=0,Pu=0,Du=Si(0),Lu=0,Mu=null,ju=0,Fu=0,Uu=0,Vu=null,zu=null,Bu=0,Hu=1/0,qu=null,Ku=!1,Wu=null,Gu=null,Qu=!1,Yu=null,Xu=0,Ju=0,Zu=null,$u=-1,ec=0;function tc(){return 0!==(6&Nu)?Je():-1!==$u?$u:$u=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Ru?Ru&-Ru:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Ju)throw Ju=0,Zu=null,Error(a(185));gt(e,n,r),0!==(2&Nu)&&e===Au||(e===Au&&(0===(2&Nu)&&(Fu|=n),4===Lu&&uc(e,Ru)),ic(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(Hu=Je()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Au?Ru:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Nu)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if($u=-1,ec=0,0!==(6&Nu))throw Error(a(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Au?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Nu;Nu|=2;var o=vc();for(Au===e&&Ru===t||(qu=null,Hu=Je()+500,dc(e,t));;)try{kc();break}catch(u){pc(e,u)}wa(),Tu.current=o,Nu=i,null!==Ou?t=0:(Au=null,Ru=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,dc(e,0),uc(e,r),ic(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Mu,dc(e,0),uc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,zu,qu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bu+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zu,qu),t);break}xc(e,zu,qu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_u(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zu,qu),r);break}xc(e,zu,qu);break;default:throw Error(a(329))}}}return ic(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zu,zu=n,null!==t&&sc(t)),e}function sc(e){null===zu?zu=e:zu.push.apply(zu,e)}function uc(e,t){for(t&=~Uu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nu))throw Error(a(327));Ec();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,dc(e,0),uc(e,t),ic(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zu,qu),ic(e,Je()),null}function lc(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(Hu=Je()+500,Ui&&Bi())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Nu)&&Ec();var t=Nu;Nu|=1;var n=Cu.transition,r=kt;try{if(Cu.transition=null,kt=1,e)return e()}finally{kt=r,Cu.transition=n,0===(6&(Nu=t))&&Bi()}}function hc(){Pu=Du.current,_i(Du)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ou)for(n=Ou.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),_i(Ni),_i(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:_i(so);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Au=e,Ou=e=Dc(e.current,null),Ru=Pu=t,Lu=0,Mu=null,Uu=Fu=ju=0,zu=Vu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function pc(e,t){for(;;){var n=Ou;try{if(wa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,ko=!1,bo=0,Iu.current=null,null===n||null===n.return){Lu=1,Mu=t,Ou=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ru,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gu||!Gu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Ou===n&&null!==n&&(Ou=n=n.return);continue}break}}function vc(){var e=Tu.current;return Tu.current=os,null===e?os:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Au||0===(268435455&ju)&&0===(268435455&Fu)||uc(Au,Ru)}function gc(e,t){var n=Nu;Nu|=2;var r=vc();for(Au===e&&Ru===t||(qu=null,dc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(wa(),Nu=n,Tu.current=r,null!==Ou)throw Error(a(261));return Au=null,Ru=0,Lu}function yc(){for(;null!==Ou;)bc(Ou)}function kc(){for(;null!==Ou&&!Ye();)bc(Ou)}function bc(e){var t=Su(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?wc(e):Ou=t,Iu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Pu)))return void(Ou=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Ou=n);if(null===e)return Lu=6,void(Ou=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ou=t);Ou=t=e}while(null!==t);0===Lu&&(Lu=5)}function xc(e,t,n){var r=kt,i=Cu.transition;try{Cu.transition=null,kt=1,function(e,t,n,r){do{Ec()}while(null!==Yu);if(0!==(6&Nu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Au&&(Ou=Au=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Ac(tt,(function(){return Ec(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=kt;kt=1;var u=Nu;Nu|=4,Iu.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,k=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,ku(n,e,i),Xe(),Nu=u,kt=s,Cu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,Xu=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Wu,Wu=null,e;0!==(1&Xu)&&0!==e.tag&&Ec(),o=e.pendingLanes,0!==(1&o)?e===Zu?Ju++:(Ju=0,Zu=e):Ju=0,Bi()}(e,t,n,r)}finally{Cu.transition=i,kt=r}return null}function Ec(){if(null!==Yu){var e=bt(Xu),t=Cu.transition,n=kt;try{if(Cu.transition=null,kt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Xu=0,0!==(6&Nu))throw Error(a(331));var i=Nu;for(Nu|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for($s=l;null!==$s;){var f=$s;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,$s=h;else for(;null!==$s;){var d=(f=$s).sibling,p=f.return;if(ou(f),f===l){$s=null;break}if(null!==d){d.return=p,$s=d;break}$s=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$s=y;break e}$s=o.return}}var k=e.current;for($s=k;null!==$s;){var b=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,$s=b;else e:for(s=k;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){_c(u,u.return,x)}if(u===s){$s=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,$s=w;break e}$s=u.return}}if(Nu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cu.transition=t}}return!1}function Sc(e,t,n){e=Da(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function _c(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Da(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Au===e&&(Ru&n)===n&&(4===Lu||3===Lu&&(130023424&Ru)===Ru&&500>Je()-Bu?dc(e,0):Uu|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Na(e,t))&&(gt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Ac(e,t){return Ge(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Oc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Mc(n.children,i,o,t);case S:s=8,i|=8;break;case _:return(e=Rc(12,n,t,2|i)).elementType=_,e.lanes=o,e;case N:return(e=Rc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Rc(19,n,t,i)).elementType=A,e.lanes=o,e;case P:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case I:s=9;break e;case C:s=11;break e;case O:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,s,u){return e=new Vc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Bc(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function Hc(e,t,n,r,i,a,o,s,u){return(e=zc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Pa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function qc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ti(so,1&so.current),null!==(e=Ks(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,_s(e,t,n)}return Ks(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&$i(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=_o();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Os(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Os(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ks(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Ks(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ea(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=_a(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Es(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qs(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),Ha(t,r,i),Ka(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return _s(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Kc(o);s.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=Hc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){qc(t,u,n,r)})),u}(n,t,e,i,r);return Kc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){qc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Nu)&&(Hu=Je()+500,Bi()))}break;case 13:fc((function(){var t=Na(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Na(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},St=function(){return kt},_t=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ne=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Te,Ie,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=k.prototype=new y;b.constructor=k,v(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,_=null,T=-1,I=5,C=-1;function N(){return!(t.unstable_now()-C<I)}function A(){if(null!==_){var e=t.unstable_now();C=e;var n=!0;try{n=_(!0,e)}finally{n?E():(S=!1,_=null)}}else S=!1}if("function"===typeof k)E=function(){k(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=A,E=function(){R.postMessage(null)}}else E=function(){g(A,0)};function P(e){_=e,S||(S=!0,E())}function D(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(T),T=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e,t=n(791),r=n.t(t,2),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||s(e,t)||u()}function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){return function(e){if(Array.isArray(e))return o(e)}(e)||l(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){var t=b();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function E(e,t,n){return E=b()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&g(i,n.prototype),i},E.apply(null,arguments)}function S(e){var t="function"===typeof Map?new Map:void 0;return S=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return E(e,arguments,k(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),g(r,e)},S(e)}function _(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var I,C="popstate";function N(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function A(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function O(e,t){return{usr:e.state,key:e.key,idx:t}}function R(e,t,n,r){return void 0===n&&(n=null),T({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?D(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function P(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function D(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function L(t,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,f=e.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=e.Pop;var t=p(),n=null==t?null:t-d;d=t,h&&h({action:f,location:g.location,delta:n})}function m(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:P(e);return N(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(T({},l.state,{idx:d}),""));var g={get action(){return f},get location(){return t(s,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(C,v),h=e,function(){s.removeEventListener(C,v),h=null}},createHref:function(e){return n(s,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){f=e.Push;var i=R(g.location,t,n);r&&r(i,t);var a=O(i,d=p()+1),o=g.createHref(i);try{l.pushState(a,"",o)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(o)}c&&h&&h({action:f,location:g.location,delta:1})},replace:function(t,n){f=e.Replace;var i=R(g.location,t,n);r&&r(i,t);var a=O(i,d=p()),o=g.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(I||(I={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function M(e,t,n){void 0===n&&(n="/");var r=X(("string"===typeof t?D(t):t).pathname||"/",n);if(null==r)return null;var i=j(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=G(i[o],Y(r));return a}function j(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(N(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ee([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(N(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),j(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:W(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=_(F(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function F(e){var t=e.split("/");if(0===t.length)return[];var n,r=a(n=t)||l(n)||s(n)||u(),i=r[0],o=r.slice(1),c=i.endsWith("?"),h=i.replace(/\?$/,"");if(0===o.length)return c?[h,""]:[h];var d=F(o.join("/")),p=[];return p.push.apply(p,f(d.map((function(e){return""===e?h:[h,e].join("/")})))),c&&p.push.apply(p,f(d)),p.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var U=/^:\w+$/,V=3,z=2,B=1,H=10,q=-2,K=function(e){return"*"===e};function W(e,t){var n=e.split("/"),r=n.length;return n.some(K)&&(r+=q),t&&(r+=z),n.filter((function(e){return!K(e)})).reduce((function(e,t){return e+(U.test(t)?V:""===t?B:H)}),r)}function G(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Q({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:ee([i,l.pathname]),pathnameBase:te(ee([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ee([i,l.pathnameBase]))}return a}function Q(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);A("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return A(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function Y(e){try{return decodeURI(e)}catch(t){return A(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function X(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function J(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Z(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function $(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=D(e):(N(!(i=T({},e)).pathname||!i.pathname.includes("?"),J("?","pathname","search",i)),N(!i.pathname||!i.pathname.includes("#"),J("#","pathname","hash",i)),N(!i.search||!i.search.includes("#"),J("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?D(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ne(a),hash:re(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ee=function(e){return e.join("/").replace(/\/\/+/g,"/")},te=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ne=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},re=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ie=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(S(Error));function ae(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var oe=["post","put","patch","delete"],se=(new Set(oe),["get"].concat(oe));new Set(se),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}var ce=t.createContext(null);var le=t.createContext(null);var fe=t.createContext(null);var he=t.createContext(null);var de=t.createContext(null);var pe=t.createContext({outlet:null,matches:[],isDataRoute:!1});var ve=t.createContext(null);function me(){return null!=t.useContext(de)}function ge(){return me()||N(!1),t.useContext(de).location}function ye(e){t.useContext(he).static||t.useLayoutEffect(e)}function ke(){return t.useContext(pe).isDataRoute?function(){var e=Ne(Ie.UseNavigateStable).router,n=Oe(Ce.UseNavigateStable),r=t.useRef(!1);ye((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,ue({fromRouteId:n},i)))}),[e,n]);return i}():function(){me()||N(!1);var e=t.useContext(ce),n=t.useContext(he),r=n.basename,i=n.navigator,a=t.useContext(pe).matches,o=ge().pathname,s=JSON.stringify(Z(a).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);return ye((function(){u.current=!0})),t.useCallback((function(t,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof t){var a=$(t,JSON.parse(s),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:ee([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,s,o,e])}()}function be(){var e=t.useContext(pe).matches,n=e[e.length-1];return n?n.params:{}}function we(n,r,i){me()||N(!1);var a,o=t.useContext(he).navigator,s=t.useContext(pe).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,ge());if(r){var h,d="string"===typeof r?D(r):r;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||N(!1),a=d}else a=f;var p=a.pathname||"/",v=M(n,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Te(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ee([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ee([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,i);return r&&m?t.createElement(de.Provider,{value:{location:ue({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:e.Pop}},m):m}function xe(){var e=function(){var e,n=t.useContext(ve),r=Ae(Ce.UseRouteError),i=Oe(Ce.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=ae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Ee=t.createElement(xe,null),Se=function(e){y(r,e);var n=x(r);function r(e){var t;return h(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return m(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(pe.Provider,{value:this.props.routeContext},t.createElement(ve.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function _e(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(ce);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(pe.Provider,{value:n},i)}function Te(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||N(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;r&&(c=i.route.errorElement||Ee);var l=n.concat(o.slice(0,a+1)),f=function(){var n;return n=u?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(_e,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(Se,{location:r.location,revalidation:r.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var Ie=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ie||{}),Ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ce||{});function Ne(e){var n=t.useContext(ce);return n||N(!1),n}function Ae(e){var n=t.useContext(le);return n||N(!1),n}function Oe(e){var n=function(e){var n=t.useContext(pe);return n||N(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||N(!1),r.route.id}r.startTransition;function Re(e){N(!1)}function Pe(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,u=n.navigationType,c=void 0===u?e.Pop:u,l=n.navigator,f=n.static,h=void 0!==f&&f;me()&&N(!1);var d=i.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=D(s));var v=s,m=v.pathname,g=void 0===m?"/":m,y=v.search,k=void 0===y?"":y,b=v.hash,w=void 0===b?"":b,x=v.state,E=void 0===x?null:x,S=v.key,_=void 0===S?"default":S,T=t.useMemo((function(){var e=X(g,d);return null==e?null:{location:{pathname:e,search:k,hash:w,state:E,key:_},navigationType:c}}),[d,g,k,w,E,_,c]);return null==T?null:t.createElement(he.Provider,{value:p},t.createElement(de.Provider,{children:o,value:T}))}function De(e){var t=e.children,n=e.location;return we(je(t),n)}var Le=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Le||{}),Me=new Promise((function(){}));t.Component;function je(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(f(n),[i]);if(e.type!==t.Fragment){e.type!==Re&&N(!1),e.props.index&&e.props.children&&N(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=je(e.props.children,a)),r.push(o)}else r.push.apply(r,je(e.props.children,a))}})),r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Fe=r.startTransition;function Ue(e){var n,r=e.basename,i=e.children,a=e.future,o=e.window,s=t.useRef();null==s.current&&(s.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),L((function(e,t){var n=e.location;return R("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:P(t)}),null,n)));var u=s.current,l=c(t.useState({action:u.action,location:u.location}),2),f=l[0],h=l[1],d=(a||{}).v7_startTransition,p=t.useCallback((function(e){d&&Fe?Fe((function(){return h(e)})):h(e)}),[h,d]);return t.useLayoutEffect((function(){return u.listen(p)}),[u,p]),t.createElement(Pe,{basename:r,children:i,location:f.location,navigationType:f.action,navigator:u})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Ve,ze;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Ve||(Ve={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ze||(ze={}));var Be={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},He=t.createContext&&t.createContext(Be),qe=function(){return qe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qe.apply(this,arguments)},Ke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function We(e){return e&&e.map((function(e,n){return t.createElement(e.tag,qe({key:n},e.attr),We(e.child))}))}function Ge(e){return function(n){return t.createElement(Qe,qe({attr:qe({},e.attr)},n),We(e.child))}}function Qe(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=Ke(e,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",qe({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:qe(qe({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==He?t.createElement(He.Consumer,null,(function(e){return n(e)})):n(Be)}function Ye(e){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"}},{tag:"path",attr:{d:"M21 21l-6 -6"}}]})(e)}function Xe(e){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M5.79166 2H1V4H4.2184L6.9872 16.6776H7V17H20V16.7519L22.1932 7.09095L22.5308 6H6.6552L6.08485 3.38852L5.79166 2ZM19.9869 8H7.092L8.62081 15H18.3978L19.9869 8Z",fill:"currentColor"}},{tag:"path",attr:{d:"M10 22C11.1046 22 12 21.1046 12 20C12 18.8954 11.1046 18 10 18C8.89543 18 8 18.8954 8 20C8 21.1046 8.89543 22 10 22Z",fill:"currentColor"}},{tag:"path",attr:{d:"M19 20C19 21.1046 18.1046 22 17 22C15.8954 22 15 21.1046 15 20C15 18.8954 15.8954 18 17 18C18.1046 18 19 18.8954 19 20Z",fill:"currentColor"}}]})(e)}function Je(e){return Ge({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]})(e)}function Ze(){Ze=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),s=new O(r||[]);return i(o,"_invoke",{value:I(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",v="executing",m="completed",g={};function y(){}function k(){}function b(){}var w={};c(w,o,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(R([])));E&&E!==n&&r.call(E,o)&&(w=E);var S=b.prototype=y.prototype=Object.create(w);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,a,o,s){var u=f(e[i],e,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==d(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function I(t,n,r){var i=h;return function(a,o){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=C(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?m:p,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=f(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(d(t)+" is not iterable")}return k.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:k,configurable:!0}),k.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(T.prototype),c(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new T(l(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(S),c(S,u,"Generator"),c(S,o,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function $e(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function rt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){nt(a,r,i,o,s,"next",e)}function s(e){nt(a,r,i,o,s,"throw",e)}o(void 0)}))}}function it(e){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(e)}function at(){return at="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},at.apply(this,arguments)}var ot=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},st={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ot(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new ut;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ut=function(e){y(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return m(n)}(S(Error)),ct=function(e){return function(e){var t=ot(e);return st.encodeByteArray(t,!0)}(e).replace(/\./g,"")},lt=function(e){try{return st.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var ft=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ht=function(){try{return ft()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&lt(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},dt=function(e){var t,n;return null===(n=null===(t=ht())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},pt=function(){var e;return null===(e=ht())||void 0===e?void 0:e.config},vt=function(e){var t;return null===(t=ht())||void 0===t?void 0:t["_".concat(e)]},mt=function(){function e(){var t=this;h(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return m(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function gt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function yt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function kt(){try{return"object"===typeof indexedDB}catch(e){return!1}}function bt(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}var wt=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(w(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(w(a),xt.prototype.create),a}return m(n)}(S(Error)),xt=function(){function e(t,n,r){h(this,e),this.service=t,this.serviceName=n,this.errors=r}return m(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Et,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new wt(n,a,t)}}]),e}();var Et=/\{\$([^}]+)}/g;function St(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function _t(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Tt(s)&&Tt(u)){if(!_t(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Tt(e){return null!==e&&"object"===typeof e}function It(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ct(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Nt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var At=function(){function e(t,n){var r=this;h(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return m(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=_(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ot),void 0===r.error&&(r.error=Ot),void 0===r.complete&&(r.complete=Ot);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ot(){}var Rt=1e3,Pt=2,Dt=144e5,Lt=.5;function Mt(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pt,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rt)*Math.pow(t,e),r=Math.round(Lt*n*(Math.random()-.5)*2);return Math.min(Dt,n+r)}function jt(e){return e&&e._delegate?e._delegate:e}var Ft=function(){function e(t,n,r){h(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return m(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ut="[DEFAULT]",Vt=function(e){function t(e,n){h(this,t),this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return m(t,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new mt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ut})}catch(u){}var t,n=_(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){return(e=e||rt(Ze().mark((function e(){var t;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(f(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),f(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=_(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1];r===this.normalizeInstanceIdentifier(u)&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ut?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut;return this.component?this.component.multipleInstances?e:Ut:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),t}();var zt,Bt,Ht=function(){function e(t){h(this,e),this.name=t,this.providers=new Map}return m(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Vt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),qt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Bt||(Bt={}));var Kt={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},Wt=Bt.INFO,Gt=($e(zt={},Bt.DEBUG,"log"),$e(zt,Bt.VERBOSE,"log"),$e(zt,Bt.INFO,"info"),$e(zt,Bt.WARN,"warn"),$e(zt,Bt.ERROR,"error"),zt),Qt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Gt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Yt=function(){function e(t){h(this,e),this.name=t,this._logLevel=Wt,this._logHandler=Qt,this._userLogHandler=null,qt.push(this)}return m(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Bt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Kt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Bt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Bt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Bt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Bt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Bt.INFO].concat(t)),this._logHandler.apply(this,[this,Bt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Bt.WARN].concat(t)),this._logHandler.apply(this,[this,Bt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Bt.ERROR].concat(t)),this._logHandler.apply(this,[this,Bt.ERROR].concat(t))}}]),e}();var Xt,Jt,Zt=function(e,t){return t.some((function(t){return e instanceof t}))};var $t=new WeakMap,en=new WeakMap,tn=new WeakMap,nn=new WeakMap,rn=new WeakMap;var an={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return en.get(e);if("objectStoreNames"===t)return e.objectStoreNames||tn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return un(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function on(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Jt||(Jt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(cn(this),n),un($t.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return un(e.apply(cn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[cn(this),t].concat(r));return tn.set(a,t.sort?t.sort():[t]),un(a)}}function sn(e){return"function"===typeof e?on(e):(e instanceof IDBTransaction&&function(e){if(!en.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));en.set(e,t)}}(e),Zt(e,Xt||(Xt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,an):e)}function un(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(un(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&$t.set(t,e)})).catch((function(){})),rn.set(t,e),t}(e);if(nn.has(e))return nn.get(e);var t=sn(e);return t!==e&&(nn.set(e,t),rn.set(t,e)),t}var cn=function(e){return rn.get(e)};var ln,fn,hn,dn,pn=["get","getKey","getAll","getAllKeys","count"],vn=["put","add","delete","clear"],mn=new Map;function gn(e,t){var n;if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(mn.get(t))return mn.get(t);var r=t.replace(/FromIndex$/,""),i=t!==r,a=vn.includes(r);if(r in(i?IDBIndex:IDBObjectStore).prototype&&(a||pn.includes(r))){var o=function(e){return(n=n||rt(Ze().mark((function e(t){var n,o,s,u,c,l,f=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,a?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return i&&(s=s.index(c.shift())),e.next=6,Promise.all([(n=s)[r].apply(n,c),a&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)};return mn.set(t,o),o}}}an=function(e){return tt(tt({},e),{},{get:function(t,n,r){return gn(t,n)||e.get(t,n,r)},has:function(t,n){return!!gn(t,n)||e.has(t,n)}})}(an);var yn=function(){function e(t){h(this,e),this.container=t}return m(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var kn="@firebase/app",bn="0.9.18",wn=new Yt("@firebase/app"),xn="[DEFAULT]",En=($e(ln={},kn,"fire-core"),$e(ln,"@firebase/app-compat","fire-core-compat"),$e(ln,"@firebase/analytics","fire-analytics"),$e(ln,"@firebase/analytics-compat","fire-analytics-compat"),$e(ln,"@firebase/app-check","fire-app-check"),$e(ln,"@firebase/app-check-compat","fire-app-check-compat"),$e(ln,"@firebase/auth","fire-auth"),$e(ln,"@firebase/auth-compat","fire-auth-compat"),$e(ln,"@firebase/database","fire-rtdb"),$e(ln,"@firebase/database-compat","fire-rtdb-compat"),$e(ln,"@firebase/functions","fire-fn"),$e(ln,"@firebase/functions-compat","fire-fn-compat"),$e(ln,"@firebase/installations","fire-iid"),$e(ln,"@firebase/installations-compat","fire-iid-compat"),$e(ln,"@firebase/messaging","fire-fcm"),$e(ln,"@firebase/messaging-compat","fire-fcm-compat"),$e(ln,"@firebase/performance","fire-perf"),$e(ln,"@firebase/performance-compat","fire-perf-compat"),$e(ln,"@firebase/remote-config","fire-rc"),$e(ln,"@firebase/remote-config-compat","fire-rc-compat"),$e(ln,"@firebase/storage","fire-gcs"),$e(ln,"@firebase/storage-compat","fire-gcs-compat"),$e(ln,"@firebase/firestore","fire-fst"),$e(ln,"@firebase/firestore-compat","fire-fst-compat"),$e(ln,"fire-js","fire-js"),$e(ln,"firebase","fire-js-all"),ln),Sn=new Map,_n=new Map;function Tn(e,t){try{e.container.addComponent(t)}catch(n){wn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function In(e){var t=e.name;if(_n.has(t))return wn.debug("There were multiple attempts to register component ".concat(t,".")),!1;_n.set(t,e);var n,r=_(Sn.values());try{for(r.s();!(n=r.n()).done;){Tn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Cn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Nn=($e(fn={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),$e(fn,"bad-app-name","Illegal App name: '{$appName}"),$e(fn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),$e(fn,"app-deleted","Firebase App named '{$appName}' already deleted"),$e(fn,"no-options","Need to provide options, when not being deployed to hosting via source."),$e(fn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),$e(fn,"invalid-log-argument","First argument to `onLog` must be null or a function."),$e(fn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),$e(fn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),$e(fn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),$e(fn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),fn),An=new xt("app","Firebase",Nn),On=function(){function e(t,n,r){var i=this;h(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ft("app",(function(){return i}),"PUBLIC"))}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}]),e}(),Rn="10.3.1";function Pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:xn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw An.create("bad-app-name",{appName:String(i)});if(n||(n=pt()),!n)throw An.create("no-options");var a=Sn.get(i);if(a){if(_t(n,a.options)&&_t(r,a.config))return a;throw An.create("duplicate-app",{appName:i})}var o,s=new Ht(i),u=_(_n.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new On(n,r,s);return Sn.set(i,l),l}function Dn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn,t=Sn.get(e);if(!t&&e===xn&&pt())return Pn();if(!t)throw An.create("no-app",{appName:e});return t}function Ln(e,t,n){var r,i=null!==(r=En[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void wn.warn(s.join(" "))}In(new Ft("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Mn="firebase-heartbeat-database",jn=1,Fn="firebase-heartbeat-store",Un=null;function Vn(){return Un||(Un=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=un(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(un(s.result),e.oldVersion,e.newVersion,un(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Mn,jn,{upgrade:function(e,t){if(0===t)e.createObjectStore(Fn)}}).catch((function(e){throw An.create("idb-open",{originalErrorMessage:e.message})}))),Un}function zn(e){return(hn=hn||rt(Ze().mark((function e(t){var n,r,i;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vn();case 3:return n=e.sent,e.next=6,n.transaction(Fn).objectStore(Fn).get(Hn(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof wt?wn.warn(e.t0.message):(i=An.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),wn.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Bn(e,t){return(dn=dn||rt(Ze().mark((function e(t,n){var r,i,a,o;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vn();case 3:return r=e.sent,i=r.transaction(Fn,"readwrite"),a=i.objectStore(Fn),e.next=8,a.put(n,Hn(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof wt?wn.warn(e.t0.message):(o=An.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),wn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function Hn(e){return"".concat(e.name,"!").concat(e.options.appId)}var qn=function(e,t){function n(e){var t=this;h(this,n),this.container=e,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Qn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return t._heartbeatsCache=e,e}))}return m(n,[{key:"triggerHeartbeat",value:function(){return(e=e||rt(Ze().mark((function e(){var t,n,r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Kn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getHeartbeatsHeader",value:function(){return(t=t||rt(Ze().mark((function e(){var t,n,r,i,a;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Kn(),n=Wn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ct(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),n}();function Kn(){return(new Date).toISOString().substring(0,10)}function Wn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=_(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Yn(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),Yn(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Gn,Qn=function(e,t,n,r){function i(e){h(this,i),this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return m(i,[{key:"runIndexedDBEnvironmentCheck",value:function(){return(e=e||rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",bt().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"read",value:function(){return(t=t||rt(Ze().mark((function e(){var t;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,zn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"overwrite",value:function(e){return(n=n||rt(Ze().mark((function e(t){var n,r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Bn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"add",value:function(e){return(r=r||rt(Ze().mark((function e(t){var n,r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Bn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(f(r.heartbeats),f(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),i}();function Yn(e){return ct(JSON.stringify({version:2,heartbeats:e})).length}Gn="",In(new Ft("platform-logger",(function(e){return new yn(e)}),"PRIVATE")),In(new Ft("heartbeat",(function(e){return new qn(e)}),"PRIVATE")),Ln(kn,bn,Gn),Ln(kn,bn,"esm2017"),Ln("fire-js","");var Xn,Jn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Zn={},$n=$n||{},er=Jn||self;function tr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function nr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var rr="closure_uid_"+(1e9*Math.random()>>>0),ir=0;function ar(e,t,n){return e.call.apply(e.bind,arguments)}function or(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function sr(e,t,n){return(sr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ar:or).apply(null,arguments)}function ur(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function cr(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function lr(){this.s=this.s,this.o=this.o}lr.prototype.s=!1,lr.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,rr)&&e[rr]||(e[rr]=++ir))},lr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var fr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function hr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function dr(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(tr(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function pr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}pr.prototype.h=function(){this.defaultPrevented=!0};var vr=function(){if(!er.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{er.addEventListener("test",(function(){}),t),er.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function mr(e){return/^[\s\xa0]*$/.test(e)}function gr(){var e=er.navigator;return e&&(e=e.userAgent)?e:""}function yr(e){return-1!=gr().indexOf(e)}function kr(e){return kr[" "](e),e}kr[" "]=function(){};var br,wr,xr=yr("Opera"),Er=yr("Trident")||yr("MSIE"),Sr=yr("Edge"),_r=Sr||Er,Tr=yr("Gecko")&&!(-1!=gr().toLowerCase().indexOf("webkit")&&!yr("Edge"))&&!(yr("Trident")||yr("MSIE"))&&!yr("Edge"),Ir=-1!=gr().toLowerCase().indexOf("webkit")&&!yr("Edge");function Cr(){var e=er.document;return e?e.documentMode:void 0}e:{var Nr="",Ar=function(){var e=gr();return Tr?/rv:([^\);]+)(\)|;)/.exec(e):Sr?/Edge\/([\d\.]+)/.exec(e):Er?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ir?/WebKit\/(\S+)/.exec(e):xr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ar&&(Nr=Ar?Ar[1]:""),Er){var Or=Cr();if(null!=Or&&Or>parseFloat(Nr)){br=String(Or);break e}}br=Nr}if(er.document&&Er){var Rr=Cr();wr=Rr||(parseInt(br,10)||void 0)}else wr=void 0;var Pr=wr;function Dr(e,t){if(pr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Tr){e:{try{kr(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Lr[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Dr.$.h.call(this)}}cr(Dr,pr);var Lr={2:"touch",3:"pen",4:"mouse"};Dr.prototype.h=function(){Dr.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Mr="closure_listenable_"+(1e6*Math.random()|0),jr=0;function Fr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++jr,this.fa=this.ia=!1}function Ur(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Vr(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function zr(e){var t={};for(var n in e)t[n]=e[n];return t}var Br="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hr(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Br.length;a++)n=Br[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function qr(e){this.src=e,this.g={},this.h=0}function Kr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=fr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ur(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Wr(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}qr.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Wr(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Fr(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Gr="closure_lm_"+(1e6*Math.random()|0),Qr={};function Yr(e,t,n,r,i){if(r&&r.once)return Jr(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Yr(e,t[a],n,r,i);return null}return n=ii(n),e&&e[Mr]?e.O(t,n,nr(r)?!!r.capture:!!r,i):Xr(e,t,n,!1,r,i)}function Xr(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=nr(i)?!!i.capture:!!i,s=ni(e);if(s||(e[Gr]=s=new qr(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ti;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)vr||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ei(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Jr(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Jr(e,t[a],n,r,i);return null}return n=ii(n),e&&e[Mr]?e.P(t,n,nr(r)?!!r.capture:!!r,i):Xr(e,t,n,!0,r,i)}function Zr(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Zr(e,t[a],n,r,i);else r=nr(r)?!!r.capture:!!r,n=ii(n),e&&e[Mr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Wr(a=e.g[t],n,r,i))&&(Ur(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ni(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Wr(t,n,r,i)),(n=-1<e?t[e]:null)&&$r(n))}function $r(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Mr])Kr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ei(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ni(t))?(Kr(n,e),0==n.h&&(n.src=null,t[Gr]=null)):Ur(e)}}}function ei(e){return e in Qr?Qr[e]:Qr[e]="on"+e}function ti(e,t){if(e.fa)e=!0;else{t=new Dr(t,this);var n=e.listener,r=e.la||e.src;e.ia&&$r(e),e=n.call(r,t)}return e}function ni(e){return(e=e[Gr])instanceof qr?e:null}var ri="__closure_events_fn_"+(1e9*Math.random()>>>0);function ii(e){return"function"===typeof e?e:(e[ri]||(e[ri]=function(t){return e.handleEvent(t)}),e[ri])}function ai(){lr.call(this),this.i=new qr(this),this.S=this,this.J=null}function oi(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new pr(t,e);else if(t instanceof pr)t.target=t.target||e;else{var i=t;Hr(t=new pr(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=si(o,r,!0,t)&&i}if(i=si(o=t.g=e,r,!0,t)&&i,i=si(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=si(o=t.g=n[a],r,!1,t)&&i}function si(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Kr(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}cr(ai,lr),ai.prototype[Mr]=!0,ai.prototype.removeEventListener=function(e,t,n,r){Zr(this,e,t,n,r)},ai.prototype.N=function(){if(ai.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ur(n[r]);delete t.g[e],t.h--}}this.J=null},ai.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ai.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ui=er.JSON.stringify,ci=function(){function e(t,n){h(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return m(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function li(){var e=yi,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var fi=function(){function e(){h(this,e),this.h=this.g=null}return m(e,[{key:"add",value:function(e,t){var n=hi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),hi=new ci((function(){return new di}),(function(e){return e.reset()})),di=function(){function e(){h(this,e),this.next=this.g=this.h=null}return m(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function pi(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function vi(e){er.setTimeout((function(){throw e}),0)}var mi,gi=!1,yi=new fi,ki=function(){var e=er.Promise.resolve(void 0);mi=function(){e.then(bi)}},bi=function(){for(var e;e=li();){try{e.h.call(e.g)}catch(n){vi(n)}var t=hi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}gi=!1};function wi(e,t){ai.call(this),this.h=e||1,this.g=t||er,this.j=sr(this.qb,this),this.l=Date.now()}function xi(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ei(e,t,n){if("function"===typeof e)n&&(e=sr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=sr(e.handleEvent,e)}return 2147483647<Number(t)?-1:er.setTimeout(e,t||0)}function Si(e){e.g=Ei((function(){e.g=null,e.i&&(e.i=!1,Si(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}cr(wi,ai),(Xn=wi.prototype).ga=!1,Xn.T=null,Xn.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),oi(this,"tick"),this.ga&&(xi(this),this.start()))}},Xn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xn.N=function(){wi.$.N.call(this),xi(this),delete this.g};var _i=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return m(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Si(this)}},{key:"N",value:function(){at(k(n.prototype),"N",this).call(this),this.g&&(er.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(lr);function Ti(e){lr.call(this),this.h=e,this.g={}}cr(Ti,lr);var Ii=[];function Ci(e,t,n,r){Array.isArray(n)||(n&&(Ii[0]=n.toString()),n=Ii);for(var i=0;i<n.length;i++){var a=Yr(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ni(e){Vr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&$r(e)}),e),e.g={}}function Ai(){this.g=!0}function Oi(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ui(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Ti.prototype.N=function(){Ti.$.N.call(this),Ni(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ai.prototype.Ea=function(){this.g=!1},Ai.prototype.info=function(){};var Ri={},Pi=null;function Di(){return Pi=Pi||new ai}function Li(e){pr.call(this,Ri.Ta,e)}function Mi(e){var t=Di();oi(t,new Li(t))}function ji(e,t){pr.call(this,Ri.STAT_EVENT,e),this.stat=t}function Fi(e){var t=Di();oi(t,new ji(t,e))}function Ui(e,t){pr.call(this,Ri.Ua,e),this.size=t}function Vi(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return er.setTimeout((function(){e()}),t)}Ri.Ta="serverreachability",cr(Li,pr),Ri.STAT_EVENT="statevent",cr(ji,pr),Ri.Ua="timingevent",cr(Ui,pr);var zi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Bi={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hi(){}function qi(e){return e.h||(e.h=e.i())}function Ki(){}Hi.prototype.h=null;var Wi,Gi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Qi(){pr.call(this,"d")}function Yi(){pr.call(this,"c")}function Xi(){}function Ji(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ti(this),this.P=$i,e=_r?125:void 0,this.V=new wi(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Zi}function Zi(){this.i=null,this.g="",this.h=!1}cr(Qi,pr),cr(Yi,pr),cr(Xi,Hi),Xi.prototype.g=function(){return new XMLHttpRequest},Xi.prototype.i=function(){return{}},Wi=new Xi;var $i=45e3,ea={},ta={};function na(e,t,n){e.L=1,e.v=wa(ma(t)),e.s=n,e.S=!0,ra(e,null)}function ra(e,t){e.G=Date.now(),sa(e),e.A=ma(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Da(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Zi,e.g=Mo(e.l,n?t:null,!e.s),0<e.O&&(e.M=new _i(sr(e.Pa,e,e.g),e.O)),Ci(e.U,e.g,"readystatechange",e.nb),t=e.I?zr(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Mi(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function ia(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function aa(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=oa(e,n))==ta){4==t&&(e.o=4,Fi(14),i=!1),Oi(e.j,e.m,null,"[Incomplete Response]");break}if(r==ea){e.o=4,Fi(15),Oi(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Oi(e.j,e.m,r,null),ha(e,r)}ia(e)&&r!=ta&&r!=ea&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Fi(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Co(t),t.M=!0,Fi(11))):(Oi(e.j,e.m,n,"[Invalid Chunked Response]"),fa(e),la(e))}function oa(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ta:(n=Number(t.substring(n,r)),isNaN(n)?ea:(r+=1)+n>t.length?ta:(t=t.slice(r,r+n),e.C=r+n,t))}function sa(e){e.Y=Date.now()+e.P,ua(e,e.P)}function ua(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Vi(sr(e.lb,e),t)}function ca(e){e.B&&(er.clearTimeout(e.B),e.B=null)}function la(e){0==e.l.H||e.J||Oo(e.l,e)}function fa(e){ca(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,xi(e.V),Ni(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ha(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||za(n.i,e)))if(!e.K&&za(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Ao(n),bo(n)}Io(n),Fi(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Vi(sr(n.ib,n),6e3));if(1>=Va(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Po(n,11)}else if((e.K||n.g==e)&&Ao(n),!mr(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Ba(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,ba(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Lo(r,r.J?r.pa:null,r.Y),d.K){Ha(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(ca(p),sa(p)),r.g=d}else To(r);0<n.j.length&&xo(n)}else"stop"!=a[0]&&"close"!=a[0]||Po(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Po(n,7):ko(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Mi()}catch(a){}}function da(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(tr(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(tr(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(tr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Xn=Ji.prototype).setTimeout=function(e){this.P=e},Xn.nb=function(e){e=e.target;var t=this.M;t&&3==ho(e)?t.l():this.Pa(e)},Xn.Pa=function(e){try{if(e==this.g)e:{var t=ho(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||_r||this.g&&(this.h.h||this.g.ja()||po(this.g)))){this.J||4!=t||7==n||Mi(),ca(this);var r=this.g.da();this.ca=r;t:if(ia(this)){var i=po(this.g);e="";var a=i.length,o=4==ho(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){fa(this),la(this);var s="";break t}this.h.i=new er.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mr(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Fi(12),fa(this),la(this);break e}Oi(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ha(this,r)}this.S?(aa(this,t,s),_r&&this.i&&3==t&&(Ci(this.U,this.V,"tick",this.mb),this.V.start())):(Oi(this.j,this.m,s,null),ha(this,s)),4==t&&fa(this),this.i&&!this.J&&(4==t?Oo(this.l,this):(this.i=!1,sa(this)))}else(function(e){var t={};e=(e.g&&2<=ho(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!mr(e[n])){var r=pi(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Fi(12)):(this.o=0,Fi(13)),fa(this),la(this)}}}catch(t){}},Xn.mb=function(){if(this.g){var e=ho(this.g),t=this.g.ja();this.C<t.length&&(ca(this),aa(this,e,t),this.i&&4!=e&&sa(this))}},Xn.cancel=function(){this.J=!0,fa(this)},Xn.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Mi(),Fi(17)),fa(this),this.o=2,la(this)):ua(this,this.Y-e)};var pa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof va){this.h=e.h,ga(this,e.j),this.s=e.s,this.g=e.g,ya(this,e.m),this.l=e.l;var t=e.i,n=new Aa;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ka(this,n),this.o=e.o}else e&&(t=String(e).match(pa))?(this.h=!1,ga(this,t[1]||"",!0),this.s=xa(t[2]||""),this.g=xa(t[3]||"",!0),ya(this,t[4]),this.l=xa(t[5]||"",!0),ka(this,t[6]||"",!0),this.o=xa(t[7]||"")):(this.h=!1,this.i=new Aa(null,this.h))}function ma(e){return new va(e)}function ga(e,t,n){e.j=n?xa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ya(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ka(e,t,n){t instanceof Aa?(e.i=t,function(e,t){t&&!e.j&&(Oa(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ra(this,t),Da(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ea(t,Ca)),e.i=new Aa(t,e.h))}function ba(e,t,n){e.i.set(t,n)}function wa(e){return ba(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function xa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ea(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Sa),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Sa(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}va.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ea(t,_a,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ea(t,_a,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ea(n,"/"==n.charAt(0)?Ia:Ta,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ea(n,Na)),e.join("")};var _a=/[#\/\?@]/g,Ta=/[#\?:]/g,Ia=/[#\?]/g,Ca=/[#\?@]/g,Na=/#/g;function Aa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Oa(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ra(e,t){Oa(e),t=La(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Pa(e,t){return Oa(e),t=La(e,t),e.g.has(t)}function Da(e,t,n){Ra(e,t),0<n.length&&(e.i=null,e.g.set(La(e,t),hr(n)),e.h+=n.length)}function La(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Xn=Aa.prototype).add=function(e,t){Oa(this),this.i=null,e=La(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Xn.forEach=function(e,t){Oa(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Xn.ta=function(){Oa(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Xn.Z=function(e){Oa(this);var t=[];if("string"===typeof e)Pa(this,e)&&(t=t.concat(this.g.get(La(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Xn.set=function(e,t){return Oa(this),this.i=null,Pa(this,e=La(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Xn.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Xn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Ma=m((function e(t,n){h(this,e),this.g=t,this.map=n}));function ja(e){this.l=e||Fa,er.PerformanceNavigationTiming?e=0<(e=er.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(er.g&&er.g.Ka&&er.g.Ka()&&er.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Fa=10;function Ua(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Va(e){return e.h?1:e.g?e.g.size:0}function za(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ba(e,t){e.g?e.g.add(t):e.h=t}function Ha(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function qa(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=_(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return hr(e.i)}ja.prototype.cancel=function(){if(this.i=qa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=_(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Ka,Wa=function(){function e(){h(this,e)}return m(e,[{key:"stringify",value:function(e){return er.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return er.JSON.parse(e,void 0)}}]),e}();function Ga(){this.g=new Wa}function Qa(e,t,n){var r=n||"";try{da(e,(function(e,n){var i=e;nr(e)&&(i=ui(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ya(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Xa(e){this.l=e.fc||null,this.j=e.ob||!1}function Ja(e,t){ai.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Za,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cr(Xa,Hi),Xa.prototype.g=function(){return new Ja(this.l,this.j)},Xa.prototype.i=(Ka={},function(){return Ka}),cr(Ja,ai);var Za=0;function $a(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function eo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,to(e)}function to(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Xn=Ja.prototype).open=function(e,t){if(this.readyState!=Za)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,to(this)},Xn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||er).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Xn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,eo(this)),this.readyState=Za},Xn.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,to(this)),this.g&&(this.readyState=3,to(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof er.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$a(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Xn.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?eo(this):to(this),3==this.readyState&&$a(this)}},Xn.Za=function(e){this.g&&(this.response=this.responseText=e,eo(this))},Xn.Ya=function(e){this.g&&(this.response=e,eo(this))},Xn.ka=function(){this.g&&eo(this)},Xn.setRequestHeader=function(e,t){this.v.append(e,t)},Xn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Xn.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ja.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var no=er.JSON.parse;function ro(e){ai.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=io,this.L=this.M=!1}cr(ro,ai);var io="",ao=/^https?$/i,oo=["POST","PUT"];function so(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,uo(e),lo(e)}function uo(e){e.F||(e.F=!0,oi(e,"complete"),oi(e,"error"))}function co(e){if(e.h&&"undefined"!=typeof $n&&(!e.C[1]||4!=ho(e)||2!=e.da()))if(e.v&&4==ho(e))Ei(e.La,0,e);else if(oi(e,"readystatechange"),4==ho(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(pa)[1]||null;!a&&er.self&&er.self.location&&(a=er.self.location.protocol.slice(0,-1)),i=!ao.test(a?a.toLowerCase():"")}t=i}if(t)oi(e,"complete"),oi(e,"success");else{e.m=6;try{var o=2<ho(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",uo(e)}}finally{lo(e)}}}function lo(e,t){if(e.g){fo(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||oi(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function fo(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(er.clearTimeout(e.A),e.A=null)}function ho(e){return e.g?e.g.readyState:0}function po(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case io:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(eu){return null}}function vo(e){var t="";return Vr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function mo(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=vo(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ba(e,t,n))}function go(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function yo(e){this.Ga=0,this.j=[],this.l=new Ai,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=go("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=go("baseRetryDelayMs",5e3,e),this.hb=go("retryDelaySeedMs",1e4,e),this.eb=go("forwardChannelMaxRetries",2,e),this.xa=go("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ja(e&&e.concurrentRequestLimit),this.Ja=new Ga,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ko(e){if(wo(e),3==e.H){var t=e.W++,n=ma(e.I);if(ba(n,"SID",e.K),ba(n,"RID",t),ba(n,"TYPE","terminate"),So(e,n),(t=new Ji(e,e.l,t)).L=2,t.v=wa(ma(n)),n=!1,er.navigator&&er.navigator.sendBeacon)try{n=er.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&er.Image&&((new Image).src=t.v,n=!0),n||(t.g=Mo(t.l,null),t.g.ha(t.v)),t.G=Date.now(),sa(t)}Do(e)}function bo(e){e.g&&(Co(e),e.g.cancel(),e.g=null)}function wo(e){bo(e),e.u&&(er.clearTimeout(e.u),e.u=null),Ao(e),e.i.cancel(),e.m&&("number"===typeof e.m&&er.clearTimeout(e.m),e.m=null)}function xo(e){if(!Ua(e.i)&&!e.m){e.m=!0;var t=e.Na;mi||ki(),gi||(mi(),gi=!0),yi.add(t,e),e.C=0}}function Eo(e,t){var n;n=t?t.m:e.W++;var r=ma(e.I);ba(r,"SID",e.K),ba(r,"RID",n),ba(r,"AID",e.V),So(e,r),e.o&&e.s&&mo(r,e.o,e.s),n=new Ji(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=_o(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ba(e.i,n),na(n,r,t)}function So(e,t){e.na&&Vr(e.na,(function(e,n){ba(t,n,e)})),e.h&&da({},(function(e,n){ba(t,n,e)}))}function _o(e,t,n){n=Math.min(e.j.length,n);var r=e.h?sr(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{Qa(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function To(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;mi||ki(),gi||(mi(),gi=!0),yi.add(t,e),e.A=0}}function Io(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Vi(sr(e.Ma,e),Ro(e,e.A)),e.A++,!0)}function Co(e){null!=e.B&&(er.clearTimeout(e.B),e.B=null)}function No(e){e.g=new Ji(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=ma(e.wa);ba(t,"RID","rpc"),ba(t,"SID",e.K),ba(t,"AID",e.V),ba(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ba(t,"TO",e.qa),ba(t,"TYPE","xmlhttp"),So(e,t),e.o&&e.s&&mo(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=wa(ma(t)),n.s=null,n.S=!0,ra(n,e)}function Ao(e){null!=e.v&&(er.clearTimeout(e.v),e.v=null)}function Oo(e,t){var n=null;if(e.g==t){Ao(e),Co(e),e.g=null;var r=2}else{if(!za(e.i,t))return;n=t.F,Ha(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;oi(r=Di(),new Ui(r,n)),xo(e)}else To(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Va(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Vi(sr(e.Na,e,t),Ro(e,e.C)),e.C++,!0))}(e,t)||2==r&&Io(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Po(e,5);break;case 4:Po(e,10);break;case 3:Po(e,6);break;default:Po(e,2)}}function Ro(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Po(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=sr(e.pb,e);n||(n=new va("//www.google.com/images/cleardot.gif"),er.location&&"http"==er.location.protocol||ga(n,"https"),wa(n)),function(e,t){var n=new Ai;if(er.Image){var r=new Image;r.onload=ur(Ya,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ur(Ya,n,r,"TestLoadImage: error",!1,t),r.onabort=ur(Ya,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ur(Ya,n,r,"TestLoadImage: timeout",!1,t),er.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Fi(2);e.H=0,e.h&&e.h.za(t),Do(e),wo(e)}function Do(e){if(e.H=0,e.ma=[],e.h){var t=qa(e.i);0==t.length&&0==e.j.length||(dr(e.ma,t),dr(e.ma,e.j),e.i.i.length=0,hr(e.j),e.j.length=0),e.h.ya()}}function Lo(e,t,n){var r=n instanceof va?ma(n):new va(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ya(r,r.m);else{var i=er.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new va(null);r&&ga(a,r),t&&(a.g=t),i&&ya(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&ba(r,n,t),ba(r,"VER",e.ra),So(e,r),r}function Mo(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new ro(new Xa({ob:!0})):new ro(e.va)).Oa(e.J),t}function jo(){}function Fo(){if(Er&&!(10<=Number(Pr)))throw Error("Environmental error: no available transport.")}function Uo(e,t){ai.call(this),this.g=new yo(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!mr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!mr(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Bo(this)}function Vo(e){Qi.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function zo(){Yi.call(this),this.status=1}function Bo(e){this.g=e}function Ho(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function qo(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Ko(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Xn=ro.prototype).Oa=function(e){this.M=e},Xn.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Wi.g(),this.C=this.u?qi(this.u):qi(Wi),this.g.onreadystatechange=sr(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void so(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=_(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=er.FormData&&e instanceof er.FormData,!(0<=fr(oo,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,l=_(n);try{for(l.s();!(u=l.n()).done;){var f=c(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fo(this),0<this.B&&((this.L=function(e){return Er&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sr(this.ua,this)):this.A=Ei(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){so(this,s)}},Xn.ua=function(){"undefined"!=typeof $n&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,oi(this,"timeout"),this.abort(8))},Xn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,oi(this,"complete"),oi(this,"abort"),lo(this))},Xn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lo(this,!0)),ro.$.N.call(this)},Xn.La=function(){this.s||(this.G||this.v||this.l?co(this):this.kb())},Xn.kb=function(){co(this)},Xn.isActive=function(){return!!this.g},Xn.da=function(){try{return 2<ho(this)?this.g.status:-1}catch(Ka){return-1}},Xn.ja=function(){try{return this.g?this.g.responseText:""}catch(Ka){return""}},Xn.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),no(t)}},Xn.Ia=function(){return this.m},Xn.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Xn=yo.prototype).ra=8,Xn.H=1,Xn.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Ji(this,this.l,e),n=this.s;if(this.U&&(n?Hr(n=zr(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=_o(this,t,r),ba(i=ma(this.I),"RID",e),ba(i,"CVER",22),this.F&&ba(i,"X-HTTP-Session-Id",this.F),So(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(vo(n)))+"&"+r:this.o&&mo(i,this.o,n)),Ba(this.i,t),this.bb&&ba(i,"TYPE","init"),this.P?(ba(i,"$req",r),ba(i,"SID","null"),t.aa=!0,na(t,i,null)):na(t,i,r),this.H=2}}else 3==this.H&&(e?Eo(this,e):0==this.j.length||Ua(this.i)||Eo(this))},Xn.Ma=function(){if(this.u=null,No(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Vi(sr(this.jb,this),e)}},Xn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Fi(10),bo(this),No(this))},Xn.ib=function(){null!=this.v&&(this.v=null,bo(this),Io(this),Fi(19))},Xn.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Fi(2)):(this.l.info("Failed to ping google.com"),Fi(1))},Xn.isActive=function(){return!!this.h&&this.h.isActive(this)},(Xn=jo.prototype).Ba=function(){},Xn.Aa=function(){},Xn.za=function(){},Xn.ya=function(){},Xn.isActive=function(){return!0},Xn.Va=function(){},Fo.prototype.g=function(e,t){return new Uo(e,t)},cr(Uo,ai),Uo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Fi(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Lo(e,null,e.Y),xo(e)},Uo.prototype.close=function(){ko(this.g)},Uo.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ui(e),e=n);t.j.push(new Ma(t.fb++,e)),3==t.H&&xo(t)},Uo.prototype.N=function(){this.g.h=null,delete this.j,ko(this.g),delete this.g,Uo.$.N.call(this)},cr(Vo,Qi),cr(zo,Yi),cr(Bo,jo),Bo.prototype.Ba=function(){oi(this.g,"a")},Bo.prototype.Aa=function(e){oi(this.g,new Vo(e))},Bo.prototype.za=function(e){oi(this.g,new zo)},Bo.prototype.ya=function(){oi(this.g,"b")},cr(Ho,(function(){this.blockSize=-1})),Ho.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ho.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)qo(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){qo(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){qo(this,r),i=0;break}}this.h=i,this.i+=t},Ho.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Wo={};function Go(e){return-128<=e&&128>e?function(e,t){var n=Wo;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Ko([0|e],0>e?-1:0)})):new Ko([0|e],0>e?-1:0)}function Qo(e){if(isNaN(e)||!isFinite(e))return Xo;if(0>e)return ts(Qo(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Yo;return new Ko(t,0)}var Yo=4294967296,Xo=Go(0),Jo=Go(1),Zo=Go(16777216);function $o(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function es(e){return-1==e.h}function ts(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ko(n,~e.h).add(Jo)}function ns(e,t){return e.add(ts(t))}function rs(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function is(e,t){this.g=e,this.h=t}function as(e,t){if($o(t))throw Error("division by zero");if($o(e))return new is(Xo,Xo);if(es(e))return t=as(ts(e),t),new is(ts(t.g),ts(t.h));if(es(t))return t=as(e,ts(t)),new is(ts(t.g),t.h);if(30<e.g.length){if(es(e)||es(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Jo,r=t;0>=r.X(e);)n=os(n),r=os(r);var i=ss(n,1),a=ss(r,1);for(r=ss(r,2),n=ss(n,2);!$o(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=ss(r,1),n=ss(n,1)}return t=ns(e,i.R(t)),new is(i,t)}for(i=Xo;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Qo(n)).R(t);es(o)||0<o.X(e);)o=(a=Qo(n-=r)).R(t);$o(a)&&(a=Jo),i=i.add(a),e=ns(e,o)}return new is(i,e)}function os(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ko(n,e.h)}function ss(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Ko(i,e.h)}(Xn=Ko.prototype).ea=function(){if(es(this))return-ts(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Yo+r)*t,t*=Yo}return e},Xn.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if($o(this))return"0";if(es(this))return"-"+ts(this).toString(e);for(var t=Qo(Math.pow(e,6)),n=this,r="";;){var i=as(n,t).g,a=((0<(n=ns(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if($o(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Xn.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Xn.X=function(e){return es(e=ns(this,e))?-1:$o(e)?0:1},Xn.abs=function(){return es(this)?ts(this):this},Xn.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Ko(n,-2147483648&n[n.length-1]?-1:0)},Xn.R=function(e){if($o(this)||$o(e))return Xo;if(es(this))return es(e)?ts(this).R(ts(e)):ts(ts(this).R(e));if(es(e))return ts(this.R(ts(e)));if(0>this.X(Zo)&&0>e.X(Zo))return Qo(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,rs(n,2*r+2*i),n[2*r+2*i+1]+=a*u,rs(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,rs(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,rs(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ko(n,0)},Xn.gb=function(e){return as(this,e).h},Xn.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ko(n,this.h&e.h)},Xn.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ko(n,this.h|e.h)},Xn.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ko(n,this.h^e.h)},Fo.prototype.createWebChannel=Fo.prototype.g,Uo.prototype.send=Uo.prototype.u,Uo.prototype.open=Uo.prototype.m,Uo.prototype.close=Uo.prototype.close,zi.NO_ERROR=0,zi.TIMEOUT=8,zi.HTTP_ERROR=6,Bi.COMPLETE="complete",Ki.EventType=Gi,Gi.OPEN="a",Gi.CLOSE="b",Gi.ERROR="c",Gi.MESSAGE="d",ai.prototype.listen=ai.prototype.O,ro.prototype.listenOnce=ro.prototype.P,ro.prototype.getLastError=ro.prototype.Sa,ro.prototype.getLastErrorCode=ro.prototype.Ia,ro.prototype.getStatus=ro.prototype.da,ro.prototype.getResponseJson=ro.prototype.Wa,ro.prototype.getResponseText=ro.prototype.ja,ro.prototype.send=ro.prototype.ha,ro.prototype.setWithCredentials=ro.prototype.Oa,Ho.prototype.digest=Ho.prototype.l,Ho.prototype.reset=Ho.prototype.reset,Ho.prototype.update=Ho.prototype.j,Ko.prototype.add=Ko.prototype.add,Ko.prototype.multiply=Ko.prototype.R,Ko.prototype.modulo=Ko.prototype.gb,Ko.prototype.compare=Ko.prototype.X,Ko.prototype.toNumber=Ko.prototype.ea,Ko.prototype.toString=Ko.prototype.toString,Ko.prototype.getBits=Ko.prototype.D,Ko.fromNumber=Qo,Ko.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ts(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Qo(Math.pow(n,8)),i=Xo,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Qo(Math.pow(n,o)),i=i.R(o).add(Qo(s))):i=(i=i.R(r)).add(Qo(s))}return i};var us,cs,ls,fs,hs,ds,ps,vs,ms,gs,ys,ks,bs,ws,xs,Es,Ss,_s,Ts,Is,Cs,Ns,As,Os,Rs,Ps,Ds,Ls,Ms,js,Fs,Us,Vs,zs=Zn.createWebChannelTransport=function(){return new Fo},Bs=Zn.getStatEventTarget=function(){return Di()},Hs=Zn.ErrorCode=zi,qs=Zn.EventType=Bi,Ks=Zn.Event=Ri,Ws=Zn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Gs=(Zn.FetchXmlHttpFactory=Xa,Zn.WebChannel=Ki),Qs=Zn.XhrIo=ro,Ys=Zn.Md5=Ho,Xs=Zn.Integer=Ko,Js="@firebase/firestore",Zs=function(){function e(t){h(this,e),this.uid=t}return m(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Zs.UNAUTHENTICATED=new Zs(null),Zs.GOOGLE_CREDENTIALS=new Zs("google-credentials-uid"),Zs.FIRST_PARTY=new Zs("first-party-uid"),Zs.MOCK_USER=new Zs("mock-user");var $s="10.3.1",eu=new Yt("@firebase/firestore");function tu(){return eu.logLevel}function nu(e){if(eu.logLevel<=Bt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(au);eu.debug.apply(eu,["Firestore (".concat($s,"): ").concat(e)].concat(f(i)))}}function ru(e){if(eu.logLevel<=Bt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(au);eu.error.apply(eu,["Firestore (".concat($s,"): ").concat(e)].concat(f(i)))}}function iu(e){if(eu.logLevel<=Bt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(au);eu.warn.apply(eu,["Firestore (".concat($s,"): ").concat(e)].concat(f(i)))}}function au(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function ou(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat($s,") INTERNAL ASSERTION FAILED: ")+e;throw ru(t),new Error(t)}function su(e,t){e||ou()}function uu(e,t){return e}var cu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},lu=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return m(n)}(wt),fu=m((function e(){var t=this;h(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),hu=m((function e(t,n){h(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),du=function(){function e(){h(this,e)}return m(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Zs.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),pu=function(){function e(t){h(this,e),this.token=t,this.changeListener=null}return m(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),vu=function(){function e(t){h(this,e),this.t=t,this.currentUser=Zs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new fu;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new fu,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){nu("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(nu("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new fu)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(nu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(su("string"==typeof n.accessToken),new hu(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return su(null===e||"string"==typeof e),new Zs(e)}}]),e}(),mu=function(){function e(t,n,r){h(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Zs.FIRST_PARTY,this.I=new Map}return m(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),gu=function(){function e(t,n,r){h(this,e),this.l=t,this.h=n,this.P=r}return m(e,[{key:"getToken",value:function(){return Promise.resolve(new mu(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Zs.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),yu=m((function e(t){h(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),ku=function(){function e(t){h(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&nu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,nu("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){nu("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):nu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(su("string"==typeof t.token),e.R=t.token,new yu(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function bu(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var wu=function(){function e(){h(this,e)}return m(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=bu(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function xu(e,t){return e<t?-1:e>t?1:0}function Eu(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Su=function(){function e(t,n){if(h(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new lu(cu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lu(cu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new lu(cu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lu(cu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return m(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?xu(this.nanoseconds,e.nanoseconds):xu(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),_u=function(){function e(t){h(this,e),this.timestamp=t}return m(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Su(0,0))}},{key:"max",value:function(){return new e(new Su(253402300799,999999999))}}]),e}(),Tu=function(){function e(t,n,r){h(this,e),void 0===n?n=0:n>t.length&&ou(),void 0===r?r=t.length-n:r>t.length-n&&ou(),this.segments=t,this.offset=n,this.len=r}return m(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Iu=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new lu(cu.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,f(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Tu),Cu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Nu=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Cu.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new lu(cu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new lu(cu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new lu(cu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new lu(cu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Tu),Au=function(){function e(t){h(this,e),this.path=t}return m(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Iu.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Iu.fromString(t))}},{key:"fromName",value:function(t){return new e(Iu.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Iu.emptyPath())}},{key:"comparator",value:function(e,t){return Iu.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Iu(t.slice()))}}]),e}(),Ou=m((function e(t,n,r,i){h(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Ou.UNKNOWN_ID=-1;function Ru(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=_u.fromTimestamp(1e9===r?new Su(n+1,0):new Su(n,r));return new Du(i,Au.empty(),t)}function Pu(e){return new Du(e.readTime,e.key,-1)}var Du=function(){function e(t,n,r){h(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return m(e,null,[{key:"min",value:function(){return new e(_u.min(),Au.empty(),-1)}},{key:"max",value:function(){return new e(_u.max(),Au.empty(),-1)}}]),e}();function Lu(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Au.comparator(e.documentKey,t.documentKey))?n:xu(e.largestBatchId,t.largestBatchId)}var Mu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ju=function(){function e(){h(this,e),this.onCommittedListeners=[]}return m(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Fu(e){return(us=us||rt(Ze().mark((function e(t){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===cu.FAILED_PRECONDITION&&t.message===Mu){e.next=2;break}throw t;case 2:nu("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Uu=function(){function e(t){var n=this;h(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return m(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ou(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=_(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function Vu(e){return"IndexedDbTransactionError"===e.name}var zu=function(){function e(t,n){var r=this;h(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return m(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function Bu(e){return null==e}function Hu(e){return 0===e&&1/e==-1/0}function qu(e){return"number"==typeof e&&Number.isInteger(e)&&!Hu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}zu.ae=-1;var Ku=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Wu=([].concat(f(Ku),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),Gu=Wu;[].concat(Gu,["indexConfiguration","indexState","indexEntries"]);function Qu(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yu(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Xu(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ju=function(){function e(t,n){h(this,e),this.comparator=t,this.root=n||$u.EMPTY}return m(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$u.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$u.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Zu(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Zu(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Zu(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Zu(this.root,e,this.comparator,!0)}}]),e}(),Zu=function(){function e(t,n,r,i){h(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return m(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),$u=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return m(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ou();if(this.right.isRed())throw ou();var e=this.left.check();if(e!==this.right.check())throw ou();return e+(this.isRed()?0:1)}}]),e}();$u.EMPTY=null,$u.RED=!0,$u.BLACK=!1,$u.EMPTY=new(function(){function e(){h(this,e),this.size=0}return m(e,[{key:"key",get:function(){throw ou()}},{key:"value",get:function(){throw ou()}},{key:"color",get:function(){throw ou()}},{key:"left",get:function(){throw ou()}},{key:"right",get:function(){throw ou()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new $u(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ec=function(){function e(t){h(this,e),this.comparator=t,this.data=new Ju(this.comparator)}return m(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new tc(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new tc(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),tc=function(){function e(t){h(this,e),this.iter=t}return m(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var nc=function(){function e(t){h(this,e),this.fields=t,t.sort(Nu.comparator)}return m(e,[{key:"unionWith",value:function(t){var n,r=new ec(Nu.comparator),i=_(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=_(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=_(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Eu(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),rc=function(e){y(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return m(n)}(S(Error));var ic=function(e){function t(e){h(this,t),this.binaryString=e}return m(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return xu(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new rc("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ic.EMPTY_BYTE_STRING=new ic("");var ac=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oc(e){if(su(!!e),"string"==typeof e){var t=0,n=ac.exec(e);if(su(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:sc(e.seconds),nanos:sc(e.nanos)}}function sc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function uc(e){return"string"==typeof e?ic.fromBase64String(e):ic.fromUint8Array(e)}function cc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function lc(e){var t=e.mapValue.fields.__previous_value__;return cc(t)?lc(t):t}function fc(e){var t=oc(e.mapValue.fields.__local_write_time__.timestampValue);return new Su(t.seconds,t.nanos)}var hc=m((function e(t,n,r,i,a,o,s,u,c){h(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),dc=function(){function e(t,n){h(this,e),this.projectId=t,this.database=n||"(default)"}return m(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),pc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?cc(e)?4:Nc(e)?9007199254740991:10:ou()}function mc(e,t){if(e===t)return!0;var n=vc(e);if(n!==vc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fc(e).isEqual(fc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=oc(e.timestampValue),r=oc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return uc(e.bytesValue).isEqual(uc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return sc(e.geoPointValue.latitude)===sc(t.geoPointValue.latitude)&&sc(e.geoPointValue.longitude)===sc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return sc(e.integerValue)===sc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=sc(e.doubleValue),r=sc(t.doubleValue);return n===r?Hu(n)===Hu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Eu(e.arrayValue.values||[],t.arrayValue.values||[],mc);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Qu(n)!==Qu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!mc(n[i],r[i])))return!1;return!0}(e,t);default:return ou()}}function gc(e,t){return void 0!==(e.values||[]).find((function(e){return mc(e,t)}))}function yc(e,t){if(e===t)return 0;var n=vc(e),r=vc(t);if(n!==r)return xu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=sc(e.integerValue||e.doubleValue),r=sc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return kc(e.timestampValue,t.timestampValue);case 4:return kc(fc(e),fc(t));case 5:return xu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=uc(e),r=uc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=xu(n[i],r[i]);if(0!==a)return a}return xu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=xu(sc(e.latitude),sc(t.latitude));return 0!==n?n:xu(sc(e.longitude),sc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=yc(n[i],r[i]);if(a)return a}return xu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===pc.mapValue&&t===pc.mapValue)return 0;if(e===pc.mapValue)return 1;if(t===pc.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=xu(r[o],a[o]);if(0!==s)return s;var u=yc(n[r[o]],i[a[o]]);if(0!==u)return u}return xu(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ou()}}function kc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return xu(e,t);var n=oc(e),r=oc(t),i=xu(n.seconds,r.seconds);return 0!==i?i:xu(n.nanos,r.nanos)}function bc(e){return wc(e)}function wc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=oc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return uc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Au.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=_(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=wc(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=_(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(wc(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ou()}function xc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ec(e){return!!e&&"integerValue"in e}function Sc(e){return!!e&&"arrayValue"in e}function _c(e){return!!e&&"nullValue"in e}function Tc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ic(e){return!!e&&"mapValue"in e}function Cc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Yu(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Cc(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Cc(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Nc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Ac=function(){function e(t){h(this,e),this.value=t}return m(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ic(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cc(t)}},{key:"setAll",value:function(e){var t=this,n=Nu.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Cc(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ic(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return mc(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ic(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Yu(t,(function(t,n){return e[t]=n}));var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Cc(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Oc(e){var t=[];return Yu(e.fields,(function(e,n){var r=new Nu([e]);if(Ic(n)){var i=Oc(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=_(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new nc(t)}var Rc=function(){function e(t,n,r,i,a,o,s){h(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return m(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(_u.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ac.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ac.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=_u.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,_u.min(),_u.min(),_u.min(),Ac.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,_u.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,_u.min(),_u.min(),Ac.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,_u.min(),_u.min(),Ac.empty(),2)}}]),e}(),Pc=m((function e(t,n){h(this,e),this.position=t,this.inclusive=n}));function Dc(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Au.comparator(Au.fromName(o.referenceValue),n.key):yc(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Lc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!mc(e.position[n],t.position[n]))return!1;return!0}var Mc=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";h(this,e),this.field=t,this.dir=n}));function jc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Fc=m((function e(){h(this,e)})),Uc=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(yc(t,this.value)):null!==t&&vc(this.value)===vc(t)&&this.matchesComparison(yc(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ou()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Gc(e,t,r):"array-contains"===t?new Jc(e,r):"in"===t?new Zc(e,r):"not-in"===t?new $c(e,r):"array-contains-any"===t?new el(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Qc(e,n):new Yc(e,n)}}]),n}(Fc),Vc=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return m(n,[{key:"matches",value:function(e){return zc(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=_(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Fc);function zc(e){return"and"===e.op}function Bc(e){return Hc(e)&&zc(e)}function Hc(e){var t,n=_(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Vc)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function qc(e){if(e instanceof Uc)return e.field.canonicalString()+e.op.toString()+bc(e.value);if(Bc(e))return e.filters.map((function(e){return qc(e)})).join(",");var t=e.filters.map((function(e){return qc(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Kc(e,t){return e instanceof Uc?function(e,t){return t instanceof Uc&&e.op===t.op&&e.field.isEqual(t.field)&&mc(e.value,t.value)}(e,t):e instanceof Vc?function(e,t){return t instanceof Vc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Kc(n,t.filters[r])}),!0)}(e,t):void ou()}function Wc(e){return e instanceof Uc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(bc(e.value))}(e):e instanceof Vc?function(e){return e.op.toString()+" {"+e.getFilters().map(Wc).join(" ,")+"}"}(e):"Filter"}var Gc=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,i)).key=Au.fromName(i.referenceValue),a}return m(n,[{key:"matches",value:function(e){var t=Au.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Uc),Qc=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"in",r)).keys=Xc("in",r),i}return m(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Uc),Yc=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"not-in",r)).keys=Xc("not-in",r),i}return m(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Uc);function Xc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Au.fromName(e.referenceValue)}))}var Jc=function(e){y(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Sc(t)&&gc(t.arrayValue,this.value)}}]),n}(Uc),Zc=function(e){y(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"in",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&gc(this.value.arrayValue,t)}}]),n}(Uc),$c=function(e){y(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"not-in",r)}return m(n,[{key:"matches",value:function(e){if(gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!gc(this.value.arrayValue,t)}}]),n}(Uc),el=function(e){y(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains-any",r)}return m(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Sc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return gc(t.value.arrayValue,e)}))}}]),n}(Uc),tl=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;h(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.he=null}));function nl(e){return new tl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function rl(e){var t=uu(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return qc(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Bu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return bc(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return bc(e)})).join(",")),t.he=n}return t.he}function il(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!jc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Kc(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Lc(e.startAt,t.startAt)&&Lc(e.endAt,t.endAt)}function al(e){return Au.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var ol=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}));function sl(e,t,n,r,i,a,o,s){return new ol(e,t,n,r,i,a,o,s)}function ul(e){return new ol(e)}function cl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ll(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function fl(e){var t,n=_(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function hl(e){return null!==e.collectionGroup}function dl(e){var t=uu(e);if(null===t.Pe){t.Pe=[];var n=fl(t),r=ll(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new Mc(n)),t.Pe.push(new Mc(Nu.keyField(),"asc"));else{var i,a=!1,o=_(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.Pe.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new Mc(Nu.keyField(),u))}}}return t.Pe}function pl(e){var t=uu(e);return t.Ie||(t.Ie=vl(t,dl(e))),t.Ie}function vl(e,t){if("F"===e.limitType)return nl(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new Mc(e.field,t)}));var n=e.endAt?new Pc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Pc(e.startAt.position,e.startAt.inclusive):null;return nl(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function ml(e,t){t.getFirstInequalityField(),fl(e);var n=e.filters.concat([t]);return new ol(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function gl(e,t,n){return new ol(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yl(e,t){return il(pl(e),pl(t))&&e.limitType===t.limitType}function kl(e){return"".concat(rl(pl(e)),"|lt:").concat(e.limitType)}function bl(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Wc(e)})).join(", "),"]")),Bu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return bc(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return bc(e)})).join(",")),"Target(".concat(t,")")}(pl(e)),"; limitType=").concat(e.limitType,")")}function wl(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Au.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=_(dl(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=_(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Dc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,dl(e),t))&&!(e.endAt&&!function(e,t,n){var r=Dc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,dl(e),t))}(e,t)}function xl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function El(e){return function(t,n){var r,i=!1,a=_(dl(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Sl(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Sl(e,t,n){var r=e.field.isKeyField()?Au.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?yc(r,i):ou()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ou()}}var _l=function(){function e(t,n){h(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return m(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Yu(this.inner,(function(t,n){var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Xu(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Tl=new Ju(Au.comparator);function Il(){return Tl}var Cl=new Ju(Au.comparator);function Nl(){for(var e=Cl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Al(e){var t=Cl;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Ol(){return Pl()}function Rl(){return Pl()}function Pl(){return new _l((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Dl=new Ju(Au.comparator),Ll=new ec(Au.comparator);function Ml(){for(var e=Ll,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var jl=new ec(xu);function Fl(){return jl}function Ul(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hu(t)?"-0":t}}function Vl(e){return{integerValue:""+e}}function zl(e,t){return qu(t)?Vl(t):Ul(e,t)}var Bl=m((function e(){h(this,e),this._=void 0}));function Hl(e,t,n){return e instanceof Wl?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&cc(t)&&(t=lc(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Gl?Ql(e,t):e instanceof Yl?Xl(e,t):function(e,t){var n=Kl(e,t),r=Zl(n)+Zl(e.Te);return Ec(n)&&Ec(e.Te)?Vl(r):Ul(e.serializer,r)}(e,t)}function ql(e,t,n){return e instanceof Gl?Ql(e,t):e instanceof Yl?Xl(e,t):n}function Kl(e,t){return e instanceof Jl?function(e){return Ec(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Wl=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(Bl),Gl=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return m(n)}(Bl);function Ql(e,t){var n,r=$l(t),i=_(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return mc(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Yl=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return m(n)}(Bl);function Xl(e,t){var n,r=$l(t),i=_(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!mc(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Jl=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return m(n)}(Bl);function Zl(e){return sc(e.integerValue||e.doubleValue)}function $l(e){return Sc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ef=m((function e(t,n){h(this,e),this.version=t,this.transformResults=n})),tf=function(){function e(t,n){h(this,e),this.updateTime=t,this.exists=n}return m(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function nf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var rf=m((function e(){h(this,e)}));function af(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new gf(e.key,tf.none()):new lf(e.key,e.data,tf.none());var n,r=e.data,i=Ac.empty(),a=new ec(Nu.comparator),o=_(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new ff(e.key,i,new nc(a.toArray()),tf.none())}function of(e,t,n){e instanceof lf?function(e,t,n){var r=e.value.clone(),i=df(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ff?function(e,t,n){if(nf(e.precondition,t)){var r=df(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(hf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function sf(e,t,n,r){return e instanceof lf?function(e,t,n,r){if(!nf(e.precondition,t))return n;var i=e.value.clone(),a=pf(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ff?function(e,t,n,r){if(!nf(e.precondition,t))return n;var i=pf(e.fieldTransforms,r,t),a=t.data;return a.setAll(hf(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return nf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function uf(e,t){var n,r=null,i=_(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Kl(a.transform,o||null);null!=s&&(null===r&&(r=Ac.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function cf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Eu(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Gl&&t instanceof Gl||e instanceof Yl&&t instanceof Yl?Eu(e.elements,t.elements,mc):e instanceof Jl&&t instanceof Jl?mc(e.Te,t.Te):e instanceof Wl&&t instanceof Wl}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var lf=function(e){y(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return h(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(rf),ff=function(e){y(n,e);var t=x(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return h(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return m(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(rf);function hf(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function df(e,t,n){var r=new Map;su(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,ql(o,s,n[i]))}return r}function pf(e,t,n){var r,i=new Map,a=_(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Hl(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var vf,mf,gf=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(rf),yf=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(rf),kf=function(){function e(t,n,r,i){h(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return m(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&of(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=_(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=sf(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=_(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=sf(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Rl();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=af(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(_u.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ml())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Eu(this.mutations,e.mutations,(function(e,t){return cf(e,t)}))&&Eu(this.baseMutations,e.baseMutations,(function(e,t){return cf(e,t)}))}}]),e}(),bf=function(){function e(t,n,r,i){h(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return m(e,null,[{key:"from",value:function(t,n,r){su(t.mutations.length===r.length);for(var i=Dl,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),wf=function(){function e(t,n){h(this,e),this.largestBatchId=t,this.mutation=n}return m(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),xf=m((function e(t,n){h(this,e),this.count=t,this.unchangedNames=n}));function Ef(e){switch(e){default:return ou();case cu.CANCELLED:case cu.UNKNOWN:case cu.DEADLINE_EXCEEDED:case cu.RESOURCE_EXHAUSTED:case cu.INTERNAL:case cu.UNAVAILABLE:case cu.UNAUTHENTICATED:return!1;case cu.INVALID_ARGUMENT:case cu.NOT_FOUND:case cu.ALREADY_EXISTS:case cu.PERMISSION_DENIED:case cu.FAILED_PRECONDITION:case cu.ABORTED:case cu.OUT_OF_RANGE:case cu.UNIMPLEMENTED:case cu.DATA_LOSS:return!0}}function Sf(e){if(void 0===e)return ru("GRPC error has no .code"),cu.UNKNOWN;switch(e){case vf.OK:return cu.OK;case vf.CANCELLED:return cu.CANCELLED;case vf.UNKNOWN:return cu.UNKNOWN;case vf.DEADLINE_EXCEEDED:return cu.DEADLINE_EXCEEDED;case vf.RESOURCE_EXHAUSTED:return cu.RESOURCE_EXHAUSTED;case vf.INTERNAL:return cu.INTERNAL;case vf.UNAVAILABLE:return cu.UNAVAILABLE;case vf.UNAUTHENTICATED:return cu.UNAUTHENTICATED;case vf.INVALID_ARGUMENT:return cu.INVALID_ARGUMENT;case vf.NOT_FOUND:return cu.NOT_FOUND;case vf.ALREADY_EXISTS:return cu.ALREADY_EXISTS;case vf.PERMISSION_DENIED:return cu.PERMISSION_DENIED;case vf.FAILED_PRECONDITION:return cu.FAILED_PRECONDITION;case vf.ABORTED:return cu.ABORTED;case vf.OUT_OF_RANGE:return cu.OUT_OF_RANGE;case vf.UNIMPLEMENTED:return cu.UNIMPLEMENTED;case vf.DATA_LOSS:return cu.DATA_LOSS;default:return ou()}}(mf=vf||(vf={}))[mf.OK=0]="OK",mf[mf.CANCELLED=1]="CANCELLED",mf[mf.UNKNOWN=2]="UNKNOWN",mf[mf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mf[mf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mf[mf.NOT_FOUND=5]="NOT_FOUND",mf[mf.ALREADY_EXISTS=6]="ALREADY_EXISTS",mf[mf.PERMISSION_DENIED=7]="PERMISSION_DENIED",mf[mf.UNAUTHENTICATED=16]="UNAUTHENTICATED",mf[mf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mf[mf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mf[mf.ABORTED=10]="ABORTED",mf[mf.OUT_OF_RANGE=11]="OUT_OF_RANGE",mf[mf.UNIMPLEMENTED=12]="UNIMPLEMENTED",mf[mf.INTERNAL=13]="INTERNAL",mf[mf.UNAVAILABLE=14]="UNAVAILABLE",mf[mf.DATA_LOSS=15]="DATA_LOSS";var _f=null;function Tf(){return new TextEncoder}var If=new Xs([4294967295,4294967295],0);function Cf(e){var t=Tf().encode(e),n=new Ys;return n.update(t),new Uint8Array(n.digest())}function Nf(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Xs([n,r],0),new Xs([i,a],0)]}var Af=function(){function e(t,n,r){if(h(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Of("Invalid padding: ".concat(n));if(r<0)throw new Of("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Of("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Of("Invalid padding when bitmap length is 0: ".concat(n));this.Ae=8*t.length-n,this.Re=Xs.fromNumber(this.Ae)}return m(e,[{key:"Ve",value:function(e,t,n){var r=e.add(t.multiply(Xs.fromNumber(n)));return 1===r.compare(If)&&(r=new Xs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Re).toNumber()}},{key:"me",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ae)return!1;for(var t=c(Nf(Cf(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);if(!this.me(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ae)for(var t=c(Nf(Cf(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);this.fe(a)}}},{key:"fe",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Of=function(e){y(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return m(n)}(S(Error)),Rf=function(){function e(t,n,r,i,a){h(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return m(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Pf.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(_u.min(),i,new Ju(xu),Il(),Ml())}}]),e}(),Pf=function(){function e(t,n,r,i,a){h(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return m(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Ml(),Ml(),Ml())}}]),e}(),Df=m((function e(t,n,r,i){h(this,e),this.ge=t,this.removedTargetIds=n,this.key=r,this.pe=i})),Lf=m((function e(t,n){h(this,e),this.targetId=t,this.ye=n})),Mf=m((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ic.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),jf=function(){function e(){h(this,e),this.we=0,this.Se=Vf(),this.be=ic.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}return m(e,[{key:"current",get:function(){return this.De}},{key:"resumeToken",get:function(){return this.be}},{key:"ve",get:function(){return 0!==this.we}},{key:"Fe",get:function(){return this.Ce}},{key:"Me",value:function(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}},{key:"xe",value:function(){var e=Ml(),t=Ml(),n=Ml();return this.Se.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ou()}})),new Pf(this.be,this.De,e,t,n)}},{key:"Oe",value:function(){this.Ce=!1,this.Se=Vf()}},{key:"Ne",value:function(e,t){this.Ce=!0,this.Se=this.Se.insert(e,t)}},{key:"Be",value:function(e){this.Ce=!0,this.Se=this.Se.remove(e)}},{key:"Le",value:function(){this.we+=1}},{key:"ke",value:function(){this.we-=1}},{key:"qe",value:function(){this.Ce=!0,this.De=!0}}]),e}(),Ff=function(){function e(t){h(this,e),this.Qe=t,this.Ke=new Map,this.$e=Il(),this.Ue=Uf(),this.We=new Ju(xu)}return m(e,[{key:"Ge",value:function(e){var t,n=_(e.ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.pe&&e.pe.isFoundDocument()?this.ze(r,e.pe):this.je(r,e.key,e.pe)}}catch(s){n.e(s)}finally{n.f()}var i,a=_(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.je(o,e.key,e.pe)}}catch(s){a.e(s)}finally{a.f()}}},{key:"He",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Je(n);switch(e.state){case 0:t.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||t.removeTarget(n);break;case 3:t.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:t.Ye(n)&&(t.Ze(n),r.Me(e.resumeToken));break;default:ou()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((function(e,r){n.Ye(r)&&t(r)}))}},{key:"Xe",value:function(e){var t=e.targetId,n=e.ye.count,r=this.et(t);if(r){var i=r.target;if(al(i))if(0===n){var a=new Au(i.path);this.je(t,a,Rc.newNoDocument(a,_u.min()))}else su(1===n);else{var o=this.tt(t);if(o!==n){var s=this.nt(e),u=s?this.rt(s,e,o):1;if(0!==u){this.Ze(t);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(t,c)}null==_f||_f.it(function(e,t,n,r,i){var a,o,s,u,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(u=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.ye,this.Qe.st(),s,u))}}}}},{key:"nt",value:function(e){var t=e.ye.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,s=i.padding,u=void 0===s?0:s,c=t.hashCount,l=void 0===c?0:c;try{n=uc(o).toUint8Array()}catch(e){if(e instanceof rc)return iu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new Af(n,u,l)}catch(e){return iu(e instanceof Of?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ae?null:r}},{key:"rt",value:function(e,t,n){return t.ye.count===n-this.ot(e,t.targetId)?0:2}},{key:"ot",value:function(e,t){var n=this,r=this.Qe.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Qe.st(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.je(t,r,null),i++)})),i}},{key:"_t",value:function(e){var t=this,n=new Map;this.Ke.forEach((function(r,i){var a=t.et(i);if(a){if(r.current&&al(a.target)){var o=new Au(a.target.path);null!==t.$e.get(o)||t.ut(i,o)||t.je(i,o,Rc.newNoDocument(o,e))}r.Fe&&(n.set(i,r.xe()),r.Oe())}}));var r=Ml();this.Ue.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.et(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$e.forEach((function(t,n){return n.setReadTime(e)}));var i=new Rf(e,n,this.We,this.$e,r);return this.$e=Il(),this.Ue=Uf(),this.We=new Ju(xu),i}},{key:"ze",value:function(e,t){if(this.Ye(e)){var n=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,n),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}}},{key:"je",value:function(e,t,n){if(this.Ye(e)){var r=this.Je(e);this.ut(e,t)?r.Ne(t,1):r.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),n&&(this.$e=this.$e.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ke.delete(e)}},{key:"tt",value:function(e){var t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Le",value:function(e){this.Je(e).Le()}},{key:"Je",value:function(e){var t=this.Ke.get(e);return t||(t=new jf,this.Ke.set(e,t)),t}},{key:"ct",value:function(e){var t=this.Ue.get(e);return t||(t=new ec(xu),this.Ue=this.Ue.insert(e,t)),t}},{key:"Ye",value:function(e){var t=null!==this.et(e);return t||nu("WatchChangeAggregator","Detected inactive target",e),t}},{key:"et",value:function(e){var t=this.Ke.get(e);return t&&t.ve?null:this.Qe.lt(e)}},{key:"Ze",value:function(e){var t=this;this.Ke.set(e,new jf),this.Qe.getRemoteKeysForTarget(e).forEach((function(n){t.je(e,n,null)}))}},{key:"ut",value:function(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function Uf(){return new Ju(Au.comparator)}function Vf(){return new Ju(Au.comparator)}var zf={asc:"ASCENDING",desc:"DESCENDING"},Bf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hf={and:"AND",or:"OR"},qf=m((function e(t,n){h(this,e),this.databaseId=t,this.useProto3Json=n}));function Kf(e,t){return e.useProto3Json||Bu(t)?t:{value:t}}function Wf(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Gf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Qf(e,t){return Wf(e,t.toTimestamp())}function Yf(e){return su(!!e),_u.fromTimestamp(function(e){var t=oc(e);return new Su(t.seconds,t.nanos)}(e))}function Xf(e,t){return function(e){return new Iu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Jf(e){var t=Iu.fromString(e);return su(gh(t)),t}function Zf(e,t){return Xf(e.databaseId,t.path)}function $f(e,t){var n=Jf(t);if(n.get(1)!==e.databaseId.projectId)throw new lu(cu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new lu(cu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Au(rh(n))}function eh(e,t){return Xf(e.databaseId,t)}function th(e){var t=Jf(e);return 4===t.length?Iu.emptyPath():rh(t)}function nh(e){return new Iu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function rh(e){return su(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ih(e,t,n){return{name:Zf(e,t),fields:n.value.mapValue.fields}}function ah(e,t){var n;if(t instanceof lf)n={update:ih(e,t.key,t.value)};else if(t instanceof gf)n={delete:Zf(e,t.key)};else if(t instanceof ff)n={update:ih(e,t.key,t.data),updateMask:mh(t.fieldMask)};else{if(!(t instanceof yf))return ou();n={verify:Zf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Wl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Gl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Yl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Jl)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw ou()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Qf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ou()}(e,t.precondition)),n}function oh(e,t){return{documents:[eh(e,t.path)]}}function sh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=eh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=eh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return vh(Vc.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:dh(e.field),direction:lh(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=Kf(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function uh(e){var t=th(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){su(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=ch(e);return t instanceof Vc&&Bc(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new Mc(ph(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return Bu(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Pc(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Pc(n,t)}(n.endAt)),sl(t,i,s,o,u,"F",c,l)}function ch(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ph(e.unaryFilter.field);return Uc.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ph(e.unaryFilter.field);return Uc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ph(e.unaryFilter.field);return Uc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ph(e.unaryFilter.field);return Uc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ou()}}(e):void 0!==e.fieldFilter?function(e){return Uc.create(ph(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ou()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Vc.create(e.compositeFilter.filters.map((function(e){return ch(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ou()}}(e.compositeFilter.op))}(e):ou()}function lh(e){return zf[e]}function fh(e){return Bf[e]}function hh(e){return Hf[e]}function dh(e){return{fieldPath:e.canonicalString()}}function ph(e){return Nu.fromServerFormat(e.fieldPath)}function vh(e){return e instanceof Uc?function(e){if("=="===e.op){if(Tc(e.value))return{unaryFilter:{field:dh(e.field),op:"IS_NAN"}};if(_c(e.value))return{unaryFilter:{field:dh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Tc(e.value))return{unaryFilter:{field:dh(e.field),op:"IS_NOT_NAN"}};if(_c(e.value))return{unaryFilter:{field:dh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dh(e.field),op:fh(e.op),value:e.value}}}(e):e instanceof Vc?function(e){var t=e.getFilters().map((function(e){return vh(e)}));return 1===t.length?t[0]:{compositeFilter:{op:hh(e.op),filters:t}}}(e):ou()}function mh(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function gh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var yh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_u.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_u.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ic.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return m(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),kh=m((function e(t){h(this,e),this.ht=t}));function bh(e){var t=uh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?gl(t,t.limit,"L"):t}var wh=function(){function e(){h(this,e)}return m(e,[{key:"dt",value:function(e,t){this.Tt(e,t),t.Et()}},{key:"Tt",value:function(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(sc(e.integerValue));else if("doubleValue"in e){var n=sc(e.doubleValue);isNaN(n)?this.At(t,13):(this.At(t,15),Hu(n)?t.Rt(0):t.Rt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt("".concat(r.seconds||"")),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(uc(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.At(t,45),t.Rt(i.latitude||0),t.Rt(i.longitude||0)}else"mapValue"in e?Nc(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):ou()}},{key:"ft",value:function(e,t){this.At(t,25),this.Dt(e,t)}},{key:"Dt",value:function(e,t){t.Vt(e)}},{key:"St",value:function(e,t){var n=e.fields||{};this.At(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ft(a,t),this.Tt(n[a],t)}}},{key:"bt",value:function(e,t){var n=e.values||[];this.At(t,50);var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Tt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"wt",value:function(e,t){var n=this;this.At(t,37),Au.fromName(e).path.forEach((function(e){n.At(t,60),n.Dt(e,t)}))}},{key:"At",value:function(e,t){e.Rt(t)}},{key:"gt",value:function(e){e.Rt(2)}}]),e}();wh.Ct=new wh;var xh=function(){function e(){h(this,e),this.an=new Eh}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.an.add(t),Uu.resolve()}},{key:"getCollectionParents",value:function(e,t){return Uu.resolve(this.an.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Uu.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Uu.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return Uu.resolve()}},{key:"createTargetIndexes",value:function(e,t){return Uu.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Uu.resolve(null)}},{key:"getIndexType",value:function(e,t){return Uu.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Uu.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Uu.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Uu.resolve(Du.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Uu.resolve(Du.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Uu.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Uu.resolve()}}]),e}(),Eh=function(){function e(){h(this,e),this.index={}}return m(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ec(Iu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ec(Iu.comparator)).toArray()}}]),e}();new Uint8Array(0);var Sh=function(){function e(t,n,r){h(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return m(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Sh.DEFAULT_COLLECTION_PERCENTILE=10,Sh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sh.DEFAULT=new Sh(41943040,Sh.DEFAULT_COLLECTION_PERCENTILE,Sh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sh.DISABLED=new Sh(-1,0,0);var _h=function(){function e(t){h(this,e),this.Nn=t}return m(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"Bn",value:function(){return new e(0)}},{key:"Ln",value:function(){return new e(-1)}}]),e}();var Th=function(){function e(){h(this,e),this.changes=new _l((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return m(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Rc.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Uu.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Ih=m((function e(t,n){h(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Ch=function(){function e(t,n,r,i){h(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return m(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&sf(r.mutation,e,nc.empty(),Su.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Ml()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ml(),i=Ol();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Nl();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Ol();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Ml())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Il(),a=Pl(),o=Pl();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ff)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),sf(o.mutation,t,o.mutation.getFieldMask(),Su.now())):a.set(t.key,nc.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Ih(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Pl(),i=new Ju((function(e,t){return e-t})),a=Ml();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=_(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||nc.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Ml()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Rl();c.forEach((function(e){if(!a.has(e)){var n=af(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Uu.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return Au.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Uu.resolve(Ol()),s=-1,u=a;return o.next((function(t){return Uu.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Uu.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Ml())})).next((function(e){return{batchId:s,changes:Al(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Au(t)).next((function(e){var t=Nl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=Nl();return this.indexManager.getCollectionParents(e,a).next((function(s){return Uu.forEach(s,(function(s){var u=function(e,t){return new ol(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return i.getDocumentsMatchingCollectionQuery(e,u,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Rc.newInvalidDocument(r)))}));var n=Nl();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&sf(a.mutation,r,nc.empty(),Su.now()),wl(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),Nh=function(){function e(t){h(this,e),this.serializer=t,this.lr=new Map,this.hr=new Map}return m(e,[{key:"getBundleMetadata",value:function(e,t){return Uu.resolve(this.lr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Yf(e.createTime)}}(t)),Uu.resolve()}},{key:"getNamedQuery",value:function(e,t){return Uu.resolve(this.hr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hr.set(t.name,function(e){return{name:e.name,query:bh(e.bundledQuery),readTime:Yf(e.readTime)}}(t)),Uu.resolve()}}]),e}(),Ah=function(){function e(){h(this,e),this.overlays=new Ju(Au.comparator),this.Pr=new Map}return m(e,[{key:"getOverlay",value:function(e,t){return Uu.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ol();return Uu.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.It(e,t,i)})),Uu.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Pr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Pr.delete(n)),Uu.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Ol(),i=t.length+1,a=new Au(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Uu.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Ju((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Ol(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Ol(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Uu.resolve(u)}},{key:"It",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Pr.get(r.largestBatchId).delete(n.key);this.Pr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new wf(t,n));var a=this.Pr.get(t);void 0===a&&(a=Ml(),this.Pr.set(t,a)),this.Pr.set(t,a.add(n.key))}}]),e}(),Oh=function(){function e(){h(this,e),this.Ir=new ec(Rh.dr),this.Tr=new ec(Rh.Er)}return m(e,[{key:"isEmpty",value:function(){return this.Ir.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Rh(e,t);this.Ir=this.Ir.add(n),this.Tr=this.Tr.add(n)}},{key:"Ar",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Rr(new Rh(e,t))}},{key:"Vr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"mr",value:function(e){var t=this,n=new Au(new Iu([])),r=new Rh(n,e),i=new Rh(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Rr(e),a.push(e.key)})),a}},{key:"gr",value:function(){var e=this;this.Ir.forEach((function(t){return e.Rr(t)}))}},{key:"Rr",value:function(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}},{key:"pr",value:function(e){var t=new Au(new Iu([])),n=new Rh(t,e),r=new Rh(t,e+1),i=Ml();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Rh(e,0),n=this.Ir.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Rh=function(){function e(t,n){h(this,e),this.key=t,this.yr=n}return m(e,null,[{key:"dr",value:function(e,t){return Au.comparator(e.key,t.key)||xu(e.yr,t.yr)}},{key:"Er",value:function(e,t){return xu(e.yr,t.yr)||Au.comparator(e.key,t.key)}}]),e}(),Ph=function(){function e(t,n){h(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new ec(Rh.dr)}return m(e,[{key:"checkEmpty",value:function(e){return Uu.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new kf(i,t,n,r);this.mutationQueue.push(a);var o,s=_(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Sr=this.Sr.add(new Rh(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Uu.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Uu.resolve(this.br(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Dr(n),i=r<0?0:r;return Uu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Uu.resolve(0===this.mutationQueue.length?-1:this.wr-1)}},{key:"getAllMutationBatches",value:function(e){return Uu.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Rh(t,0),i=new Rh(t,Number.POSITIVE_INFINITY),a=[];return this.Sr.forEachInRange([r,i],(function(e){var t=n.br(e.yr);a.push(t)})),Uu.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ec(xu);return t.forEach((function(e){var t=new Rh(e,0),i=new Rh(e,Number.POSITIVE_INFINITY);n.Sr.forEachInRange([t,i],(function(e){r=r.add(e.yr)}))})),Uu.resolve(this.Cr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Au.isDocumentKey(i)||(i=i.child(""));var a=new Rh(new Au(i),0),o=new ec(xu);return this.Sr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.yr)),!0)}),a),Uu.resolve(this.Cr(o))}},{key:"Cr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.br(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;su(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Sr;return Uu.forEach(t.mutations,(function(i){var a=new Rh(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Sr=r}))}},{key:"xn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Rh(t,0),r=this.Sr.firstAfterOrEqual(n);return Uu.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Uu.resolve()}},{key:"vr",value:function(e,t){return this.Dr(e)}},{key:"Dr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"br",value:function(e){var t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Dh=function(){function e(t){h(this,e),this.Fr=t,this.docs=new Ju(Au.comparator),this.size=0}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Fr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Uu.resolve(n?n.document.mutableCopy():Rc.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Il();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Rc.newInvalidDocument(e))})),Uu.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Il(),a=t.path,o=new Au(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Lu(Pu(l),n)<=0||(r.has(l.key)||wl(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Uu.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ou()}},{key:"Mr",value:function(e,t){return Uu.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Lh(this)}},{key:"getSize",value:function(e){return Uu.resolve(this.size)}}]),e}(),Lh=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).ur=e,r}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ur.addEntry(e,i)):t.ur.removeEntry(r)})),Uu.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ur.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ur.getEntries(e,t)}}]),n}(Th),Mh=function(){function e(t){h(this,e),this.persistence=t,this.Or=new _l((function(e){return rl(e)}),il),this.lastRemoteSnapshotVersion=_u.min(),this.highestTargetId=0,this.Nr=0,this.Br=new Oh,this.targetCount=0,this.Lr=_h.Bn()}return m(e,[{key:"forEachTarget",value:function(e,t){return this.Or.forEach((function(e,n){return t(n)})),Uu.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Uu.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Uu.resolve(this.Nr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Lr.next(),Uu.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Nr&&(this.Nr=t),Uu.resolve()}},{key:"Qn",value:function(e){this.Or.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Lr=new _h(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Qn(t),this.targetCount+=1,Uu.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Qn(t),Uu.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Or.delete(t.target),this.Br.mr(t.targetId),this.targetCount-=1,Uu.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Or.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Or.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Uu.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Uu.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Or.get(t)||null;return Uu.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Br.Ar(t,n),Uu.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Br.Vr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Uu.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Br.mr(t),Uu.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Br.pr(t);return Uu.resolve(n)}},{key:"containsKey",value:function(e,t){return Uu.resolve(this.Br.containsKey(t))}}]),e}(),jh=function(){function e(t,n){var r=this;h(this,e),this.kr={},this.overlays={},this.qr=new zu(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=t(this),this.Kr=new Mh(this),this.indexManager=new xh,this.remoteDocumentCache=function(e){return new Dh(e)}((function(e){return r.referenceDelegate.$r(e)})),this.serializer=new kh(n),this.Ur=new Nh(this.serializer)}return m(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.Qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Ah,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.kr[e.toKey()];return n||(n=new Ph(t,this.referenceDelegate),this.kr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ur}},{key:"runTransaction",value:function(e,t,n){var r=this;nu("MemoryPersistence","Starting transaction:",e);var i=new Fh(this.qr.next());return this.referenceDelegate.Wr(),n(i).next((function(e){return r.referenceDelegate.Gr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zr",value:function(e,t){return Uu.or(Object.values(this.kr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Fh=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return m(n)}(ju),Uh=function(){function e(t){h(this,e),this.persistence=t,this.jr=new Oh,this.Hr=null}return m(e,[{key:"Yr",get:function(){if(this.Hr)return this.Hr;throw ou()}},{key:"addReference",value:function(e,t,n){return this.jr.addReference(n,t),this.Yr.delete(n.toString()),Uu.resolve()}},{key:"removeReference",value:function(e,t,n){return this.jr.removeReference(n,t),this.Yr.add(n.toString()),Uu.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Yr.add(t.toString()),Uu.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.jr.mr(t.targetId).forEach((function(e){return n.Yr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Yr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Wr",value:function(){this.Hr=new Set}},{key:"Gr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Uu.forEach(this.Yr,(function(r){var i=Au.fromPath(r);return t.Zr(e,i).next((function(e){e||n.removeEntry(i,_u.min())}))})).next((function(){return t.Hr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zr(e,t).next((function(e){e?n.Yr.delete(t.toString()):n.Yr.add(t.toString())}))}},{key:"$r",value:function(e){return 0}},{key:"Zr",value:function(e,t){var n=this;return Uu.or([function(){return Uu.resolve(n.jr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zr(e,t)}])}}],[{key:"Jr",value:function(t){return new e(t)}}]),e}();var Vh=function(){function e(t,n,r,i){h(this,e),this.targetId=t,this.fromCache=n,this.Qi=r,this.Ki=i}return m(e,null,[{key:"$i",value:function(t,n){var r,i=Ml(),a=Ml(),o=_(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),zh=function(){function e(){h(this,e),this._documentReadCount=0}return m(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),Bh=function(){function e(){h(this,e),this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=2}return m(e,[{key:"initialize",value:function(e,t){this.ji=e,this.indexManager=t,this.Ui=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.Hi(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Ji(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new zh;return i.Yi(e,t,n).next((function(r){if(a.result=r,i.Wi)return i.Zi(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Zi",value:function(e,t,n,r){return n.documentReadCount<this.Gi?(tu()<=Bt.DEBUG&&nu("QueryEngine","SDK will not create cache indexes for query:",bl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),Uu.resolve()):(tu()<=Bt.DEBUG&&nu("QueryEngine","Query:",bl(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.zi*r?(tu()<=Bt.DEBUG&&nu("QueryEngine","The SDK decides to create cache indexes for query:",bl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pl(t))):Uu.resolve())}},{key:"Hi",value:function(e,t){var n=this;if(cl(t))return Uu.resolve(null);var r=pl(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=gl(t,null,"F"),r=pl(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Ml.apply(void 0,f(i));return n.ji.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Xi(t,i);return n.es(t,o,a,r.readTime)?n.Hi(e,gl(t,null,"F")):n.ts(e,o,t,r)}))}))})))}))}},{key:"Ji",value:function(e,t,n,r){var i=this;return cl(t)||r.isEqual(_u.min())?Uu.resolve(null):this.ji.getDocuments(e,n).next((function(a){var o=i.Xi(t,a);return i.es(t,o,n,r)?Uu.resolve(null):(tu()<=Bt.DEBUG&&nu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bl(t)),i.ts(e,o,t,Ru(r,-1)).next((function(e){return e})))}))}},{key:"Xi",value:function(e,t){var n=new ec(El(e));return t.forEach((function(t,r){wl(e,r)&&(n=n.add(r))})),n}},{key:"es",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Yi",value:function(e,t,n){return tu()<=Bt.DEBUG&&nu("QueryEngine","Using full collection scan to execute query:",bl(t)),this.ji.getDocumentsMatchingQuery(e,t,Du.min(),n)}},{key:"ts",value:function(e,t,n,r){return this.ji.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Hh=function(){function e(t,n,r,i){h(this,e),this.persistence=t,this.ns=n,this.serializer=i,this.rs=new Ju(xu),this.ss=new _l((function(e){return rl(e)}),il),this.os=new Map,this._s=t.getRemoteDocumentCache(),this.Kr=t.getTargetCache(),this.Ur=t.getBundleCache(),this.us(r)}return m(e,[{key:"us",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ch(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.rs)}))}}]),e}();function qh(e,t,n,r){return new Hh(e,t,n,r)}function Kh(e,t){return(cs=cs||rt(Ze().mark((function e(t,n){var r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uu(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.us(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Ml(),u=_(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=_(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=_(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=_(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{cs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wh(e,t){var n=uu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n._s.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Uu.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);su(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Ml(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Gh(e){var t=uu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Kr.getLastRemoteSnapshotVersion(e)}))}function Qh(e,t){var n=uu(e),r=t.snapshotVersion,i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Kr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Kr.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(ic.EMPTY_BYTE_STRING,_u.min()).withLastLimboFreeSnapshotVersion(_u.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Kr.updateTargetData(e,c))}}));var s=Il(),u=Ml();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Yh(e,a,t.documentUpdates).next((function(e){s=e.ls,u=e.hs}))),!r.isEqual(_u.min())){var c=n.Kr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Kr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Uu.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.rs=i,e}))}function Yh(e,t,n){var r=Ml(),i=Ml();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Il();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(_u.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):nu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{ls:r,hs:i}}))}function Xh(e,t){var n=uu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Jh(e,t){var n=uu(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Kr.getTargetData(e,t).next((function(i){return i?(r=i,Uu.resolve(r)):n.Kr.allocateTargetId(e).next((function(i){return r=new yh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Kr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.rs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.rs=n.rs.insert(e.targetId,e),n.ss.set(t,e.targetId)),e}))}function Zh(e,t,n){return(ls=ls||rt(Ze().mark((function e(t,n,r){var i,a,o;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=uu(t),a=i.rs.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Vu(e.t1)){e.next=12;break}throw e.t1;case 12:nu("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.rs=i.rs.remove(n),i.ss.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function $h(e,t,n){var r=uu(e),i=_u.min(),a=Ml();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=uu(e),i=r.ss.get(n);return void 0!==i?Uu.resolve(r.rs.get(i)):r.Kr.getTargetData(t,n)}(r,e,pl(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ns.getDocumentsMatchingQuery(e,t,n?i:_u.min(),n?a:Ml())})).next((function(e){return ed(r,xl(t),e),{documents:e,Ps:a}}))}))}function ed(e,t,n){var r=e.os.get(t)||_u.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.os.set(t,r)}var td=function(){function e(){h(this,e),this.activeTargetIds=Fl()}return m(e,[{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Vs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"As",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),nd=function(){function e(){h(this,e),this.ro=new td,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return m(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.ro.Rs(e),this.io[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.io[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.ro.Vs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.ro.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.io[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.ro.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.ro.activeTargetIds.has(e)}},{key:"start",value:function(){return this.ro=new td,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),rd=function(){function e(){h(this,e)}return m(e,[{key:"so",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),id=function(){function e(){var t=this;h(this,e),this.oo=function(){return t._o()},this.ao=function(){return t.uo()},this.co=[],this.lo()}return m(e,[{key:"so",value:function(e){this.co.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}},{key:"lo",value:function(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}},{key:"_o",value:function(){nu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=_(this.co);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"uo",value:function(){nu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=_(this.co);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),ad=null;function od(){return null===ad?ad=268435456+Math.round(2147483648*Math.random()):ad++,"0x"+ad.toString(16)}var sd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},ud=function(){function e(t){h(this,e),this.ho=t.ho,this.Po=t.Po}return m(e,[{key:"Io",value:function(e){this.To=e}},{key:"Eo",value:function(e){this.Ao=e}},{key:"onMessage",value:function(e){this.Ro=e}},{key:"close",value:function(){this.Po()}},{key:"send",value:function(e){this.ho(e)}},{key:"Vo",value:function(){this.To()}},{key:"mo",value:function(e){this.Ao(e)}},{key:"fo",value:function(e){this.Ro(e)}}]),e}(),cd="WebChannelConnection",ld=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return m(n,[{key:"vo",value:function(e,t,n,r){var i=od();return new Promise((function(a,o){var s=new Qs;s.setWithCredentials(!0),s.listenOnce(qs.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Hs.NO_ERROR:var t=s.getResponseJson();nu(cd,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Hs.TIMEOUT:nu(cd,"RPC '".concat(e,"' ").concat(i," timed out")),o(new lu(cu.DEADLINE_EXCEEDED,"Request time out"));break;case Hs.HTTP_ERROR:var n=s.getStatus();if(nu(cd,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(cu).indexOf(t)>=0?t:cu.UNKNOWN}(u.status);o(new lu(c,u.message))}else o(new lu(cu.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new lu(cu.UNAVAILABLE,"Connection failed."));break;default:ou()}}finally{nu(cd,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);nu(cd,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Mo",value:function(e,t,n){var r=od(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=zs(),o=Bs(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Co(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");nu(cd,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new ud({ho:function(t){h?nu(cd,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(nu(cd,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),nu(cd,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},Po:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Gs.EventType.OPEN,(function(){h||nu(cd,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Gs.EventType.CLOSE,(function(){h||(h=!0,nu(cd,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.mo())})),p(l,Gs.EventType.ERROR,(function(t){h||(h=!0,iu(cd,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.mo(new lu(cu.UNAVAILABLE,"The operation could not be completed")))})),p(l,Gs.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];su(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){nu(cd,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=vf[e];if(void 0!==t)return Sf(t)}(s),c=o.message;void 0===u&&(u=cu.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.mo(new lu(u,c)),l.close()}else nu(cd,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.fo(i)}})),p(o,Ks.STAT_EVENT,(function(t){t.stat===Ws.PROXY?nu(cd,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Ws.NOPROXY&&nu(cd,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Vo()}),0),d}}]),n}(function(){function e(t){h(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo="projects/".concat(r,"/databases/").concat(i),this.wo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return m(e,[{key:"So",get:function(){return!1}},{key:"bo",value:function(e,t,n,r,i){var a=od(),o=this.Do(e,t);nu("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(s,r,i),this.vo(e,o,s,n).then((function(t){return nu("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw iu("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Fo",value:function(e,t,n,r,i,a){return this.bo(e,t,n,r,i)}},{key:"Co",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+$s,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Do",value:function(e,t){var n=sd[e];return"".concat(this.po,"/v1/").concat(t,":").concat(n)}}]),e}());function fd(){return"undefined"!=typeof document?document:null}function hd(e){return new qf(e,!0)}var dd=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;h(this,e),this._i=t,this.timerId=n,this.xo=r,this.Oo=i,this.No=a,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}return m(e,[{key:"reset",value:function(){this.Bo=0}},{key:"qo",value:function(){this.Bo=this.No}},{key:"Qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&nu("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Bo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,(function(){return t.ko=Date.now(),e()})),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}},{key:"$o",value:function(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}},{key:"cancel",value:function(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"Ko",value:function(){return(Math.random()-.5)*this.Bo}}]),e}(),pd=function(e,t,n){function r(e,t,n,i,a,o,s,u){h(this,r),this._i=e,this.Uo=n,this.Wo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new dd(e,t)}return m(r,[{key:"Jo",value:function(){return 1===this.state||5===this.state||this.Yo()}},{key:"Yo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Zo()}},{key:"stop",value:function(){return(e=e||rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Jo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Xo",value:function(){this.state=0,this.Ho.reset()}},{key:"e_",value:function(){var e=this;this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,(function(){return e.t_()})))}},{key:"n_",value:function(e){this.r_(),this.stream.send(e)}},{key:"t_",value:function(){return(t=t||rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Yo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"i_",value:function(){this.jo&&(this.jo.cancel(),this.jo=null)}},{key:"close",value:function(e,t){return(n=n||rt(Ze().mark((function e(t,n){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.r_(),this.i_(),this.Ho.cancel(),this.Go++,4!==t?this.Ho.reset():n&&n.code===cu.RESOURCE_EXHAUSTED?(ru(n.toString()),ru("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===cu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.s_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Eo(n);case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"s_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Go===n&&e.__(i,a)}),(function(n){t((function(){var t=new lu(cu.UNKNOWN,"Fetching auth token failed: "+n.message);return e.a_(t)}))}))}},{key:"__",value:function(e,t){var n=this,r=this.o_(this.Go);this.stream=this.u_(e,t),this.stream.Io((function(){r((function(){return n.state=2,n.jo=n._i.enqueueAfterDelay(n.Wo,1e4,(function(){return n.Yo()&&(n.state=3),Promise.resolve()})),n.listener.Io()}))})),this.stream.Eo((function(e){r((function(){return n.a_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Zo",value:function(){var e=this;this.state=5,this.Ho.Qo(rt(Ze().mark((function t(){return Ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"a_",value:function(e){return nu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"o_",value:function(e){var t=this;return function(n){t._i.enqueueAndForget((function(){return t.Go===e?n():(nu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),r}(),vd=function(e){y(n,e);var t=x(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return m(n,[{key:"u_",value:function(e,t){return this.connection.Mo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Ho.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ou()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(su(void 0===t||"string"==typeof t),ic.fromBase64String(t||"")):(su(void 0===t||t instanceof Uint8Array),ic.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?cu.UNKNOWN:Sf(e.code);return new lu(t,e.message||"")}(o);n=new Mf(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=$f(e,u.document.name),l=Yf(u.document.updateTime),f=u.document.createTime?Yf(u.document.createTime):_u.min(),h=new Ac({mapValue:{fields:u.document.fields}}),d=Rc.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Df(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=$f(e,m.document),y=m.readTime?Yf(m.readTime):_u.min(),k=Rc.newNoDocument(g,y),b=m.removedTargetIds||[];n=new Df([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=$f(e,w.document),E=w.removedTargetIds||[];n=new Df([],E,x,null)}else{if(!("filter"in t))return ou();t.filter;var S=t.filter;S.targetId;var _=S.count,T=void 0===_?0:_,I=S.unchangedNames,C=new xf(T,I),N=S.targetId;n=new Lf(N,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return _u.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?_u.min():t.readTime?Yf(t.readTime):_u.min()}(e);return this.listener.c_(t,n)}},{key:"l_",value:function(e){var t={};t.database=nh(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=al(r)?{documents:oh(e,r)}:{query:sh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Gf(e,t.resumeToken);var i=Kf(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(_u.min())>0){n.readTime=Wf(e,t.snapshotVersion.toTimestamp());var a=Kf(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ou()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.n_(t)}},{key:"h_",value:function(e){var t={};t.database=nh(this.serializer),t.removeTarget=e,this.n_(t)}}]),n}(pd),md=function(e){y(n,e);var t=x(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.P_=!1,u}return m(n,[{key:"I_",get:function(){return this.P_}},{key:"start",value:function(){this.P_=!1,this.lastStreamToken=void 0,at(k(n.prototype),"start",this).call(this)}},{key:"s_",value:function(){this.P_&&this.d_([])}},{key:"u_",value:function(e,t){return this.connection.Mo("Write",e,t)}},{key:"onMessage",value:function(e){if(su(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();var t=function(e,t){return e&&e.length>0?(su(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Yf(e.updateTime):Yf(t);return n.isEqual(_u.min())&&(n=Yf(t)),new ef(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Yf(e.commitTime);return this.listener.T_(n,t)}return su(!e.writeResults||0===e.writeResults.length),this.P_=!0,this.listener.E_()}},{key:"A_",value:function(){var e={};e.database=nh(this.serializer),this.n_(e)}},{key:"d_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ah(t.serializer,e)}))};this.n_(n)}}]),n}(pd),gd=function(e){y(n,e);var t=x(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.R_=!1,o}return m(n,[{key:"V_",value:function(){if(this.R_)throw new lu(cu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"bo",value:function(e,t,n){var r=this;return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.connection.bo(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===cu.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new lu(cu.UNKNOWN,e.toString())}))}},{key:"Fo",value:function(e,t,n,r){var i=this;return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),s=o[0],u=o[1];return i.connection.Fo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===cu.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new lu(cu.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.R_=!0}}]),n}(m((function e(){h(this,e)})));var yd=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}return m(e,[{key:"y_",value:function(){var e=this;0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.g_=null,e.S_("Backend didn't respond within 10 seconds."),e.w_("Offline"),Promise.resolve()})))}},{key:"b_",value:function(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.w_("Offline")))}},{key:"set",value:function(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}},{key:"w_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"S_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.p_?(ru(t),this.p_=!1):nu("OnlineStateTracker",t)}},{key:"D_",value:function(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}]),e}(),kd=m((function e(t,n,r,i,a){var o=this;h(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=a,this.x_.so((function(e){r.enqueueAndForget(rt(Ze().mark((function e(){var t;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Cd(o),!e.t0){e.next=5;break}return nu("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(e){return(t=t||rt(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=uu(t)).F_.add(4),e.next=4,wd(n);case 4:return n.O_.set("Unknown"),n.F_.delete(4),e.next=8,bd(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(o);case 5:case"end":return e.stop()}}),e)}))))})),this.O_=new yd(r,i)}));function bd(e){return(fs=fs||rt(Ze().mark((function e(t){var n,r,i;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Cd(t)){e.next=18;break}n=_(t.M_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function wd(e){return(hs=hs||rt(Ze().mark((function e(t){var n,r,i;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_(t.M_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function xd(e,t){var n=uu(e);n.v_.has(t.targetId)||(n.v_.set(t.targetId,t),Id(n)?Td(n):Wd(n).Yo()&&Sd(n,t))}function Ed(e,t){var n=uu(e),r=Wd(n);n.v_.delete(t),r.Yo()&&_d(n,t),0===n.v_.size&&(r.Yo()?r.e_():Cd(n)&&n.O_.set("Unknown"))}function Sd(e,t){if(e.N_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_u.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wd(e).l_(t)}function _d(e,t){e.N_.Le(t),Wd(e).h_(t)}function Td(e){e.N_=new Ff({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.v_.get(t)||null},st:function(){return e.datastore.serializer.databaseId}}),Wd(e).start(),e.O_.y_()}function Id(e){return Cd(e)&&!Wd(e).Jo()&&e.v_.size>0}function Cd(e){return 0===uu(e).F_.size}function Nd(e){e.N_=void 0}function Ad(e){return(ds=ds||rt(Ze().mark((function e(t){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.v_.forEach((function(e,n){Sd(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Od(e,t){return(ps=ps||rt(Ze().mark((function e(t,n){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Nd(t),Id(t)?(t.O_.b_(n),Td(t)):t.O_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rd(e,t,n){return(vs=vs||rt(Ze().mark((function e(t,n,r){var i,a;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.O_.set("Online"),!(n instanceof Mf&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(e,t){return(i=i||rt(Ze().mark((function e(t,n){var r,i,a,o;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=_(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.v_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.v_.delete(o),t.N_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})))).apply(this,arguments)}(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),nu("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Pd(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Df?t.N_.Ge(n):n instanceof Lf?t.N_.Xe(n):t.N_.He(n),r.isEqual(_u.min())){e.next=29;break}return e.prev=14,e.next=17,Gh(t.localStore);case 17:if(a=e.sent,e.t1=r.compareTo(a)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.N_._t(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.v_.get(r);i&&e.v_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.v_.get(t);if(r){e.v_.set(t,r.withResumeToken(ic.EMPTY_BYTE_STRING,r.snapshotVersion)),_d(e,t);var i=new yh(r.target,t,n,r.sequenceNumber);Sd(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),nu("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Pd(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])})))).apply(this,arguments)}function Pd(e,t,n){return(ms=ms||rt(Ze().mark((function e(t,n,r){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vu(n)){e.next=2;break}throw n;case 2:return t.F_.add(1),e.next=5,wd(t);case 5:t.O_.set("Offline"),r||(r=function(){return Gh(t.localStore)}),t.asyncQueue.enqueueRetryable(rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nu("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.F_.delete(1),e.next=6,bd(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dd(e,t){return t().catch((function(n){return Pd(e,n,t)}))}function Ld(e){return(gs=gs||rt(Ze().mark((function e(t){var n,r,i,a;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=uu(t),r=Gd(n),i=n.C_.length>0?n.C_[n.C_.length-1].batchId:-1;case 2:if(!Md(n)){e.next=19;break}return e.prev=3,e.next=6,Xh(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.C_.length&&r.e_(),e.abrupt("break",19);case 10:i=a.batchId,jd(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Pd(n,e.t0);case 17:e.next=2;break;case 19:Fd(n)&&Ud(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function Md(e){return Cd(e)&&e.C_.length<10}function jd(e,t){e.C_.push(t);var n=Gd(e);n.Yo()&&n.I_&&n.d_(t.mutations)}function Fd(e){return Cd(e)&&!Gd(e).Jo()&&e.C_.length>0}function Ud(e){Gd(e).start()}function Vd(e){return(ys=ys||rt(Ze().mark((function e(t){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gd(t).A_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zd(e){return(ks=ks||rt(Ze().mark((function e(t){var n,r,i,a;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Gd(t),r=_(t.C_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.d_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bd(e,t,n){return(bs=bs||rt(Ze().mark((function e(t,n,r){var i,a;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.C_.shift(),a=bf.from(i,n,r),e.next=3,Dd(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Ld(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hd(e,t){return(ws=ws||rt(Ze().mark((function e(t,n){var r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Gd(t).I_,!e.t0){e.next=4;break}return e.next=4,function(e,t){return(r=r||rt(Ze().mark((function e(t,n){var r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Ef(e)&&e!==cu.ABORTED}(n.code)){e.next=7;break}return r=t.C_.shift(),Gd(t).Xo(),e.next=5,Dd(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Ld(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(t,n);case 4:Fd(t)&&Ud(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qd(e,t){return(xs=xs||rt(Ze().mark((function e(t,n){var r,i;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=uu(t)).asyncQueue.verifyOperationInProgress(),nu("RemoteStore","RemoteStore received new credentials"),i=Cd(r),r.F_.add(3),e.next=6,wd(r);case 6:return i&&r.O_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.F_.delete(3),e.next=12,bd(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kd(e,t){return(Es=Es||rt(Ze().mark((function e(t,n){var r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=uu(t),!n){e.next=7;break}return r.F_.delete(2),e.next=5,bd(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.F_.add(2),e.next=12,wd(r);case 12:r.O_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wd(e){var t;return e.B_||(e.B_=function(e,t,n){var r=uu(e);return r.V_(),new vd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Io:Ad.bind(null,e),Eo:Od.bind(null,e),c_:Rd.bind(null,e)}),e.M_.push((function(n){return(t=t||rt(Ze().mark((function t(n){return Ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.B_.Xo(),Id(e)?Td(e):e.O_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.B_.stop();case 6:Nd(e);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}))),e.B_}function Gd(e){var t;return e.L_||(e.L_=function(e,t,n){var r=uu(e);return r.V_(),new md(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Io:Vd.bind(null,e),Eo:Hd.bind(null,e),E_:zd.bind(null,e),T_:Bd.bind(null,e)}),e.M_.push((function(n){return(t=t||rt(Ze().mark((function t(n){return Ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.L_.Xo(),t.next=4,Ld(e);case 4:t.next=9;break;case 6:return t.next=8,e.L_.stop();case 8:e.C_.length>0&&(nu("RemoteStore","Stopping write stream with ".concat(e.C_.length," pending writes")),e.C_=[]);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}))),e.L_}var Qd=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new fu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return m(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lu(cu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Yd(e,t){if(ru("AsyncQueue","".concat(t,": ").concat(e)),Vu(e))return new lu(cu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Xd=function(){function e(t){h(this,e),this.comparator=t?function(e,n){return t(e,n)||Au.comparator(e.key,n.key)}:function(e,t){return Au.comparator(e.key,t.key)},this.keyedMap=Nl(),this.sortedSet=new Ju(this.comparator)}return m(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Jd=function(){function e(){h(this,e),this.k_=new Ju(Au.comparator)}return m(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.k_.get(t);n?0!==e.type&&3===n.type?this.k_=this.k_.insert(t,e):3===e.type&&1!==n.type?this.k_=this.k_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.k_=this.k_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.k_=this.k_.remove(t):1===e.type&&2===n.type?this.k_=this.k_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):ou():this.k_=this.k_.insert(t,e)}},{key:"q_",value:function(){var e=[];return this.k_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Zd=function(){function e(t,n,r,i,a,o,s,u,c){h(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return m(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Xd.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),$d=m((function e(){h(this,e),this.Q_=void 0,this.listeners=[]})),ep=m((function e(){h(this,e),this.queries=new _l((function(e){return kl(e)}),yl),this.onlineState="Unknown",this.K_=new Set}));function tp(e,t){return(Ss=Ss||rt(Ze().mark((function e(t,n){var r,i,a,o,s;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=uu(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new $d),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Q_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Yd(e.t0,"Initialization of query '".concat(bl(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.U_(r.onlineState),o.Q_&&n.W_(o.Q_)&&ap(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function np(e,t){return(_s=_s||rt(Ze().mark((function e(t,n){var r,i,a,o,s;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=uu(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rp(e,t){var n,r=uu(e),i=!1,a=_(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=_(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.W_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Q_=o}}}catch(f){a.e(f)}finally{a.f()}i&&ap(r)}function ip(e,t,n){var r=uu(e),i=r.queries.get(t);if(i){var a,o=_(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function ap(e){e.K_.forEach((function(e){e.next()}))}var op=function(){function e(t,n,r){h(this,e),this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}return m(e,[{key:"W_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=_(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Zd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.z_?this.H_(e)&&(this.G_.next(e),a=!0):this.J_(e,this.onlineState)&&(this.Y_(e),a=!0),this.j_=e,a}},{key:"onError",value:function(e){this.G_.error(e)}},{key:"U_",value:function(e){this.onlineState=e;var t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}},{key:"J_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"H_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Y_",value:function(e){e=Zd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}]),e}();var sp=m((function e(t){h(this,e),this.key=t})),up=m((function e(t){h(this,e),this.key=t})),cp=function(){function e(t,n){h(this,e),this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Ml(),this.mutatedKeys=Ml(),this.ua=El(t),this.ca=new Xd(this.ua)}return m(e,[{key:"la",get:function(){return this.oa}},{key:"ha",value:function(e,t){var n=this,r=t?t.Pa:new Jd,i=t?t.ca:this.ca,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=wl(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ia(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.ua(f,u)>0||c&&n.ua(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,es:s,mutatedKeys:a}}},{key:"Ia",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;var a=e.Pa.q_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ou()}};return n(e)-n(t)}(e.type,t.type)||r.ua(e.doc,t.doc)})),this.da(n);var o=t?this.Ta():[],s=0===this.aa.size&&this.current?1:0,u=s!==this._a;return this._a=s,0!==a.length||u?{snapshot:new Zd(this.query,e.ca,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}},{key:"U_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Jd,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}},{key:"Aa",value:function(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}},{key:"da",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.oa=t.oa.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.oa=t.oa.delete(e)})),this.current=e.current)}},{key:"Ta",value:function(){var e=this;if(!this.current)return[];var t=this.aa;this.aa=Ml(),this.ca.forEach((function(t){e.Aa(t.key)&&(e.aa=e.aa.add(t.key))}));var n=[];return t.forEach((function(t){e.aa.has(t)||n.push(new up(t))})),this.aa.forEach((function(e){t.has(e)||n.push(new sp(e))})),n}},{key:"Ra",value:function(e){this.oa=e.Ps,this.aa=Ml();var t=this.ha(e.documents);return this.applyChanges(t,!0)}},{key:"Va",value:function(){return Zd.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}]),e}(),lp=m((function e(t,n,r){h(this,e),this.query=t,this.targetId=n,this.view=r})),fp=m((function e(t){h(this,e),this.key=t,this.ma=!1})),hp=function(){function e(t,n,r,i,a,o){h(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new _l((function(e){return kl(e)}),yl),this.pa=new Map,this.ya=new Set,this.wa=new Ju(Au.comparator),this.Sa=new Map,this.ba=new Oh,this.Da={},this.Ca=new Map,this.va=_h.Ln(),this.onlineState="Unknown",this.Fa=void 0}return m(e,[{key:"isPrimaryClient",get:function(){return!0===this.Fa}}]),e}();function dp(e,t){return(Ts=Ts||rt(Ze().mark((function e(t,n){var r,i,a,o,s,u;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rp(t),!(o=r.ga.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Va(),e.next=15;break;case 6:return e.next=8,Jh(r.localStore,pl(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,pp(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&xd(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pp(e,t,n,r,i){return(Is=Is||rt(Ze().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Ma=function(e,n,r){var i;return function(e,t,n,r){return(i=i||rt(Ze().mark((function e(t,n,r,i){var a,o,s;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ha(r),e.t0=a.es,!e.t0){e.next=6;break}return e.next=5,$h(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ha(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Tp(t,n.targetId,s.Ea),s.snapshot));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(t,e,n,r)},e.next=3,$h(t.localStore,n,!0);case 3:return o=e.sent,s=new cp(n,o.Ps),u=s.ha(o.documents),c=Pf.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),Tp(t,r,l.Ea),f=new lp(n,r,s),e.abrupt("return",(t.ga.set(n,f),t.pa.has(r)?t.pa.get(r).push(n):t.pa.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vp(e,t){return(Cs=Cs||rt(Ze().mark((function e(t,n){var r,i,a;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=uu(t),i=r.ga.get(n),!((a=r.pa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.pa.set(i.targetId,a.filter((function(e){return!yl(e,n)}))),void r.ga.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Zh(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ed(r.remoteStore,i.targetId),Sp(r,i.targetId)})).catch(Fu);case 9:e.next=14;break;case 11:return Sp(r,i.targetId),e.next=14,Zh(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mp(e,t,n){return(Ns=Ns||rt(Ze().mark((function e(t,n,r){var i,a,o;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pp(t),e.prev=1,e.next=4,function(e,t){var n,r,i=uu(e),a=Su.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ml());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Il(),u=Ml();return i._s.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=_(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=uf(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new ff(c.key,l,Oc(l.value.mapValue),tf.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Al(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Da[e.currentUser.toKey()];r||(r=new Ju(xu)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Np(i,a.changes);case 9:return e.next=11,Ld(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Yd(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function gp(e,t){return(As=As||rt(Ze().mark((function e(t,n){var r,i;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uu(t),e.prev=1,e.next=4,Qh(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Sa.get(t);n&&(su(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ma=!0:e.modifiedDocuments.size>0?su(n.ma):e.removedDocuments.size>0&&(su(n.ma),n.ma=!1))})),e.next=8,Np(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Fu(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function yp(e,t,n){var r=uu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ga.forEach((function(e,n){var r=n.view.U_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=uu(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=_(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.U_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&ap(n)}(r.eventManager,t),i.length&&r.fa.c_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function kp(e,t,n){return(Os=Os||rt(Ze().mark((function e(t,n,r){var i,a,o,s,u,c;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=uu(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Sa.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Ju(Au.comparator)).insert(o,Rc.newNoDocument(o,_u.min())),u=Ml().add(o),c=new Rf(_u.min(),new Map,new Ju(xu),s,u),e.next=9,gp(i,c);case 9:i.wa=i.wa.remove(o),i.Sa.delete(n),Cp(i),e.next=16;break;case 14:return e.next=16,Zh(i.localStore,n,!1).then((function(){return Sp(i,n,r)})).catch(Fu);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bp(e,t){return(Rs=Rs||rt(Ze().mark((function e(t,n){var r,i,a;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uu(t),i=n.batch.batchId,e.prev=1,e.next=4,Wh(r.localStore,n);case 4:return a=e.sent,Ep(r,i,null),xp(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Np(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Fu(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function wp(e,t,n){return(Ps=Ps||rt(Ze().mark((function e(t,n,r){var i,a;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=uu(t),e.prev=1,e.next=4,function(e,t){var n=uu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return su(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Ep(i,n,r),xp(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Np(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Fu(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function xp(e,t){(e.Ca.get(t)||[]).forEach((function(e){e.resolve()})),e.Ca.delete(t)}function Ep(e,t,n){var r=uu(e),i=r.Da[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function Sp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=_(e.pa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ga.delete(a),n&&e.fa.xa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.pa.delete(t),e.isPrimaryClient&&e.ba.mr(t).forEach((function(t){e.ba.containsKey(t)||_p(e,t)}))}function _p(e,t){e.ya.delete(t.path.canonicalString());var n=e.wa.get(t);null!==n&&(Ed(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),Cp(e))}function Tp(e,t,n){var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof sp?(e.ba.addReference(a.key,t),Ip(e,a)):a instanceof up?(nu("SyncEngine","Document no longer in limbo: "+a.key),e.ba.removeReference(a.key,t),e.ba.containsKey(a.key)||_p(e,a.key)):ou()}}catch(o){i.e(o)}finally{i.f()}}function Ip(e,t){var n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(nu("SyncEngine","New document in limbo: "+n),e.ya.add(r),Cp(e))}function Cp(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){var t=e.ya.values().next().value;e.ya.delete(t);var n=new Au(Iu.fromString(t)),r=e.va.next();e.Sa.set(r,new fp(n)),e.wa=e.wa.insert(n,r),xd(e.remoteStore,new yh(pl(ul(n.path)),r,"TargetPurposeLimboResolution",zu.ae))}}function Np(e,t,n){return(Ds=Ds||rt(Ze().mark((function e(t,n,r){var i,a,o,s,u;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=uu(t),o=[],s=[],u=[],e.t0=a.ga.isEmpty(),e.t0){e.next=9;break}return a.ga.forEach((function(e,t){u.push(a.Ma(t,n,r).then((function(e){if((e||r)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){o.push(e);var n=Vh.$i(t.targetId,e);s.push(n)}})))})),e.next=6,Promise.all(u);case 6:return a.fa.c_(o),e.next=9,function(e,t){return(i=i||rt(Ze().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uu(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Uu.forEach(n,(function(t){return Uu.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Uu.forEach(t.Ki,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Vu(e.t0)){e.next=10;break}throw e.t0;case 10:nu("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=_(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.rs.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.rs=r.rs.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}(a.localStore,s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ap(e,t){return(Ls=Ls||rt(Ze().mark((function e(t,n){var r,i;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=uu(t)).currentUser.isEqual(n)){e.next=11;break}return nu("SyncEngine","User change. New user:",n.toKey()),e.next=5,Kh(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ca.forEach((function(e){e.forEach((function(e){e.reject(new lu(cu.CANCELLED,t))}))})),e.Ca.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Np(r,i.cs);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Op(e,t){var n=uu(e),r=n.Sa.get(t);if(r&&r.ma)return Ml().add(r.key);var i=Ml(),a=n.pa.get(t);if(!a)return i;var o,s=_(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ga.get(u);i=i.unionWith(c.view.la)}}catch(l){s.e(l)}finally{s.f()}return i}function Rp(e){var t=uu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Op.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kp.bind(null,t),t.fa.c_=rp.bind(null,t.eventManager),t.fa.xa=ip.bind(null,t.eventManager),t}function Pp(e){var t=uu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wp.bind(null,t),t}var Dp=function(e,t){function n(){h(this,n),this.synchronizeTabs=!1}return m(n,[{key:"initialize",value:function(t){return(e=e||rt(Ze().mark((function e(t){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=hd(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return qh(this.persistence,new Bh,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new jh(Uh.Jr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new nd}},{key:"terminate",value:function(){return(t=t||rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),n}(),Lp=function(e){function t(){h(this,t)}return m(t,[{key:"initialize",value:function(t,n){return(e=e||rt(Ze().mark((function e(t,n){var r=this;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return yp(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ap.bind(null,this.syncEngine),e.next=12,Kd(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"createEventManager",value:function(e){return new ep}},{key:"createDatastore",value:function(e){var t=hd(e.databaseInfo.databaseId),n=function(e){return new ld(e)}(e.databaseInfo);return function(e,t,n,r){return new gd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new kd(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return yp(t.syncEngine,e,0)}),id.C()?new id:new rd)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new hp(e,t,n,r,i,a);return o&&(s.Fa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){var e;return function(t){return(e=e||rt(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=uu(t),nu("RemoteStore","RemoteStore shutting down."),n.F_.add(5),e.next=5,wd(n);case 5:n.x_.shutdown(),n.O_.set("Unknown");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this.remoteStore)}}]),t}();var Mp=function(){function e(t){h(this,e),this.observer=t,this.muted=!1}return m(e,[{key:"next",value:function(e){this.observer.next&&this.Ba(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ba(this.observer.error,e):ru("Uncaught Error in snapshot listener:",e.toString())}},{key:"La",value:function(){this.muted=!0}},{key:"Ba",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),jp=function(e){function t(e,n,r,i){var a,o=this;h(this,t),this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zs.UNAUTHENTICATED,this.clientId=wu.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,(function(e){return(a=a||rt(Ze().mark((function e(t){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nu("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)})),this.appCheckCredentials.start(r,(function(e){return nu("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return m(t,[{key:"getConfiguration",value:function(){return(e=e||rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new lu(cu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new fu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(rt(Ze().mark((function n(){var r;return Ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Yd(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),t}();function Fp(e,t){return(Ms=Ms||rt(Ze().mark((function e(t,n){var r,i,a;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),nu("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return i=e.sent,e.next=6,n.initialize(i);case 6:a=i.initialUser,t.setCredentialChangeListener((function(e){return(r=r||rt(Ze().mark((function e(t){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.isEqual(t),e.t0){e.next=5;break}return e.next=4,Kh(n.localStore,t);case 4:a=t;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)})),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Up(e,t){return(js=js||rt(Ze().mark((function e(t,n){var r,i;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,zp(t);case 3:return r=e.sent,nu("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return qd(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return qd(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vp(e){return"FirebaseError"===e.name?e.code===cu.FAILED_PRECONDITION||e.code===cu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function zp(e){return(Fs=Fs||rt(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return nu("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Fp(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Vp(n=e.t0)){e.next=13;break}throw n;case 13:return iu("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Fp(t,new Dp);case 16:e.next=21;break;case 18:return nu("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Fp(t,new Dp);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function Bp(e){return(Us=Us||rt(Ze().mark((function e(t){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return nu("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,Up(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return nu("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,Up(t,new Lp);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hp(e){return Bp(e).then((function(e){return e.syncEngine}))}function qp(e){return(Vs=Vs||rt(Ze().mark((function e(t){var n,r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bp(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=dp.bind(null,n.syncEngine),r.onUnlisten=vp.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new fu;return e.asyncQueue.enqueueAndForget(rt(Ze().mark((function i(){return Ze().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Mp({next:function(a){t.enqueueAndForget((function(){return np(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new lu(cu.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new lu(cu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new op(ul(n.path),a,{includeMetadataChanges:!0,Z_:!0});return tp(e,o)},i.next=3,qp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Wp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new fu;return e.asyncQueue.enqueueAndForget(rt(Ze().mark((function i(){return Ze().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Mp({next:function(n){t.enqueueAndForget((function(){return np(e,o)})),n.fromCache&&"server"===r.source?i.reject(new lu(cu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new op(n,a,{includeMetadataChanges:!0,Z_:!0});return tp(e,o)},i.next=3,qp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Gp(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var Qp=new Map;function Yp(e,t,n){if(!n)throw new lu(cu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Xp(e){if(!Au.isDocumentKey(e))throw new lu(cu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jp(e){if(Au.isDocumentKey(e))throw new lu(cu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Zp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ou()}function $p(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new lu(cu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Zp(e);throw new lu(cu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function ev(e,t){if(t<=0)throw new lu(cu.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var tv=function(){function e(t){var n,r;if(h(this,e),void 0===t.host){if(void 0!==t.ssl)throw new lu(cu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new lu(cu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new lu(cu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gp(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new lu(cu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new lu(cu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new lu(cu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return m(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),nv=function(){function e(t,n,r,i){h(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tv({}),this._settingsFrozen=!1}return m(e,[{key:"app",get:function(){if(!this._app)throw new lu(cu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new lu(cu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new du;switch(e.type){case"firstParty":return new gu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new lu(cu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Qp.get(e);t&&(nu("ComponentProvider","Removing Datastore"),Qp.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function rv(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=$p(e,nv))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&iu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=Zs.MOCK_USER;else{s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ct(JSON.stringify({alg:"none",type:"JWT"})),ct(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new lu(cu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Zs(c)}e._authCredentials=new pu(new hu(s,u))}}var iv=function(){function e(t,n,r){h(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return m(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),av=function(){function e(t,n,r){h(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return m(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new ov(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),ov=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,ul(i)))._path=i,a.type="collection",a}return m(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new av(this.firestore,null,new Au(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(iv);function sv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=jt(e),Yp("collection","path",t),e instanceof nv){var a=Iu.fromString.apply(Iu,[t].concat(r));return Jp(a),new ov(e,null,a)}if(!(e instanceof av||e instanceof ov))throw new lu(cu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Iu.fromString.apply(Iu,[t].concat(r)));return Jp(o),new ov(e.firestore,null,o)}function uv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=jt(e),1===arguments.length&&(t=wu.V()),Yp("doc","path",t),e instanceof nv){var a=Iu.fromString.apply(Iu,[t].concat(r));return Xp(a),new av(e,null,new Au(a))}if(!(e instanceof av||e instanceof ov))throw new lu(cu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Iu.fromString.apply(Iu,[t].concat(r)));return Xp(o),new av(e.firestore,e instanceof ov?e.converter:null,new Au(o))}var cv=function(e,t){function n(){var e=this;h(this,n),this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new dd(this,"async_queue_retry"),this.ou=function(){var t=fd();t&&nu("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Ho.$o()};var t=fd();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ou)}return m(n,[{key:"isShuttingDown",get:function(){return this.eu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this._u(),this.au(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.eu){this.eu=!0,this.iu=e||!1;var t=fd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ou)}}},{key:"enqueue",value:function(e){var t=this;if(this._u(),this.eu)return new Promise((function(){}));var n=new fu;return this.au((function(){return t.eu&&t.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Xa.push(e),t.uu()}))}},{key:"uu",value:function(){return(e=e||rt(Ze().mark((function e(){var t=this;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Xa.length){e.next=14;break}return e.prev=1,e.next=4,this.Xa[0]();case 4:this.Xa.shift(),this.Ho.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Vu(e.t0)){e.next=12;break}throw e.t0;case 12:nu("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Xa.length>0&&this.Ho.Qo((function(){return t.uu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})))).apply(this,arguments)}},{key:"au",value:function(e){var t=this,n=this.Za.then((function(){return t.ru=!0,e().catch((function(e){t.nu=e,t.ru=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ru("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.ru=!1,e}))}));return this.Za=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this._u(),this.su.indexOf(e)>-1&&(t=0);var i=Qd.createAndSchedule(this,e,t,n,(function(e){return r.cu(e)}));return this.tu.push(i),i}},{key:"_u",value:function(){this.nu&&ou()}},{key:"verifyOperationInProgress",value:function(){}},{key:"lu",value:function(){return(t=t||rt(Ze().mark((function e(){var t;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Za,e.next=3,t;case 3:if(t!==this.Za){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"hu",value:function(e){var t,n=_(this.tu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.lu().then((function(){t.tu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=_(t.tu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.lu()}))}},{key:"Iu",value:function(e){this.su.push(e)}},{key:"cu",value:function(e){var t=this.tu.indexOf(e);this.tu.splice(t,1)}}]),n}();var lv=function(e){y(n,e);var t=x(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new cv,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return m(n,[{key:"_terminate",value:function(){return this._firestoreClient||hv(this),this._firestoreClient.terminate()}}]),n}(nv);function fv(e){return e._firestoreClient||hv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hv(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new hc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Gp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new jp(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var dv=function(){function e(t){h(this,e),this._byteString=t}return m(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ic.fromBase64String(t))}catch(t){throw new lu(cu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ic.fromUint8Array(t))}}]),e}(),pv=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new lu(cu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nu(n)}return m(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var vv=m((function e(t){h(this,e),this._methodName=t})),mv=function(){function e(t,n){if(h(this,e),!isFinite(t)||t<-90||t>90)throw new lu(cu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lu(cu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return m(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return xu(this._lat,e._lat)||xu(this._long,e._long)}}]),e}(),gv=/^__.*__$/,yv=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new ff(e,this.data,this.fieldMask,t,this.fieldTransforms):new lf(e,this.data,t,this.fieldTransforms)}}]),e}();function kv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ou()}}var bv=function(){function e(t,n,r,i,a,o){h(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.du(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return m(e,[{key:"path",get:function(){return this.settings.path}},{key:"Tu",get:function(){return this.settings.Tu}},{key:"Eu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Au",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Ru:!1});return r.Vu(e),r}},{key:"mu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Ru:!1});return r.du(),r}},{key:"fu",value:function(e){return this.Eu({path:void 0,Ru:!0})}},{key:"gu",value:function(e){return Rv(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"du",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}},{key:"Vu",value:function(e){if(0===e.length)throw this.gu("Document fields must not be empty");if(kv(this.Tu)&&gv.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}]),e}(),wv=function(){function e(t,n,r){h(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||hd(t)}return m(e,[{key:"wu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new bv({Tu:e,methodName:t,yu:n,path:Nu.emptyPath(),Ru:!1,pu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function xv(e){var t=e._freezeSettings(),n=hd(e._databaseId);return new wv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ev(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wu(a.merge||a.mergeFields?2:0,t,n,i);Cv("Data must be an object, but it was:",o,r);var s,u,c=Tv(r,o);if(a.merge)s=new nc(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=_(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=Nv(t,l.value,n);if(!o.contains(d))throw new lu(cu.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));Pv(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new nc(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new yv(new Ac(c),s,u)}function Sv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return _v(n,e.wu(r?4:3,t))}function _v(e,t){if(Iv(e=jt(e)))return Cv("Unsupported field value:",t,e),Tv(e,t);if(e instanceof vv)return function(e,t){if(!kv(t.Tu))throw t.gu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ru&&4!==t.Tu)throw t.gu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=_(e);try{for(a.s();!(n=a.n()).done;){var o=_v(n.value,t.fu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=jt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Su.fromDate(e);return{timestampValue:Wf(t.serializer,n)}}if(e instanceof Su){var r=new Su(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Wf(t.serializer,r)}}if(e instanceof mv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dv)return{bytesValue:Gf(t.serializer,e._byteString)};if(e instanceof av){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.gu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Xf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.gu("Unsupported field value: ".concat(Zp(e)))}(e,t)}function Tv(e,t){var n={};return Xu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yu(e,(function(e,r){var i=_v(r,t.Au(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Iv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Su||e instanceof mv||e instanceof dv||e instanceof av||e instanceof vv)}function Cv(e,t,n){if(!Iv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Zp(n);throw"an object"===r?t.gu(e+" a custom object"):t.gu(e+" "+r)}}function Nv(e,t,n){if((t=jt(t))instanceof pv)return t._internalPath;if("string"==typeof t)return Ov(e,t);throw Rv("Field path arguments must be of type string or ",e,!1,void 0,n)}var Av=new RegExp("[~\\*/\\[\\]]");function Ov(e,t,n){if(t.search(Av)>=0)throw Rv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return E(pv,f(t.split(".")))._internalPath}catch(cr){throw Rv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Rv(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new lu(cu.INVALID_ARGUMENT,s+e+u)}function Pv(e,t){return e.some((function(e){return e.isEqual(t)}))}var Dv=function(){function e(t,n,r,i,a){h(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return m(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new av(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Lv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Mv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Lv=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){return at(k(n.prototype),"data",this).call(this)}}]),n}(Dv);function Mv(e,t){return"string"==typeof t?Ov(e,t):t instanceof pv?t._internalPath:t._delegate._internalPath}function jv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new lu(cu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Fv=m((function e(){h(this,e)})),Uv=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(Fv);function Vv(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Fv&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Hv})).length,n=e.filter((function(e){return e instanceof zv})).length;if(t>1||t>0&&n>0)throw new lu(cu.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=_(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var zv=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return m(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Gv(e._query,t),new iv(e.firestore,e.converter,ml(e._query,t))}},{key:"_parse",value:function(e){var t=xv(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new lu(cu.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Wv(o,a);var u,c=[],l=_(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(Kv(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=Kv(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Wv(o,a),s=Sv(n,t,o,"in"===a||"not-in"===a);return Uc.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Uv);function Bv(e,t,n){var r=t,i=Mv("where",e);return zv._create(i,r,n)}var Hv=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return m(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Vc.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=_(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;Gv(r,a),r=ml(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new iv(e.firestore,e.converter,ml(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Fv);var qv=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return m(n,[{key:"_apply",value:function(e){return new iv(e.firestore,e.converter,gl(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Uv);function Kv(e,t,n){if("string"==typeof(n=jt(n))){if(""===n)throw new lu(cu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hl(t)&&-1!==n.indexOf("/"))throw new lu(cu.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Iu.fromString(n));if(!Au.isDocumentKey(r))throw new lu(cu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return xc(e,new Au(r))}if(n instanceof av)return xc(e,n._key);throw new lu(cu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Zp(n),"."))}function Wv(e,t){if(!Array.isArray(e)||0===e.length)throw new lu(cu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Gv(e,t){if(t.isInequality()){var n=fl(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new lu(cu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=ll(e);null!==i&&Qv(e,r,i)}var a=function(e,t){var n,r=_(e);try{for(r.s();!(n=r.n()).done;){var i,a=_(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new lu(cu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new lu(cu.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function Qv(e,t,n){if(!n.isEqual(t))throw new lu(cu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Yv=function(){function e(){h(this,e)}return m(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(vc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(uc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ou()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Yu(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new mv(sc(e.latitude),sc(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=lc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(fc(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=oc(e);return new Su(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Iu.fromString(e);su(gh(n));var r=new dc(n.get(1),n.get(3)),i=new Au(n.popFirst(5));return r.isEqual(t)||ru("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Xv(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Jv=function(){function e(t,n){h(this,e),this.hasPendingWrites=t,this.fromCache=n}return m(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Zv=function(e){y(n,e);var t=x(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return m(n,[{key:"exists",value:function(){return at(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new $v(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Mv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Dv),$v=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return at(k(n.prototype),"data",this).call(this,e)}}]),n}(Zv),em=function(){function e(t,n,r,i){h(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jv(i.hasPendingWrites,i.fromCache),this.query=r}return m(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new $v(n._firestore,n._userDataWriter,r.key,r,new Jv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new lu(cu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new $v(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Jv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new $v(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Jv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:tm(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function tm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ou()}}function nm(e){e=$p(e,av);var t=$p(e.firestore,lv);return Kp(fv(t),e._key).then((function(n){return sm(t,e,n)}))}var rm=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new dv(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new av(this.firestore,null,t)}}]),n}(Yv);function im(e){e=$p(e,iv);var t=$p(e.firestore,lv),n=fv(t),r=new rm(t);return jv(e._query),Wp(n,e._query).then((function(n){return new em(t,r,e,n)}))}function am(e,t){var n=$p(e.firestore,lv),r=uv(e),i=Xv(e.converter,t);return om(n,[Ev(xv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,tf.exists(!1))]).then((function(){return r}))}function om(e,t){return function(e,t){var n=new fu;return e.asyncQueue.enqueueAndForget(rt(Ze().mark((function r(){return Ze().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=mp,r.next=3,Hp(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(fv(e),t)}function sm(e,t,n){var r=n.docs.get(t._key),i=new rm(e);return new Zv(e,i,t._key,r,new Jv(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){$s=e}(Rn),In(new Ft("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new lv(new vu(e.getProvider("auth-internal")),new ku(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new lu(cu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ln(Js,"4.1.3",e),Ln(Js,"4.1.3","esm2017")}();Ln("firebase","10.3.1","app");function um(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var cm,lm,fm,hm,dm,pm,vm,mm,gm,ym,km,bm,wm,xm,Em,Sm,_m,Tm,Im,Cm,Nm,Am,Om,Rm,Pm,Dm,Lm,Mm,jm,Fm,Um,Vm,zm,Bm,Hm,qm,Km;function Wm(e){return void 0!==e&&void 0!==e.enterprise}var Gm=m((function e(t){if(h(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Qm(){return $e({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ym=Qm,Xm=new xt("auth","Firebase",Qm()),Jm=new Yt("@firebase/auth");function Zm(e){if(Jm.logLevel<=Bt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Jm.warn.apply(Jm,["Auth (".concat(Rn,"): ").concat(e)].concat(n))}}function $m(e){if(Jm.logLevel<=Bt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Jm.error.apply(Jm,["Auth (".concat(Rn,"): ").concat(e)].concat(n))}}function eg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw rg.apply(void 0,[e].concat(n))}function tg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return rg.apply(void 0,[e].concat(n))}function ng(e,t,n){var r=Object.assign(Object.assign({},Ym()),$e({},t,n));return new xt("auth","Firebase",r).create(t,{appName:e.name})}function rg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=f(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(f(o)))}return Xm.create.apply(Xm,[e].concat(n))}function ig(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw rg.apply(void 0,[t].concat(r))}}function ag(e){var t="INTERNAL ASSERTION FAILED: "+e;throw $m(t),new Error(t)}function og(e,t){e||ag(t)}function sg(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ug(){return"http:"===cg()||"https:"===cg()}function cg(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var lg=function(){function e(t,n){h(this,e),this.shortDelay=t,this.longDelay=n,og(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())||"object"===typeof navigator&&"ReactNative"===navigator.product}return m(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ug()||yt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function fg(e,t){og(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var hg=function(){function e(){h(this,e)}return m(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ag("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ag("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ag("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),dg=($e(cm={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),$e(cm,"MISSING_CUSTOM_TOKEN","internal-error"),$e(cm,"INVALID_IDENTIFIER","invalid-email"),$e(cm,"MISSING_CONTINUE_URI","internal-error"),$e(cm,"INVALID_PASSWORD","wrong-password"),$e(cm,"MISSING_PASSWORD","missing-password"),$e(cm,"EMAIL_EXISTS","email-already-in-use"),$e(cm,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),$e(cm,"INVALID_IDP_RESPONSE","invalid-credential"),$e(cm,"INVALID_PENDING_TOKEN","invalid-credential"),$e(cm,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),$e(cm,"MISSING_REQ_TYPE","internal-error"),$e(cm,"EMAIL_NOT_FOUND","user-not-found"),$e(cm,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),$e(cm,"EXPIRED_OOB_CODE","expired-action-code"),$e(cm,"INVALID_OOB_CODE","invalid-action-code"),$e(cm,"MISSING_OOB_CODE","internal-error"),$e(cm,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),$e(cm,"INVALID_ID_TOKEN","invalid-user-token"),$e(cm,"TOKEN_EXPIRED","user-token-expired"),$e(cm,"USER_NOT_FOUND","user-token-expired"),$e(cm,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),$e(cm,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),$e(cm,"INVALID_CODE","invalid-verification-code"),$e(cm,"INVALID_SESSION_INFO","invalid-verification-id"),$e(cm,"INVALID_TEMPORARY_PROOF","invalid-credential"),$e(cm,"MISSING_SESSION_INFO","missing-verification-id"),$e(cm,"SESSION_EXPIRED","code-expired"),$e(cm,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),$e(cm,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),$e(cm,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),$e(cm,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),$e(cm,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),$e(cm,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),$e(cm,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),$e(cm,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),$e(cm,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),$e(cm,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),$e(cm,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),$e(cm,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),$e(cm,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),$e(cm,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),$e(cm,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),$e(cm,"MISSING_CLIENT_TYPE","missing-client-type"),$e(cm,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),$e(cm,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),$e(cm,"INVALID_REQ_TYPE","invalid-req-type"),cm),pg=new lg(3e4,6e4);function vg(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function mg(e,t,n,r){return(lm=lm||rt(Ze().mark((function e(t,n,r,i){var a,o=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",gg(t,a,rt(Ze().mark((function e(){var a,o,s,u;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=It(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",hg.fetch()(kg(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gg(e,t,n){return(fm=fm||rt(Ze().mark((function e(t,n,r){var i,a,o,s,u,l,f,h,d,p;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},dg),n),e.prev=2,a=new bg(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw wg(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw wg(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw wg(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw wg(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw ng(t,p,d);case 34:eg(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof wt)){e.next=41;break}throw e.t0;case 41:eg(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function yg(e,t,n,r){return(hm=hm||rt(Ze().mark((function e(t,n,r,i){var a,o,s=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,mg(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&eg(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kg(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?fg(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var bg=function(){function e(t){var n=this;h(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(tg(n.auth,"network-request-failed"))}),pg.get())}))}return m(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function wg(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=tg(e,t,r);return i.customData._tokenResponse=n,i}function xg(e,t){return(dm=dm||rt(Ze().mark((function e(t,n){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mg(t,"GET","/v2/recaptchaConfig",vg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eg(e,t){return(pm=pm||rt(Ze().mark((function e(t,n){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mg(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sg(e,t){return(vm=vm||rt(Ze().mark((function e(t,n){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mg(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _g(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Tg(e){return 1e3*Number(e)}function Ig(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return $m("JWT malformed, contained fewer than 3 sections"),null;try{var a=lt(r);return a?JSON.parse(a):($m("Failed to decode base64 JWT payload"),null)}catch(o){return $m("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Cg(e,t){return(gm=gm||rt(Ze().mark((function e(t,n){var r=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof wt&&Ng(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function Ng(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ag=function(e){function t(e){h(this,t),this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return m(t,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(rt(Ze().mark((function t(){return Ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){return(e=e||rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})))).apply(this,arguments)}}]),t}(),Og=function(){function e(t,n){h(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return m(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=_g(this.lastLoginAt),this.creationTime=_g(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Rg(e){return(ym=ym||rt(Ze().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Cg(t,Sg(r,{idToken:i}));case 6:ig(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=um(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=Pg(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Og(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pg(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(f(n),f(t))}function Dg(e,t){return(bm=bm||rt(Ze().mark((function e(t,n){var r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gg(t,{},rt(Ze().mark((function e(){var r,i,a,o,s,u;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=It({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=kg(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",hg.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lg=function(e,t){function n(){h(this,n),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return m(n,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ig(e.idToken,"internal-error"),ig("undefined"!==typeof e.idToken,"internal-error"),ig("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ig(e);return ig(t,"internal-error"),ig("undefined"!==typeof t.exp,"internal-error"),ig("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(t){return(e=e||rt(Ze().mark((function e(t){var n,r=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ig(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(e,n){return(t=t||rt(Ze().mark((function e(t,n){var r,i,a,o;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dg(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new n,this.toJSON())}},{key:"_performRefresh",value:function(){return ag("not implemented")}}],[{key:"fromJSON",value:function(e,t){var r=t.refreshToken,i=t.accessToken,a=t.expirationTime,o=new n;return r&&(ig("string"===typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(ig("string"===typeof i,"internal-error",{appName:e}),o.accessToken=i),a&&(ig("number"===typeof a,"internal-error",{appName:e}),o.expirationTime=a),o}}]),n}();function Mg(e,t){ig("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var jg=function(e,t,n,r){function i(e){h(this,i);var t=e.uid,n=e.auth,r=e.stsTokenManager,a=um(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ag(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?f(a.providerData):[],this.metadata=new Og(a.createdAt||void 0,a.lastLoginAt||void 0)}return m(i,[{key:"getIdToken",value:function(t){return(e=e||rt(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cg(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ig(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getIdTokenResult",value:function(e){return function(e){return(mm=mm||rt(Ze().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=jt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ig((a=Ig(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:_g(Tg(a.auth_time)),issuedAtTime:_g(Tg(a.iat)),expirationTime:_g(Tg(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return(km=km||rt(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jt(t),e.next=3,Rg(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ig(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(e){var t=new i(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}},{key:"_onReload",value:function(e){ig(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(e){return(t=t||rt(Ze().mark((function e(t){var n,r,i=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Rg(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"delete",value:function(){return(n=n||rt(Ze().mark((function e(){var t;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Cg(this,Eg(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(e,t){var n,r,a,o,s,u,c,l,f=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,v=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,k=t.uid,b=t.emailVerified,w=t.isAnonymous,x=t.providerData,E=t.stsTokenManager;ig(k&&E,e,"internal-error");var S=Lg.fromJSON(this.name,E);ig("string"===typeof k,e,"internal-error"),Mg(f,e.name),Mg(h,e.name),ig("boolean"===typeof b,e,"internal-error"),ig("boolean"===typeof w,e,"internal-error"),Mg(d,e.name),Mg(p,e.name),Mg(v,e.name),Mg(m,e.name),Mg(g,e.name),Mg(y,e.name);var _=new i({uid:k,auth:e,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(_.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(e,t){return(r=r||rt(Ze().mark((function e(t,n){var r,a,o,s=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],(a=new Lg).updateFromServerResponse(n),o=new i({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r}),e.next=6,Rg(o);case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),i}(),Fg=new Map;function Ug(e){og(e instanceof Function,"Expected a class definition");var t=Fg.get(e);return t?(og(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Fg.set(e,t),t)}var Vg=function(e,t,n,r){function i(){h(this,i),this.type="NONE",this.storage={}}return m(i,[{key:"_isAvailable",value:function(){return(e=e||rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"_set",value:function(e,n){return(t=t||rt(Ze().mark((function e(t,n){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_get",value:function(e){return(n=n||rt(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_remove",value:function(e){return(r=r||rt(Ze().mark((function e(t){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),i}();Vg.type="NONE";var zg=Vg;function Bg(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Hg=function(e,t,n){function r(e,t,n){h(this,r),this.persistence=e,this.auth=t,this.userKey=n;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Bg(this.userKey,a.apiKey,o),this.fullPersistenceKey=Bg("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return m(r,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){return(e=e||rt(Ze().mark((function e(){var t;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?jg._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(e){return(t=t||rt(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(e,t){return(n=n||rt(Ze().mark((function e(t,n){var i,a,o,s,u,c,l,f,h,d,p,v,m,g=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=g.length>2&&void 0!==g[2]?g[2]:"authUser",n.length){e.next=3;break}return e.abrupt("return",new r(Ug(zg),t,o));case 3:return e.next=5,Promise.all(n.map((function(e){return(i=i||rt(Ze().mark((function e(t){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)})));case 5:s=e.sent.filter((function(e){return e})),u=s[0]||Ug(zg),c=Bg(o,t.config.apiKey,t.name),l=null,f=_(n),e.prev=10,f.s();case 12:if((h=f.n()).done){e.next=29;break}return d=h.value,e.prev=14,e.next=17,d._get(c);case 17:if(!(p=e.sent)){e.next=23;break}return v=jg._fromJSON(t,p),d!==u&&(l=v),u=d,e.abrupt("break",29);case 23:e.next=27;break;case 25:e.prev=25,e.t0=e.catch(14);case 27:e.next=12;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(10),f.e(e.t1);case 34:return e.prev=34,f.f(),e.finish(34);case 37:if(m=s.filter((function(e){return e._shouldAllowMigration})),u._shouldAllowMigration&&m.length){e.next=40;break}return e.abrupt("return",new r(u,t,o));case 40:if(u=m[0],!l){e.next=44;break}return e.next=44,u._set(c,l.toJSON());case 44:return e.next=46,Promise.all(n.map((function(e){return(a=a||rt(Ze().mark((function e(t){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===u){e.next=8;break}return e.prev=1,e.next=4,t._remove(c);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)})));case 46:return e.abrupt("return",new r(u,t,o));case 47:case"end":return e.stop()}}),e,null,[[10,31,34,37],[14,25]])})))).apply(this,arguments)}}]),r}();function qg(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Qg(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Kg(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Xg(t))return"Blackberry";if(Jg(t))return"Webos";if(Wg(t))return"Safari";if((t.includes("chrome/")||Gg(t))&&!t.includes("edge/"))return"Chrome";if(Yg(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Kg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/firefox\//i.test(e)}function Wg(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Gg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/crios\//i.test(e)}function Qg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/iemobile/i.test(e)}function Yg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/android/i.test(e)}function Xg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/blackberry/i.test(e)}function Jg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/webos/i.test(e)}function Zg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function $g(){return function(){var e=gt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ey(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return Zg(e)||Yg(e)||Jg(e)||Xg(e)||/windows phone/i.test(e)||Qg(e)}function ty(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=qg(gt());break;case"Worker":t="".concat(qg(gt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Rn,"/").concat(r)}var ny=function(e){function t(e){h(this,t),this.auth=e,this.queue=[]}return m(t,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(t){return(e=e||rt(Ze().mark((function e(t){var n,r,i,a,o,s,u;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=_(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=_(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})))).apply(this,arguments)}}]),t}();function ry(e){return(wm=wm||rt(Ze().mark((function e(t){var n,r=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",mg(t,"GET","/v2/passwordPolicy",vg(t,n)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var iy=function(){function e(t){var n,r,i,a;h(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return m(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),ay=function(e,t,n,r,i,a,o,s,u,c,l,f,d,p,v,g,y){function k(e,t,n,r){h(this,k),this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sy(this),this.idTokenSubscription=new sy(this),this.beforeStateQueue=new ny(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}return m(k,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ug(t)),this._initializationPromise=this.queue(rt(Ze().mark((function r(){var i,a;return Ze().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Hg.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){return(e=e||rt(Ze().mark((function e(){var t;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"initializeCurrentUser",value:function(e){return(t=t||rt(Ze().mark((function e(t){var n,r,i,a,o,s,u;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ig(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})))).apply(this,arguments)}},{key:"tryRedirectSignIn",value:function(e){return(n=n||rt(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})))).apply(this,arguments)}},{key:"reloadAndSetCurrentUserOrClear",value:function(e){return(r=r||rt(Ze().mark((function e(t){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rg(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})))).apply(this,arguments)}},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){return(i=i||rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"updateCurrentUser",value:function(e){return(a=a||rt(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?jt(t):null)&&ig(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_updateCurrentUser",value:function(e){return(o=o||rt(Ze().mark((function e(t){var n,r=this,i=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ig(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"signOut",value:function(){return(s=s||rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"setPersistence",value:function(e){var t=this;return this.queue(rt(Ze().mark((function n(){return Ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ug(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(e){return(u=u||rt(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){return(c=c||rt(Ze().mark((function e(){var t,n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ry(this);case 2:t=e.sent,n=new iy(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new xt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(e,t){return(l=l||rt(Ze().mark((function e(t,n){var r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getOrInitRedirectPersistenceManager",value:function(e){return(f=f||rt(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ig(n=t&&Ug(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Hg.create(this,[Ug(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_redirectUserForId",value:function(e){return(d=d||rt(Ze().mark((function e(t){var n,r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_persistUserIfCurrent",value:function(e){return(p=p||rt(Ze().mark((function e(t){var n=this;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ig(s,this,"internal-error"),s.then((function(){o||a(i.currentUser)})),"function"===typeof t){var u=e.addObserver(t,n,r);return function(){o=!0,u()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(e){return(v=v||rt(Ze().mark((function e(t){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ig(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ty(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){return(g=g||rt(Ze().mark((function e(){var t,n,r,i;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$e({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_getAppCheckToken",value:function(){return(y=y||rt(Ze().mark((function e(){var t,n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Zm("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),k}();function oy(e){return jt(e)}var sy=function(){function e(t){var n=this;h(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new At(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return m(e,[{key:"next",get:function(){return ig(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function uy(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=tg("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function cy(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ly=function(e){function t(e){h(this,t),this.type="recaptcha-enterprise",this.auth=oy(e)}return m(t,[{key:"verify",value:function(){return(e=e||rt(Ze().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,t,r){var i=window.grecaptcha;Wm(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:n}).then((function(e){t(e)})).catch((function(){t("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(e){return(t=t||rt(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise((function(e,r){return(n=n||rt(Ze().mark((function e(n,r){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xg(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Gm(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},n=s.length>0&&void 0!==s[0]?s[0]:"verify",r=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){i(o.auth).then((function(n){if(!r&&Wm(window.grecaptcha))a(n,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));uy("https://www.google.com/recaptcha/enterprise.js?render="+n).then((function(){a(n,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),t}();function fy(e,t,n){return(xm=xm||rt(Ze().mark((function e(t,n,r){var i,a,o,s,u=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new ly(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function hy(e,t,n){var r=oy(e);ig(r._canInitEmulator,r,"emulator-config-failed"),ig(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=dy(t),o=function(e){var t=dy(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:py(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:py(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function dy(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function py(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var vy=function(){function e(t,n){h(this,e),this.providerId=t,this.signInMethod=n}return m(e,[{key:"toJSON",value:function(){return ag("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ag("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ag("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ag("not implemented")}}]),e}();function my(e,t){return(Em=Em||rt(Ze().mark((function e(t,n){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mg(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gy(e,t){return(Sm=Sm||rt(Ze().mark((function e(t,n){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yg(t,"POST","/v1/accounts:signInWithPassword",vg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yy(e,t){return(_m=_m||rt(Ze().mark((function e(t,n){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yg(t,"POST","/v1/accounts:signInWithEmailLink",vg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ky(e,t){return(Tm=Tm||rt(Ze().mark((function e(t,n){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yg(t,"POST","/v1/accounts:signInWithEmailLink",vg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var by=function(e,t,n){y(i,e);var r=x(i);function i(e,t,n){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,i),(a=r.call(this,"password",n))._email=e,a._password=t,a._tenantId=o,a}return m(i,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(e){return(t=t||rt(Ze().mark((function e(t){var n,r,i,a;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,fy(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",gy(t,i));case 11:return e.abrupt("return",gy(t,r).catch((function(e){return(a=a||rt(Ze().mark((function e(n){var i;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,fy(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",gy(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)})));case 12:return e.abrupt("return",yy(t,{email:this._email,oobCode:this._password}));case 13:eg(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_linkToIdToken",value:function(e,t){return(n=n||rt(Ze().mark((function e(t,n){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",my(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ky(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:eg(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new i(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new i(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),i}(vy);function wy(e,t){return(Im=Im||rt(Ze().mark((function e(t,n){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yg(t,"POST","/v1/accounts:signInWithIdp",vg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xy=function(e){y(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return m(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return wy(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,wy(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,wy(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=It(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):eg("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=um(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(vy);function Ey(e,t){return(Cm=Cm||rt(Ze().mark((function e(t,n){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mg(t,"POST","/v1/accounts:sendVerificationCode",vg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sy=$e({},"USER_NOT_FOUND","user-not-found");var _y=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone","phone")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return(Nm=Nm||rt(Ze().mark((function e(t,n){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yg(t,"POST","/v1/accounts:signInWithPhoneNumber",vg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return(Am=Am||rt(Ze().mark((function e(t,n){var r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yg(t,"POST","/v1/accounts:signInWithPhoneNumber",vg(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw wg(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return(Om=Om||rt(Ze().mark((function e(t,n){var r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",yg(t,"POST","/v1/accounts:signInWithPhoneNumber",vg(t,r),Sy));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(vy);var Ty=function(){function e(t){var n,r,i,a,o,s;h(this,e);var u=Ct(Nt(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);ig(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return m(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ct(Nt(e)).link,n=t?Ct(Nt(t)).deep_link_id:null,r=Ct(Nt(e)).deep_link_id;return(r?Ct(Nt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Iy=function(){function e(){h(this,e),this.providerId=e.PROVIDER_ID}return m(e,null,[{key:"credential",value:function(e,t){return by._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ty.parseLink(t);return ig(n,"argument-error"),by._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Iy.PROVIDER_ID="password",Iy.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Iy.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Cy=function(){function e(t){h(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return m(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ny=function(e){y(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).scopes=[],e}return m(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return f(this.scopes)}}]),n}(Cy),Ay=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.call(this,"facebook.com")}return m(n,null,[{key:"credential",value:function(e){return xy._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Ny);Ay.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ay.PROVIDER_ID="facebook.com";var Oy=function(e){y(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return m(n,null,[{key:"credential",value:function(e,t){return xy._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Ny);Oy.GOOGLE_SIGN_IN_METHOD="google.com",Oy.PROVIDER_ID="google.com";var Ry=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.call(this,"github.com")}return m(n,null,[{key:"credential",value:function(e){return xy._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Ny);Ry.GITHUB_SIGN_IN_METHOD="github.com",Ry.PROVIDER_ID="github.com";var Py=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.call(this,"twitter.com")}return m(n,null,[{key:"credential",value:function(e,t){return xy._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Ny);Py.TWITTER_SIGN_IN_METHOD="twitter.com",Py.PROVIDER_ID="twitter.com";var Dy=function(e,t){function n(e){h(this,n),this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}return m(n,null,[{key:"_fromIdTokenResponse",value:function(t,r,i){return(e=e||rt(Ze().mark((function e(t,r,i){var a,o,s,u,c=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],e.next=3,jg._fromIdTokenResponse(t,i,a);case 3:return o=e.sent,s=Ly(i),u=new n({user:o,providerId:s,_tokenResponse:i,operationType:r}),e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"_forOperation",value:function(e,r,i){return(t=t||rt(Ze().mark((function e(t,r,i){var a;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._updateTokensIfNecessary(i,!0);case 2:return a=Ly(i),e.abrupt("return",new n({user:t,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),n}();function Ly(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var My=function(e){y(n,e);var t=x(n);function n(e,r,i,a){var o,s;return h(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(w(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return m(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(wt);function jy(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw My._fromErrorAndOperation(e,n,t,r);throw n}))}function Fy(e,t){return(Rm=Rm||rt(Ze().mark((function e(t,n){var r,i,a=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Cg,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Dy._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uy(e,t){return(Pm=Pm||rt(Ze().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Cg(t,jy(i,a,n,t),r);case 6:return ig((o=e.sent).idToken,i,"internal-error"),ig(s=Ig(o.idToken),i,"internal-error"),u=s.sub,ig(t.uid===u,i,"user-mismatch"),e.abrupt("return",Dy._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&eg(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}function Vy(e,t){return(Dm=Dm||rt(Ze().mark((function e(t,n){var r,i,a,o,s=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,jy(t,i,n);case 4:return a=e.sent,e.next=7,Dy._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zy(e,t){return mg(e,"POST","/v2/accounts/mfaEnrollment:start",vg(e,t))}function By(e,t){return mg(e,"POST","/v2/accounts/mfaEnrollment:start",vg(e,t))}function Hy(e,t){return mg(e,"POST","/v2/accounts/mfaEnrollment:finalize",vg(e,t))}new WeakMap;var qy="__sak",Ky=function(){function e(t,n){h(this,e),this.storageRetriever=t,this.type=n}return m(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(qy,"1"),this.storage.removeItem(qy),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Wy=function(e,t,n,r){y(a,e);var i=x(a);function a(){var e;return h(this,a),(e=i.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=gt();return Wg(e)||Zg(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ey(),e._shouldAllowMigration=!0,e}return m(a,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);$g()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(e,n){return(t=t||rt(Ze().mark((function e(t,n){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at(k(a.prototype),"_set",this).call(this,t,n);case 2:this.localCache[t]=JSON.stringify(n);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_get",value:function(e){return(n=n||rt(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at(k(a.prototype),"_get",this).call(this,t);case 2:return n=e.sent,this.localCache[t]=JSON.stringify(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_remove",value:function(e){return(r=r||rt(Ze().mark((function e(t){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at(k(a.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),a}(Ky);Wy.type="LOCAL";var Gy=Wy,Qy=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return m(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ky);Qy.type="SESSION";var Yy=Qy;function Xy(e){var t;return Promise.all(e.map((function(e){return(t=t||rt(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)})))}var Jy=function(e){function t(e){h(this,t),this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return m(t,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(t){return(e=e||rt(Ze().mark((function e(t){var n,r,i,a,o,s,u,c,l;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(r=t).data,a=i.eventId,o=i.eventType,s=i.data,null===(u=this.handlersMap[o])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return r.ports[0].postMessage({status:"ack",eventId:a,eventType:o}),c=Array.from(u).map((function(e){return(n=n||rt(Ze().mark((function e(t){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(r.origin,s));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)})),e.next=9,Xy(c);case 9:l=e.sent,r.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:l});case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(e){var n=this.receivers.find((function(t){return t.isListeningto(e)}));if(n)return n;var r=new t(e);return this.receivers.push(r),r}}]),t}();function Zy(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Jy.receivers=[];var $y=function(e){function t(e){h(this,t),this.target=e,this.handlers=new Set}return m(t,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(t,n){return(e=e||rt(Ze().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Zy("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),t}();function ek(){return window}function tk(e){ek().location.href=e}function nk(){return"undefined"!==typeof ek().WorkerGlobalScope&&"function"===typeof ek().importScripts}function rk(){return(Lm=Lm||rt(Ze().mark((function e(){var t;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ik(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ak="firebaseLocalStorageDb",ok="firebaseLocalStorage",sk="fbase_key",uk=function(){function e(t){h(this,e),this.request=t}return m(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ck(e,t){return e.transaction([ok],t?"readwrite":"readonly").objectStore(ok)}function lk(){var e=indexedDB.deleteDatabase(ak);return new uk(e).toPromise()}function fk(){var e=indexedDB.open(ak,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ok,{keyPath:sk})}catch(r){n(r)}})),e.addEventListener("success",rt(Ze().mark((function n(){var r;return Ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ok)){n.next=12;break}return r.close(),n.next=5,lk();case 5:return n.t0=t,n.next=8,fk();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function hk(e,t,n){return(Mm=Mm||rt(Ze().mark((function e(t,n,r){var i,a;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ck(t,!0).put(($e(i={},sk,n),$e(i,"value",r),i)),e.abrupt("return",new uk(a).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dk(e,t){return(jm=jm||rt(Ze().mark((function e(t,n){var r,i;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ck(t,!1).get(n),e.next=3,new uk(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pk(e,t){var n=ck(e,!0).delete(t);return new uk(n).toPromise()}var vk=function(e,t,n,r,i,a,o,s,u,c,l,f){function d(){h(this,d),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return m(d,[{key:"_openDb",value:function(){return(e=e||rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,fk();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_withRetries",value:function(e){return(t=t||rt(Ze().mark((function e(t){var n,r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})))).apply(this,arguments)}},{key:"initializeServiceWorkerMessaging",value:function(){return(n=n||rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nk()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"initializeReceiver",value:function(){return(r=r||rt(Ze().mark((function e(){var t,n,r=this;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Jy._getInstance(nk()?self:null),this.receiver._subscribe("keyChanged",(function(e,n){return(t=t||rt(Ze().mark((function e(t,n){var i;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(n.key)});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)})),this.receiver._subscribe("ping",(function(e,t){return(n=n||rt(Ze().mark((function e(t,n){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"initializeSender",value:function(){return(i=i||rt(Ze().mark((function e(){var t,n,r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rk();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new $y(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"notifyServiceWorker",value:function(e){return(a=a||rt(Ze().mark((function e(t){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ik()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})))).apply(this,arguments)}},{key:"_isAvailable",value:function(){return(o=o||rt(Ze().mark((function e(){var t;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,fk();case 5:return t=e.sent,e.next=8,hk(t,qy,"1");case 8:return e.next=10,pk(t,qy);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}},{key:"_withPendingWrite",value:function(e){return(s=s||rt(Ze().mark((function e(t){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})))).apply(this,arguments)}},{key:"_set",value:function(e,t){return(u=u||rt(Ze().mark((function e(t,n){var r=this;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return hk(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_get",value:function(e){return(c=c||rt(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return dk(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_remove",value:function(e){return(l=l||rt(Ze().mark((function e(t){var n=this;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return pk(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_poll",value:function(){return(f=f||rt(Ze().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ck(e,!1).getAll();return new uk(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=_(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(rt(Ze().mark((function t(){return Ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),d}();vk.type="LOCAL";var mk=vk;function gk(e,t){return mg(e,"POST","/v2/accounts/mfaSignIn:start",vg(e,t))}function yk(e,t){return mg(e,"POST","/v2/accounts/mfaSignIn:finalize",vg(e,t))}cy("rcb"),new lg(3e4,6e4);var kk="recaptcha";function bk(e,t,n){return(Fm=Fm||rt(Ze().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ig("string"===typeof a,t,"argument-error"),ig(r.type===kk,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return ig("enroll"===s.type,t,"internal-error"),e.next=13,zy(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return ig("signin"===s.type,t,"internal-error"),ig(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,gk(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ey(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])})))).apply(this,arguments)}var wk=function(){function e(t){h(this,e),this.providerId=e.PROVIDER_ID,this.auth=oy(t)}return m(e,[{key:"verifyPhoneNumber",value:function(e,t){return bk(this.auth,e,jt(t))}}],[{key:"credential",value:function(e,t){return _y._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?_y._fromTokenResponse(n,r):null}}]),e}();function xk(e,t){return t?Ug(t):(ig(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}wk.PROVIDER_ID="phone",wk.PHONE_SIGN_IN_METHOD="phone";var Ek=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,"custom","custom")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return wy(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return wy(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return wy(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(vy);function Sk(e){return Vy(e.auth,new Ek(e),e.bypassAuthState)}function _k(e){var t=e.auth,n=e.user;return ig(n,t,"internal-error"),Uy(n,new Ek(e),e.bypassAuthState)}function Tk(e){return(Um=Um||rt(Ze().mark((function e(t){var n,r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ig(r=t.user,n,"internal-error"),e.abrupt("return",Fy(r,new Ek(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ik=function(e){function t(e,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];h(this,t),this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return m(t,[{key:"execute",value:function(){var e,t=this;return new Promise((function(n,r){return(e=e||rt(Ze().mark((function e(n,r){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.pendingPromise={resolve:n,reject:r},e.prev=1,e.next=4,t.resolver._initialize(t.auth);case 4:return t.eventManager=e.sent,e.next=7,t.onExecution();case 7:t.eventManager.registerConsumer(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.reject(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}))}},{key:"onAuthEvent",value:function(t){return(e=e||rt(Ze().mark((function e(t){var n,r,i,a,o,s,u;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})))).apply(this,arguments)}},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Sk;case"linkViaPopup":case"linkViaRedirect":return Tk;case"reauthViaPopup":case"reauthViaRedirect":return _k;default:eg(this.auth,"internal-error")}}},{key:"resolve",value:function(e){og(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){og(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),t}(),Ck=new lg(2e3,1e4);var Nk=function(e,t,n){y(i,e);var r=x(i);function i(e,t,n,a,o){var s;return h(this,i),(s=r.call(this,e,t,a,o)).provider=n,s.authWindow=null,s.pollId=null,i.currentPopupAction&&i.currentPopupAction.cancel(),i.currentPopupAction=w(s),s}return m(i,[{key:"executeNotNull",value:function(){return(t=t||rt(Ze().mark((function e(){var t;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ig(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"onExecution",value:function(){return(n=n||rt(Ze().mark((function e(){var t,n=this;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return og(1===this.filter.length,"Popup operations only handle one event"),t=Zy(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(tg(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(tg(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,i.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(tg(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Ck.get())}()}}]),i}(Ik);Nk.currentPopupAction=null;var Ak="pendingRedirect",Ok=new Map,Rk=function(e,t,n,r){y(a,e);var i=x(a);function a(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,a),(n=i.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r)).eventId=null,n}return m(a,[{key:"execute",value:function(){return(t=t||rt(Ze().mark((function e(){var t,n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ok.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Pk(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,at(k(a.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:n=e.t0,t=function(){return Promise.resolve(n)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ok.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ok.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})))).apply(this,arguments)}},{key:"onAuthEvent",value:function(e){return(n=n||rt(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",at(k(a.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(n=e.sent)){e.next=16;break}return this.user=n,e.abrupt("return",at(k(a.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"onExecution",value:function(){return(r=r||rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"cleanUp",value:function(){}}]),a}(Ik);function Pk(e,t){return(Vm=Vm||rt(Ze().mark((function e(t,n){var r,i,a;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mk(n),i=Lk(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dk(e,t){Ok.set(e._key(),t)}function Lk(e){return Ug(e._redirectPersistence)}function Mk(e){return Bg(Ak,e.config.apiKey,e.name)}function jk(e,t){return(zm=zm||rt(Ze().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=oy(t),a=xk(i,n),o=new Rk(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fk=function(){function e(t){h(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return m(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vk(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Vk(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(tg(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uk(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Uk(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Uk(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Vk(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function zk(e){return(Bm=Bm||rt(Ze().mark((function e(t){var n,r=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",mg(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hk=/^https?/;function qk(e){var t=sg(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Hk.test(r))return!1;if(Bk.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Kk=new lg(3e4,6e4);function Wk(){var e=ek().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=f(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Gk=null;function Qk(e){return Gk=Gk||function(e){return new Promise((function(t,n){var r,i,a;function o(){Wk(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Wk(),n(tg(e,"network-request-failed"))},timeout:Kk.get()})}if(null===(i=null===(r=ek().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ek().gapi)||void 0===a?void 0:a.load)){var s=cy("iframefcb");return ek()[s]=function(){gapi.load?o():n(tg(e,"network-request-failed"))},uy("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Gk=null,e}))}(e),Gk}var Yk=new lg(5e3,15e3),Xk="__/auth/iframe",Jk="emulator/auth/iframe",Zk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$k=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eb(e){var t=e.config;ig(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?fg(t,Jk):"https://".concat(e.config.authDomain,"/").concat(Xk),r={apiKey:t.apiKey,appName:e.name,v:Rn},i=$k.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(It(r).slice(1))}function tb(e){return(qm=qm||rt(Ze().mark((function e(t){var n,r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qk(t);case 2:return n=e.sent,ig(r=ek().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:eb(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zk,dontclear:!0},(function(e){var n;return new Promise((function(r,i){return(n=n||rt(Ze().mark((function n(r,i){var a,o,s;return Ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){ek().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=tg(t,"network-request-failed"),o=ek().setTimeout((function(){i(a)}),Yk.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}))})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rb=function(){function e(t){h(this,e),this.window=t,this.associatedEvent=null}return m(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function ib(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},nb),{width:r.toString(),height:i.toString(),top:a,left:o}),l=gt().toLowerCase();n&&(s=Gg(l)?"_blank":n),Kg(l)&&(t=t||"http://localhost",u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Zg(arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new rb(null);var h=window.open(t||"",s,f);ig(h,e,"popup-blocked");try{h.focus()}catch(d){}return new rb(h)}var ab="__/auth/handler",ob="emulator/auth/handler",sb=encodeURIComponent("fac");function ub(e,t,n,r,i,a){return(Km=Km||rt(Ze().mark((function e(t,n,r,i,a,o){var s,u,l,f,h,d,p,v,m,g,y,k,b;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ig(t.config.authDomain,t,"auth-domain-config-required"),ig(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Rn,eventId:a},n instanceof Cy)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",St(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,l=Object.entries(o||{});u<l.length;u++)f=c(l[u],2),h=f[0],d=f[1],s[h]=d;for(n instanceof Ny&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,g=Object.keys(v);m<g.length;m++)y=g[m],void 0===v[y]&&delete v[y];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(sb,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(cb(t),"?").concat(It(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cb(e){var t=e.config;return t.emulator?fg(t,ob):"https://".concat(t.authDomain,"/").concat(ab)}var lb="webStorageSupport",fb=function(e,t,n){function r(){h(this,r),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yy,this._completeRedirectFn=jk,this._overrideRedirectResult=Dk}return m(r,[{key:"_openPopup",value:function(t,n,r,i){return(e=e||rt(Ze().mark((function e(t,n,r,i){var a,o;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return og(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,ub(t,n,r,sg(),i);case 3:return o=e.sent,e.abrupt("return",ib(t,o,Zy()));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_openRedirect",value:function(e,n,r,i){return(t=t||rt(Ze().mark((function e(t,n,r,i){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,ub(t,n,r,sg(),i);case 4:return tk(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(og(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(e){return(n=n||rt(Ze().mark((function e(t){var n,r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tb(t);case 2:return n=e.sent,r=new Fk(t),n.register("authEvent",(function(e){return ig(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(lb,{type:lb},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[lb];void 0!==i&&t(!!i),eg(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return(Hm=Hm||rt(Ze().mark((function e(t){var n,r,i,a,o;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,zk(t);case 4:n=e.sent,r=n.authorizedDomains,i=_(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!qk(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:eg(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ey()||Wg()||Zg()}}]),r}(),hb=fb,db=function(){function e(t){h(this,e),this.factorId=t}return m(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ag("unexpected MultiFactorSessionType")}}}]),e}(),pb=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone")).credential=e,r}return m(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return mg(e,"POST","/v2/accounts/mfaEnrollment:finalize",vg(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return mg(e,"POST","/v2/accounts/mfaSignIn:finalize",vg(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(db);(function(){function e(){h(this,e)}return m(e,null,[{key:"assertion",value:function(e){return pb._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var vb=function(e){function t(){h(this,t)}return m(t,null,[{key:"assertionForEnrollment",value:function(e,t){return mb._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return mb._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(t){return(e=e||rt(Ze().mark((function e(t){var n,r,i;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ig("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,By(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",gb._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),t}();vb.FACTOR_ID="totp";var mb=function(e,t,n){y(i,e);var r=x(i);function i(e,t,n){var a;return h(this,i),(a=r.call(this,"totp")).otp=e,a.enrollmentId=t,a.secret=n,a}return m(i,[{key:"_finalizeEnroll",value:function(e,n,r){return(t=t||rt(Ze().mark((function e(t,n,r){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ig("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Hy(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_finalizeSignIn",value:function(e,t){return(n=n||rt(Ze().mark((function e(t,n){var r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ig(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",yk(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}],[{key:"_fromSecret",value:function(e,t){return new i(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new i(t,e)}}]),i}(db),gb=function(){function e(t,n,r,i,a,o,s){h(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return m(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(yb(e)||yb(t))&&(r=!0),r&&(yb(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),yb(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function yb(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var kb="@firebase/auth",bb="1.3.0",wb=function(e){function t(e){h(this,t),this.auth=e,this.internalListeners=new Map}return m(t,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(t){return(e=e||rt(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ig(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),t}();var xb,Eb=vt("authIdTokenMaxAge")||300,Sb=null;xb="Browser",In(new Ft("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;ig(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:xb,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ty(xb)},l=new ay(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ug);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),In(new Ft("auth-internal",(function(e){return function(e){return new wb(e)}(oy(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(kb,bb,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(xb)),Ln(kb,bb,"esm2017");var _b,Tb,Ib=function(e,t){return t.some((function(t){return e instanceof t}))};var Cb=new WeakMap,Nb=new WeakMap,Ab=new WeakMap,Ob=new WeakMap,Rb=new WeakMap;var Pb={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Nb.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ab.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mb(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Db(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Tb||(Tb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(jb(this),n),Mb(Cb.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Mb(e.apply(jb(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[jb(this),t].concat(r));return Ab.set(a,t.sort?t.sort():[t]),Mb(a)}}function Lb(e){return"function"===typeof e?Db(e):(e instanceof IDBTransaction&&function(e){if(!Nb.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Nb.set(e,t)}}(e),Ib(e,_b||(_b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Pb):e)}function Mb(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Mb(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Cb.set(t,e)})).catch((function(){})),Rb.set(t,e),t}(e);if(Ob.has(e))return Ob.get(e);var t=Lb(e);return t!==e&&(Ob.set(e,t),Rb.set(t,e)),t}var jb=function(e){return Rb.get(e)};var Fb,Ub,Vb,zb,Bb,Hb,qb,Kb,Wb,Gb,Qb,Yb,Xb,Jb,Zb,$b,ew,tw=["get","getKey","getAll","getAllKeys","count"],nw=["put","add","delete","clear"],rw=new Map;function iw(e,t){var n;if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(rw.get(t))return rw.get(t);var r=t.replace(/FromIndex$/,""),i=t!==r,a=nw.includes(r);if(r in(i?IDBIndex:IDBObjectStore).prototype&&(a||tw.includes(r))){var o=function(e){return(n=n||rt(Ze().mark((function e(t){var n,o,s,u,c,l,f=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,a?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return i&&(s=s.index(c.shift())),e.next=6,Promise.all([(n=s)[r].apply(n,c),a&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)};return rw.set(t,o),o}}}!function(e){Pb=e(Pb)}((function(e){return tt(tt({},e),{},{get:function(t,n,r){return iw(t,n)||e.get(t,n,r)},has:function(t,n){return!!iw(t,n)||e.has(t,n)}})}));var aw="@firebase/installations",ow="0.6.4",sw=1e4,uw="w:".concat(ow),cw="FIS_v2",lw="https://firebaseinstallations.googleapis.com/v1",fw=36e5,hw=($e(Fb={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),$e(Fb,"not-registered","Firebase Installation is not registered."),$e(Fb,"installation-not-found","Firebase Installation not found."),$e(Fb,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),$e(Fb,"app-offline","Could not process request. Application offline."),$e(Fb,"delete-pending-registration","Can't delete installation while there is a pending registration request."),Fb),dw=new xt("installations","Installations",hw);function pw(e){return e instanceof wt&&e.code.includes("request-failed")}function vw(e){var t=e.projectId;return"".concat(lw,"/projects/").concat(t,"/installations")}function mw(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function gw(e,t){return(Ub=Ub||rt(Ze().mark((function e(t,n){var r,i;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",dw.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yw(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function kw(e,t){var n=t.refreshToken,r=yw(e);return r.append("Authorization",function(e){return"".concat(cw," ").concat(e)}(n)),r}function bw(e){return(Vb=Vb||rt(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ww(e,t){return(zb=zb||rt(Ze().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d,p;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=vw(r),s=yw(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&s.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:cw,appId:r.appId,sdkVersion:uw},f={method:"POST",headers:s,body:JSON.stringify(l)},e.next=14,bw((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:mw(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,gw("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xw(e){return new Promise((function(t){setTimeout(t,e)}))}var Ew=/^[cdef][\w-]{21}$/,Sw="";function _w(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,f(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Ew.test(t)?t:Sw}catch(n){return Sw}}function Tw(e){return"".concat(e.appName,"!").concat(e.appId)}var Iw=new Map;function Cw(e,t){var n=Tw(e);Nw(n,t),function(e,t){var n=Ow();n&&n.postMessage({key:e,fid:t});Rw()}(n,t)}function Nw(e,t){var n=Iw.get(e);if(n){var r,i=_(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var Aw=null;function Ow(){return!Aw&&"BroadcastChannel"in self&&((Aw=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Nw(e.data.key,e.data.fid)}),Aw}function Rw(){0===Iw.size&&Aw&&(Aw.close(),Aw=null)}var Pw="firebase-installations-database",Dw=1,Lw="firebase-installations-store",Mw=null;function jw(){return Mw||(Mw=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Mb(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Mb(s.result),e.oldVersion,e.newVersion,Mb(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(Pw,Dw,{upgrade:function(e,t){if(0===t)e.createObjectStore(Lw)}})),Mw}function Fw(e,t){return(Bb=Bb||rt(Ze().mark((function e(t,n){var r,i,a,o,s;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tw(t),e.next=3,jw();case 3:return i=e.sent,a=i.transaction(Lw,"readwrite"),o=a.objectStore(Lw),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||Cw(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uw(e){return(Hb=Hb||rt(Ze().mark((function e(t){var n,r,i;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tw(t),e.next=3,jw();case 3:return r=e.sent,i=r.transaction(Lw,"readwrite"),e.next=7,i.objectStore(Lw).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vw(e,t){return(qb=qb||rt(Ze().mark((function e(t,n){var r,i,a,o,s,u;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tw(t),e.next=3,jw();case 3:return i=e.sent,a=i.transaction(Lw,"readwrite"),o=a.objectStore(Lw),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||Cw(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zw(e){return(Kb=Kb||rt(Ze().mark((function e(t){var n,r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vw(t.appConfig,(function(e){var r=Bw(e),i=Hw(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if((r=e.sent).fid!==Sw){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bw(e){return Ww(e||{fid:_w(),registrationStatus:0})}function Hw(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(dw.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return(Wb=Wb||rt(Ze().mark((function e(t,n){var r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ww(t,n);case 3:return r=e.sent,e.abrupt("return",Fw(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!pw(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,Uw(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,Fw(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:qw(e)}:{installationEntry:t}}function qw(e){return(Gb=Gb||rt(Ze().mark((function e(t){var n,r,i,a;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kw(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,xw(100);case 6:return e.next=8,Kw(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,zw(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kw(e){return Vw(e,(function(e){if(!e)throw dw.create("installation-not-found");return Ww(e)}))}function Ww(e){return 1===(t=e).registrationStatus&&t.registrationTime+sw<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function Gw(e,t){return(Qb=Qb||rt(Ze().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=Qw(r,n),o=kw(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:uw,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,bw((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=mw(h),e.abrupt("return",d);case 22:return e.next=24,gw("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qw(e,t){var n=t.fid;return"".concat(vw(e),"/").concat(n,"/authTokens:generate")}function Yw(e){return(Yb=Yb||rt(Ze().mark((function e(t){var n,r,i,a,o=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,Vw(t.appConfig,(function(e){if(!$w(e))throw dw.create("not-registered");var i=e.authToken;if(!n&&ex(i))return e;if(1===i.requestStatus)return r=Xw(t,n),e;if(!navigator.onLine)throw dw.create("app-offline");var a=tx(e);return r=Zw(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xw(e,t){return(Xb=Xb||rt(Ze().mark((function e(t,n){var r,i;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jw(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,xw(100);case 6:return e.next=8,Jw(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",Yw(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jw(e){return Vw(e,(function(e){if(!$w(e))throw dw.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+sw<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function Zw(e,t){return(Jb=Jb||rt(Ze().mark((function e(t,n){var r,i,a;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gw(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,Fw(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!pw(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,Uw(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,Fw(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function $w(e){return void 0!==e&&2===e.registrationStatus}function ex(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+fw}(e)}function tx(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function nx(e){return(ew=ew||rt(Ze().mark((function e(t){var n,r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zw(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rx(e){return dw.create("missing-app-config-values",{valueName:e})}var ix,ax,ox,sx,ux,cx,lx,fx,hx,dx="installations",px=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw rx("App Configuration");if(!e.name)throw rx("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw rx(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Cn(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},vx=function(e){var t=Cn(e.getProvider("app").getImmediate(),dx).getImmediate(),n={getId:function(){return function(e){return(Zb=Zb||rt(Ze().mark((function e(t){var n,r,i,a;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,zw(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):Yw(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(t)},getToken:function(e){return function(e){return($b=$b||rt(Ze().mark((function e(t){var n,r,i,a=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,nx(r);case 4:return e.next=6,Yw(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(t,e)}};return n};In(new Ft(dx,px,"PUBLIC")),In(new Ft("installations-internal",vx,"PRIVATE")),Ln(aw,ow),Ln(aw,ow,"esm2017");var mx="analytics",gx="firebase_id",yx="origin",kx=6e4,bx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wx="https://www.googletagmanager.com/gtag/js",xx=new Yt("@firebase/analytics"),Ex=($e(ix={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),$e(ix,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),$e(ix,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),$e(ix,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),$e(ix,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),$e(ix,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),$e(ix,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),$e(ix,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),$e(ix,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),$e(ix,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),$e(ix,"no-client-id",'The "client_id" field is empty.'),$e(ix,"invalid-gtag-resource","Trusted Types detected an invalid gtag resource: {$gtagURL}."),ix),Sx=new xt("analytics","Analytics",Ex);function _x(e){if(!e.startsWith(wx)){var t=Sx.create("invalid-gtag-resource",{gtagURL:e});return xx.warn(t.message),""}return e}function Tx(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function Ix(e,t){var n=function(e,t){var n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:_x}),r=document.createElement("script"),i="".concat(wx,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Cx(e,t,n,r,i,a){return(ax=ax||rt(Ze().mark((function e(t,n,r,i,a,o){var s,u,c;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[a],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,Tx(r);case 9:if(u=e.sent,!(c=u.find((function(e){return e.measurementId===a})))){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),xx.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function Nx(e,t,n,r,i){return(ox=ox||rt(Ze().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,Tx(r);case 7:u=e.sent,c=_(s),e.prev=9,f=Ze().mark((function e(){var t,r,i;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.value,r=u.find((function(e){return e.measurementId===t})),!(i=r&&n[r.appId])){e.next=7;break}o.push(i),e.next=9;break;case 7:return o=[],e.abrupt("return",1);case 9:case"end":return e.stop()}}),e)})),c.s();case 12:if((l=c.n()).done){e.next=18;break}return e.delegateYield(f(),"t0",14);case 14:if(!e.t0){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(9),c.e(e.t1);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t2=e.catch(0),xx.error(e.t2);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])})))).apply(this,arguments)}function Ax(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){var i;return function(a){return(i=i||rt(Ze().mark((function i(a){var o,s,u,c,l,f,h,d,p,v,m,g,y=arguments;return Ze().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(i.prev=0,o=y.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=y[u];if("event"!==a){i.next=8;break}return c=s[0],l=s[1],i.next=6,Nx(e,t,n,c,l);case 6:i.next=15;break;case 8:if("config"!==a){i.next=14;break}return f=s[0],h=s[1],i.next=12,Cx(e,t,n,r,f,h);case 12:i.next=15;break;case 14:"consent"===a?(d=s[0],e("consent","update",d)):"get"===a?(p=s[0],v=s[1],m=s[2],e("get",p,v,m)):"set"===a?(g=s[0],e("set",g)):e.apply(void 0,[a].concat(s));case 15:i.next=20;break;case 17:i.prev=17,i.t0=i.catch(0),xx.error(i.t0);case 20:case"end":return i.stop()}}),i,null,[[0,17]])})))).apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function Ox(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(i.src&&i.src.includes(wx)&&i.src.includes(e))return i}return null}var Rx=30,Px=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;h(this,e),this.throttleMetadata=t,this.intervalMillis=n}return m(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),Dx=new Px;function Lx(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Mx(e){return(sx=sx||rt(Ze().mark((function e(t){var n,r,i,a,o,s,u,c;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:Lx(i)},o=bx.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return u="",e.prev=8,e.next=11,s.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(u=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw Sx.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function jx(e){return(ux=ux||rt(Ze().mark((function e(t){var n,r,i,a,o,s,u,c,l=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:Dx,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,s=i.measurementId,a){e.next=5;break}throw Sx.create("no-app-id");case 5:if(o){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:a});case 8:throw Sx.create("no-api-key");case 9:return u=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Hx,setTimeout(rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:kx),e.abrupt("return",Fx({appId:a,apiKey:o,measurementId:s},u,c,n));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fx(e,t,n){return(cx=cx||rt(Ze().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=p.length>3&&void 0!==p[3]?p[3]:Dx,u=t.appId,c=t.measurementId,e.prev=3,e.next=6,Ux(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!c){e.next=13;break}return xx.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,Mx(t);case 17:return l=e.sent,o.deleteThrottleMetadata(u),e.abrupt("return",l);case 22:if(e.prev=22,e.t1=e.catch(14),Vx(f=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(u),!c){e.next=32;break}return xx.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===f||void 0===f?void 0:f.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 32:throw e.t1;case 33:return h=503===Number(null===(s=null===f||void 0===f?void 0:f.customData)||void 0===s?void 0:s.httpStatus)?Mt(a,o.intervalMillis,Rx):Mt(a,o.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:a+1},o.setThrottleMetadata(u,d),xx.debug("Calling attemptFetch again in ".concat(h," millis")),e.abrupt("return",Fx(t,d,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])})))).apply(this,arguments)}function Ux(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(Sx.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function Vx(e){if(!(e instanceof wt)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var zx,Bx,Hx=function(){function e(){h(this,e),this.listeners=[]}return m(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function qx(e){Bx=e}function Kx(e){zx=e}function Wx(){return(fx=fx||rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kt()){e.next=5;break}return xx.warn(Sx.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,bt();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),xx.warn(Sx.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}var Gx,Qx,Yx=function(){function e(t){h(this,e),this.app=t}return m(e,[{key:"_delete",value:function(){return delete Xx[this.app.options.appId],Promise.resolve()}}]),e}(),Xx={},Jx=[],Zx={},$x="dataLayer",eE="gtag",tE=!1;function nE(){var e=[];if(yt()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=Sx.create("invalid-analytics-context",{errorInfo:t});xx.warn(n.message)}}function rE(e,t,n){nE();var r=e.options.appId;if(!r)throw Sx.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Sx.create("no-api-key");xx.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Xx[r])throw Sx.create("already-exists",{id:r});if(!tE){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}($x);var i=Ax(Xx,Jx,Zx,$x,eE),a=i.wrappedGtag,o=i.gtagCore;Qx=a,Gx=o,tE=!0}return Xx[r]=function(e,t,n,r,i,a,o){return(hx=hx||rt(Ze().mark((function e(t,n,r,i,a,o,s){var u,l,f,h,d,p,v,m;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=jx(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&xx.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return xx.error(e)})),n.push(l),f=Wx().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([l,f]);case 6:return h=e.sent,d=c(h,2),p=d[0],v=d[1],Ox(o)||Ix(o,p.measurementId),Bx&&(a("consent","default",Bx),qx(void 0)),a("js",new Date),(m=null!==(u=null===s||void 0===s?void 0:s.config)&&void 0!==u?u:{})[yx]="firebase",m.update=!0,null!=v&&(m[gx]=v),a("config",p.measurementId,m),zx&&(a("set",zx),Kx(void 0)),e.abrupt("return",p.measurementId);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,Jx,Zx,t,Gx,$x,n),new Yx(e)}function iE(e,t,n,r){e=jt(e),function(e,t,n,r,i){return(lx=lx||rt(Ze().mark((function e(t,n,r,i,a){var o,s;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,s=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(Qx,Xx[e.app.options.appId],t,n,r).catch((function(e){return xx.error(e)}))}var aE="@firebase/analytics",oE="0.10.0";In(new Ft(mx,(function(e,t){var n=t.options;return rE(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),In(new Ft("analytics-internal",(function(e){try{var t=e.getProvider(mx).getImmediate();return{logEvent:function(e,n,r){return iE(t,e,n,r)}}}catch(n){throw Sx.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),Ln(aE,oE),Ln(aE,oE,"esm2017");var sE=Pn({apiKey:"AIzaSyDzWkfWo--0vQlpeUUAmhSES7HleTw0dCc",authDomain:"skinstore-80aa8.firebaseapp.com",databaseURL:"https://skinstore-80aa8-default-rtdb.firebaseio.com",projectId:"skinstore-80aa8",storageBucket:"skinstore-80aa8.appspot.com",messagingSenderId:"859645291837",appId:"1:859645291837:web:a586122e138ff7ac94e954",measurementId:"G-LSVW120JCX"}),uE=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn(),t=Cn(e=jt(e),mx);t.isInitialized()?t.getImmediate():function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Cn(e,mx);if(n.isInitialized()){var r=n.getImmediate();if(_t(t,n.getOptions()))return r;throw Sx.create("already-initialized")}var i=n.initialize({options:t})}(e)}(sE),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn(),t=Cn(e,"auth");if(t.isInitialized())return t.getImmediate();var n=function(e,t){var n=Cn(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(_t(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;eg(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:hb,persistence:[mk,Gy,Yy]}),r=vt("authTokenSyncURL");if(r){var i=function(e){var t;return function(n){return(t=t||rt(Ze().mark((function t(n){var r,i,a;return Ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>Eb)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,Sb!==a){t.next=12;break}return t.abrupt("return");case 12:return Sb=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}(r);!function(e,t,n){jt(e).beforeAuthStateChanged(t,n)}(n,i,(function(){return i(n.currentUser)})),function(e,t,n,r){jt(e).onIdTokenChanged(t,n,r)}(n,(function(e){return i(e)}))}var a=dt("auth");a&&hy(n,"http://".concat(a))}(sE),function(e,t){var n="string"==typeof e?e:t||"(default)",r=Cn("object"==typeof e?e:Dn(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=function(e){var t=dt(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}}("firestore");i&&rv.apply(void 0,[r].concat(f(i)))}return r}(sE)),cE=n(184),lE=function(e){var n=e.setSearchModal,r=c((0,t.useState)(""),2),i=r[0],a=r[1],o=c((0,t.useState)([]),2),s=o[0],u=o[1],l=ke();return(0,t.useEffect)((function(){var e;i.length>=1?function(){(e=e||rt(Ze().mark((function e(){var t,n,r,a,o;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sv(uE,"products"),n=i.toLowerCase(),e.next=5,im(t);case 5:r=e.sent,a=r.docs.map((function(e){return tt({id:e.id},e.data())})),console.log(a),o=a.filter((function(e){return e.Name.toLowerCase().includes(n)})),u(o),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error fetching products:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}():u([])}),[i]),(0,cE.jsxs)("div",{className:"search-modal",children:[(0,cE.jsxs)("div",{className:"form-field",children:[(0,cE.jsx)("input",{autoFocus:!0,type:"text",placeholder:"Search for products",value:i,onChange:function(e){return a(e.target.value)}}),(0,cE.jsx)(it,{className:"close-btn",onClick:function(){return n(!1)}})]}),(0,cE.jsxs)("div",{className:"search-result-content",children:[!s.length&&(0,cE.jsx)("div",{className:"start-msg",children:"Start typing to see products you are looking for."}),(0,cE.jsx)("div",{className:"search-results",children:s.map((function(e){return(0,cE.jsxs)("div",{className:"search-result-item",onClick:function(){l("/product/"+e.Name),n(!1)},children:[(0,cE.jsx)("div",{className:"image-container",children:(0,cE.jsx)("img",{src:e.Image,alt:e.Name})}),(0,cE.jsxs)("div",{className:"prod-details",children:[(0,cE.jsx)("span",{className:"name",children:e.Name}),(0,cE.jsxs)("span",{className:"desc",children:["\u20a8 ",e.Price]})]})]},e.id)}))})]})]})},fE=(0,t.createContext)(),hE=function(e){var n=e.children,r=c((0,t.useState)([]),2),i=r[0],a=r[1],o=c((0,t.useState)([]),2),s=o[0],u=o[1],l=c((0,t.useState)(!1),2),h=l[0],d=l[1],p=c((0,t.useState)([]),2),v=p[0],m=p[1],g=c((0,t.useState)(0),2),y=g[0],k=g[1],b=c((0,t.useState)(0),2),w=b[0],x=b[1],E=ge();(0,t.useEffect)((function(){window.scrollTo(0,0)}),[E]),(0,t.useEffect)((function(){var e,t;!function(){(e=e||rt(Ze().mark((function e(){var t,n,r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sv(uE,"categories"),e.next=4,im(t);case 4:n=e.sent,r=n.docs.map((function(e){return tt({id:e.id},e.data())})),a(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching categories:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}(),function(){(t=t||rt(Ze().mark((function e(){var t,n,r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sv(uE,"products"),e.next=4,im(t);case 4:n=e.sent,r=n.docs.map((function(e){return tt({id:e.id},e.data())})),u(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching products:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}()}),[]),(0,t.useEffect)((function(){var e=0;null===v||void 0===v||v.map((function(t){return e+=t.quantity})),k(e);var t=0;v.map((function(e){return t+=e.Price*e.quantity})),x(t)}),[v]);return(0,cE.jsx)(fE.Provider,{value:{products:s,setProducts:u,categories:i,setCategories:a,cartItems:v,setCartItems:m,handleAddToCart:function(e,t){var n,r=f(v),i=null===(n=r)||void 0===n?void 0:n.findIndex((function(t){return t.id===(null===e||void 0===e?void 0:e.id)}));-1!==i?r[i].quantity+=t:(e.quantity=t,r=[].concat(f(r),[e])),m(r)},cartCount:y,handleRemoveFromCart:function(e){var t,n=f(v);n=null===(t=n)||void 0===t?void 0:t.filter((function(t){return t.id!==(null===e||void 0===e?void 0:e.id)})),m(n)},showCart:h,setShowCart:d,handleCartProductQuantity:function(e,t){var n=f(v),r=null===n||void 0===n?void 0:n.findIndex((function(e){return e.id===(null===t||void 0===t?void 0:t.id)}));if("inc"===e)n[r].quantity+=1;else if("dec"===e){if(1===n[r].quantity)return;n[r].quantity-=1}m(n)},cartSubTotal:w},children:n})};function dE(e){return Ge({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.354 5.646a.5.5 0 1 0-.708.708L7.793 7.5 6.646 8.646a.5.5 0 1 0 .708.708L8.5 8.207l1.146 1.147a.5.5 0 0 0 .708-.708L9.207 7.5l1.147-1.146a.5.5 0 0 0-.708-.708L8.5 6.793 7.354 5.646z"}},{tag:"path",attr:{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}}]})(e)}var pE=function(){var e=(0,t.useContext)(fE),n=e.cartItems,r=e.handleRemoveFromCart,i=e.handleCartProductQuantity,a=c((0,t.useState)([]),2),o=a[0],s=a[1];return(0,t.useEffect)((function(){var e;!function(){(e=e||rt(Ze().mark((function e(){var t,r,i,a,o,u,c,l,f;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=sv(uE,"products"),r=[],i=_(n),e.prev=4,i.s();case 6:if((a=i.n()).done){e.next=15;break}return o=a.value,u=Vv(t,Bv("Name","==",o.id)),e.next=11,im(u);case 11:(c=e.sent).empty||(l=c.docs[0],f=l.data(),r.push(tt(tt({id:l.id},f),{},{quantity:o.quantity})));case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),i.e(e.t0);case 20:return e.prev=20,i.f(),e.finish(20);case 23:s(r),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(0),console.error("Error fetching cart products:",e.t1);case 29:case"end":return e.stop()}}),e,null,[[0,26],[4,17,20,23]])})))).apply(this,arguments)}()}),[n]),(0,cE.jsx)("div",{className:"cart-products",style:{},children:(0,cE.jsx)("div",{className:"cart-product",children:null===o||void 0===o?void 0:o.map((function(e){return(0,cE.jsxs)("div",{className:"search-result-item",onClick:function(){},children:[(0,cE.jsx)("div",{className:"image-container",children:(0,cE.jsx)("img",{src:e.Image,alt:""})}),(0,cE.jsxs)("div",{className:"prod-details",children:[(0,cE.jsx)("span",{className:"name",children:e.Name}),(0,cE.jsx)(it,{className:"close-btn",onClick:function(){return r(e)}}),(0,cE.jsxs)("div",{className:"quantity-buttons",children:[(0,cE.jsx)("span",{onClick:function(){return i("dec",e)},children:"-"}),(0,cE.jsx)("span",{children:e.quantity}),(0,cE.jsx)("span",{onClick:function(){return i("inc",e)},children:"+"})]}),(0,cE.jsxs)("div",{className:"text",children:[(0,cE.jsx)("span",{children:e.quantity}),(0,cE.jsx)("span",{children:"x"}),(0,cE.jsx)("span",{children:e.Price}),(0,cE.jsx)("span",{children:"="}),(0,cE.jsxs)("span",{className:"highlight",children:[(0,cE.jsx)("span",{children:"\u20a8 "}),e.Price*e.quantity]})]})]})]},e.id)}))})})},vE=function(){var e,n=ke(),r=(0,t.useContext)(fE),i=r.cartItems,a=r.setShowCart,o=r.cartSubTotal;return(0,cE.jsxs)("div",{className:"cart-panel",children:[(0,cE.jsx)("div",{className:"opac-layer",onClick:function(){return a(!1)}}),(0,cE.jsxs)("div",{className:"cart-content",children:[(0,cE.jsxs)("div",{className:"cart-header",children:[(0,cE.jsx)("span",{className:"heading",children:"Shopping Cart"}),(0,cE.jsxs)("span",{className:"close-btn",onClick:function(){return a(!1)},children:[(0,cE.jsx)(it,{className:"close-btn"}),(0,cE.jsx)("span",{className:"text",children:"close"})]})]}),!i.length&&(0,cE.jsxs)("div",{className:"empty-cart",children:[(0,cE.jsx)(dE,{}),(0,cE.jsx)("span",{children:"No products in the cart."}),(0,cE.jsx)("button",{className:"return-cta",onClick:function(){n("/products"),a(!1)},children:"RETURN TO SHOP"})]}),!!i.length&&(0,cE.jsxs)(cE.Fragment,{children:[(0,cE.jsx)(pE,{}),(0,cE.jsxs)("div",{className:"cart-footer",children:[(0,cE.jsxs)("div",{className:"subtotal",children:[(0,cE.jsx)("span",{className:"text",children:"Subtotal:"}),(0,cE.jsxs)("span",{className:"text total",children:["\u20a8 ",o]})]}),(0,cE.jsx)("div",{className:"button",children:(0,cE.jsx)("button",{className:"checkout-cta",onClick:function(){return(e=e||rt(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a(!1),n("/orders")}catch(t){console.error("Error creating order:",t)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},children:"Proceed to Checkout"})})]})]})]})]})},mE=function(){var e=c((0,t.useState)(!1),2),n=e[0],r=e[1],i=c((0,t.useState)(!1),2),a=i[0],o=i[1],s=ke(),u=function(){var e=window.scrollY;r(e>200)};(0,t.useEffect)((function(){window.addEventListener("scroll",u)}),[]);var l=(0,t.useContext)(fE),f=l.cartCount,h=l.showCart,d=l.setShowCart;return(0,cE.jsxs)(cE.Fragment,{children:[(0,cE.jsxs)("header",{className:"main-header ".concat(n?"sticky-header":""),children:[(0,cE.jsxs)("div",{className:"header-content",children:[(0,cE.jsxs)("ul",{className:"left",children:[(0,cE.jsx)("li",{onClick:function(){return s("/categories")},children:"Categories"}),(0,cE.jsx)("li",{onClick:function(){return s("/products")},children:"Products"})]}),(0,cE.jsx)("div",{className:"center",onClick:function(){return s("/")},children:"SKINSTORE."}),(0,cE.jsxs)("div",{className:"right",children:[(0,cE.jsx)(Ye,{onClick:function(){return o(!0)}}),(0,cE.jsx)(Je,{}),(0,cE.jsxs)("span",{className:"cart-icon",onClick:function(){return d(!0)},children:[(0,cE.jsx)(Xe,{}),!!f&&(0,cE.jsx)("span",{children:f})]})]})]}),(0,cE.jsx)("div",{className:"mobile",children:(0,cE.jsxs)("ul",{className:"left",children:[(0,cE.jsx)("li",{onClick:function(){return s("/categories")},children:"Categories"}),(0,cE.jsx)("li",{onClick:function(){return s("/products")},children:"Products"})]})})]}),a&&(0,cE.jsx)(lE,{setSearchModal:o}),h&&(0,cE.jsx)(vE,{})]})};function gE(e){return Ge({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"}}]})(e)}function yE(e){return Ge({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(e)}function kE(e){return Ge({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"}}]})(e)}function bE(e){return Ge({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"}}]})(e)}function wE(e){return Ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(e)}function xE(e){return Ge({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM408 168h-48v-40c0-8.837-7.163-16-16-16h-16c-8.837 0-16 7.163-16 16v40h-48c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h48v40c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-40h48c8.837 0 16-7.163 16-16v-16c0-8.837-7.163-16-16-16z"}}]})(e)}function EE(e){return Ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function SE(e){return Ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.52 3.52L28.74 195.42c-47.97 22.39-31.98 92.75 19.19 92.75h175.91v175.91c0 51.17 70.36 67.17 92.75 19.19l191.9-415.78c15.99-38.39-25.59-79.97-63.97-63.97z"}}]})(e)}function _E(e){return Ge({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"}}]})(e)}var TE=function(){return(0,cE.jsxs)("div",{className:"footer",children:[(0,cE.jsxs)("div",{className:"footer-content",children:[(0,cE.jsxs)("div",{className:"col",children:[(0,cE.jsx)("div",{className:"title",children:"About"}),(0,cE.jsx)("div",{className:"text",children:"At SKINSTORE, our passion for skincare runs deep. Founded on the principles of quality, purity, and sustainability, we are dedicated to providing you with the finest in skincare solutions. With years of expertise and a commitment to harnessing the power of nature, we strive to create products that not only enhance your skin's health and beauty but also promote a sense of well-being. Discover the difference, where skincare meets the art of self-care."})]}),(0,cE.jsxs)("div",{className:"col",children:[(0,cE.jsx)("div",{className:"title",children:"Contact"}),(0,cE.jsxs)("div",{className:"c-item",children:[(0,cE.jsx)(SE,{}),(0,cE.jsx)("div",{className:"text",children:"Karachi, Pakistan, 688006"})]}),(0,cE.jsxs)("div",{className:"c-item",children:[(0,cE.jsx)(_E,{}),(0,cE.jsx)("div",{className:"text",children:"Phone: 0471 272 0261"})]}),(0,cE.jsxs)("div",{className:"c-item",children:[(0,cE.jsx)(EE,{}),(0,cE.jsx)("div",{className:"text",children:"Email: store@skinstore.com"})]})]}),(0,cE.jsxs)("div",{className:"col",children:[(0,cE.jsx)("div",{className:"title",children:"Categories"}),(0,cE.jsx)("span",{className:"text",children:"Bundles"}),(0,cE.jsx)("span",{className:"text",children:"Serums"}),(0,cE.jsx)("span",{className:"text",children:"Moisturizers"}),(0,cE.jsx)("span",{className:"text",children:"Lipsticks"}),(0,cE.jsx)("span",{className:"text",children:"Face Mask"})]}),(0,cE.jsxs)("div",{className:"col",children:[(0,cE.jsx)("div",{className:"title",children:"Pages"}),(0,cE.jsx)("span",{className:"text",children:"Home"}),(0,cE.jsx)("span",{className:"text",children:"About"}),(0,cE.jsx)("span",{className:"text",children:"Privacy Policy"}),(0,cE.jsx)("span",{className:"text",children:"Returns"}),(0,cE.jsx)("span",{className:"text",children:"Terms & Conditions"}),(0,cE.jsx)("span",{className:"text",children:"Contact Us"})]})]}),(0,cE.jsx)("div",{className:"bottom-bar",children:(0,cE.jsxs)("div",{className:"bottom-bar-content",children:[(0,cE.jsx)("span",{className:"text",children:"SKINSTORE 2023 CREATED BY ESMJ. PREMIUM E-COMMERCE SOLUTIONS."}),(0,cE.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP8AAAAWCAYAAAAPQ0qAAAAgAElEQVR4nM1cB1gUV9eeRdFYKCqCJZrYe4u9YOyxRkRFxYJo7A1bxIYNFUVFpHeQIoJIFZCqwCpNEKR3RJodAREE3//cWVCTWBaT/0v2eV7unTt37jk7e95TpsClp6f75OTk3MnNzY34N0CyhZmZmREAOHEgNft0aXulsxVy8/8lKOlWyM7VqRBX35SUFPwXIK6+EhpX9SR3X4tputdN2FTTneAhbLrfU9j0oLew6SHCYQYfUcvGDnjRHNq/j+b+7iaU3EPY5SqU1LgqlNzuLJTc5iSU3OIolNxkL5TcYCeUXGcrlFxrI5RUtxJKrrIQSq4wE0ouMxFKLjUWNlMxutNU+VJck/kXzcS2hzm6kFfWQ/sF/w4UlC/yEFdfst1iOaWzhf8SmOx3DO2UztZwjx49el1TU4N/E0+fPhX75LWdc7qq59KL6L5E77PosvQSFFSN0F7VmGCEjssM8cMnjummoofOCy9BfoEh/ZCGZESG/DYb/9zaPZbqodMCXbH1rSdeoz91hBr687auvn33Tcvwn8aQv9ku19sKWt6QP+ID+WM3IH/CF/LafpA/dRPyp+uhEyBq2dhJf5pD+4/TvKN0zBFvKBzyhMIBDyjsd4fCPjco7L0GhT0uUNh5BQrbCducoLDVAQqbLkNhgx0U1ltD4TcrdFhrhbYrTdF0gX6CuPq2nncOcgsvQk7576EdOZBvOU5+kQji6vs12+2ucgHdF54TYRHDeRr767xuhK5L9dF5mQE61aMLbXdb8pX1PwJXWFj45NvN6p/5vHjxgjVinTzpaccqZGccx6fQaqY2msw6g25T9mPamPVYMGI15o9Ux7jxW9B2xjHapwPpX07wc5tPOYXvpp7EoEV7MWv1Jsxfu55v2TYbZ/icHBlaS1x9v4X8+UVlGDHLCL2m6KPfL4boO90AA2YYYPk2F6TlPG30eo0hf9Odrv6yBzwhc8gLMoe9IXP0BmSO+UKGCC6j7Q+ZUwEinLwp2j7uJ5qj5SOaf9ALsvs9IKt5HbJEetndLpDddRWyGgQivewWB8husofsejvIrrOB7FpryKpbQVbNArIrzdB6mTGaKuvfEVdfRv7/ggMQV18Z3n4+g2nHIDPpEGRmnoTMQj3ILDGAjMolyMw7C5kpRwha7+e2pDnNZp2C/LQjGDJ+L0aP2YWfxu1B18mH+XEGmRknPi+LwMj/mGleV1f3r4B9nj9/LvbJk5p8pIKAj9F68lFIEFl7jN+Nc10nIE6qI94ImtBsjsdTyRYIbtsD6/spofXEI+AUtTF52UY4np6ANOteqLqmgHfucnh9rQO/bXdSEROXbkKTCdpo8fNR/Fkeg7j6fgv5g8KzwHU6AK73MXB9TxC0Ra3CAYyea4rK1zWNWq8x5BfscvEX7LoGbu91cPvcwe33BEeE5g77gNO6Ae6oXz18RWMHvUVz9nmIjtntBsFOVwh2XIVg2xUItjhCsMkBgg2XIVhnB8FaGwhWW0GwygKCFeYQLDOFYKkJBIuNIFhoAMECfUgoXRSb/BK/nEGTL2HmWXDk6LlxdC6nnwY3jTCBDH/ySbIDaqfStuIJESadFM1n+9h82se2v7y+COLq+ylbkpqkBakJByA1WwdS210gdToMUpfiIGWcCCmjBEhdiILUQT9IqxiixaQjEEw9ht5j92Lvjypwl/4Zd5qNQrzEcEQ1HQmf1oo43Wk+xv+0DRLTT1AQOwbpT8kkvCd/bW0tj7dv3/5PwT7Pnj0T++RJT9KqIOA9ftZCkyknsGjQMuS1aPOe8J+D+/cDcPzoXLy81hnwaos69/Z446aAKrcOfPvOQ44ff+XSEVp75kHq5yNoRQ7jDzIJ4ur7LeS3vBIL7vtD4H46A27wUQgG0g8+iH6sfochO/A4ikvKGrVeY8nP7XABp+EKjjmBPUTo35kT8BaRX8tXhINE/P3kFPYR8ffQ/l1uomPIeLmtzuA2XQG3wQHc+svg1tqCU7cGp2YFbqUFOFVzcER4TsUY3EJDcMoG4H7VJ1wEp9RI8s/SxZcgmHEGo3fYQ+dqJDovN0YnKgX3Wt7CxD1O2G4chJ7qFthtHgoj7zjMO+LGO4BJv1/h5w+gckQwTeeL6zdAXH3/bEfSEw9BmhGfzo/UpVhI2WWJYJMBKet0EWypb5+N72wzKYO6hvW9VBHDDUYx1x+PCDncIGQRWPuQG4Airh8eNBmGo12UITfxIJpNOcbz5M+yWc3/+N27d+/JWENFZk0tPuBtLV+X80StowGqRutqP/Rr2TG0nx/jK9W6P4x/fNy7ug9rNYDJbkzNL6t4qIKABkhOOo4Fg5ajsonkV4nPoxNhxXeosaRI796Rj/afwtvr8gA5gtP7ZuG7cUcho3gYH8sVV99vIb/mmUBwnQ+CG3Yagh83QPDDelH7/RpI9NiO09GNS/0bRf7drv6j9UOg7nIPs23uYiZB/fp9zHGIgRSl+4q2UVjrnQQV13gsuxYPNbf7WE5zVRyjsZyclrpzLBba3MFs0zAso3aGQQhmGgRjpXUElpjfwmqrcMzVC8A0HV+sMgnB4osBmKDlDlX9AMw47omWS4zICVwQn/xzzuNL4GacxYBNtqioqsEsLTcYescjMD4fmjZhSMl/hqMOQpS9rsYRxztYeMIDLebpITKtiD9vW4yCKfrrfHH9Boir78c2xGP075De5Agp82QieSakLFM/iZbkBARODzH0ZAiOzzwAYfvJyCeSp3NDPokcbiByBQNhLDcL7UhOCyL/n2VzBQUF9eQnUrILcJWlqClLQU15DvWLUV1dw4Pte/qyAjnFL/DiVSXff/j4JcoqXvPkZvvzSl4iveAZ8ktfouJ1FRG9ml/3Oc3PK3nBt4z81dXV79Fo8k84WEEAw3cUkQeO3Ia872TFIn7dD01RO+471A1tjje/t8Frn8+Tn6GGHED1dQWorl6BZqOOoE29XAZx9f0W8rPanvuRIv2QEyLSd9sEQffNELRRBTfbAD2vP0FZTZ3Y6zWG/D20ff2FuU9wKigNd4gclRQBzlEZ4pJUhGvJxfBMK8XFu7m4nfcMrg+KcNg/BdYxeQinbXMaP+STBJOILNwjO4jIfoLcZxXwSizAKb8HEGY9hkFgMjzi8qjkewcz6rtEZqOq5i28YnMRnVmKnkRUbpau+OT/VQ9fAjf7PFos1EdQQj4sbj5A8fMKjNBwxNWwNJx2jcbkA64opzLqqNMdKgvOYAs5pIiUQjjTfm3nSHCU9n9NBoO4+sp+ZEOyI/dAZqkxpEwfiCL9Z4jf2ioNrYj8A4j403a5QJFKLO3Je5HNCE6RP+2zDoCyAYnBONxZGc0og5WecAgfy+fJz9J9ERmJ/C+TUJNLaUzcGOBeH7wt9QL9TnjyohzzdfzRe5szwpMfYfnFYHTbfAVJeU9Q9Lwcmy3C0WW9I1oss4LCWnvcSWXesw4Fj8sw7agPOq1zwEHHSOBd7R/Iz2Q/efJE7JPXduz+CgLaEFpM0MLZ7xXFi/iEt3NaoXqPLKq3yaBmkwyq9NtT9FfAa5e2eO0q/0kHAM82CNMfgI6K+yA95iCYbAZx9W0s+VnmpTjfjGp8qjv77Ieg/QoIOqyGoK0qBIN/B2eYgX6uRSj/fyK/QVhm2KmgVPQ9GwAVhyjEFb6A4IAXhhuHoexNLTSI3E0PeEPFJQ6z7KKw3PkeXBIKcTokHdPNwnGUnMF049tYaBWBba73sIQi/TzDEJiGZeCY130MP+qJaWf9kPDwGfrsvoLv1CxxN7MEs095wf52Onptsmsc+ZUu4kvgiJgCwjVhBn8uznveg/wqM7wor8LcE574gdL+5ef9+H1LdH2RUfgc4SmPkEL6mfongqOoLviKDAZx9eXtZ/Q+HiyYSJ0I5dP6lkTwZmYpaGmRihbmqWhmnoJW1Jcm8ktezkE7k0RsVDkH68HqMBy5CRfHbIFPl18p3R+ATMoA0sgRfM4BRDcbifGDtqCZotZ7+2X4C/nf1LwDNfAO9UCUa28gazV/YnzJM3MLzDDliBdKnpXhh01OkFO/TOR+iW1EfO5XEyw5HwjTm0lYa3QLqQ9FNxHOXI+jus6cx9Sj3pQxlKOOsoE3b97waCz5243RrCCgzZj96Dh6D/KbSwPNKOWXag1INgVkZD5N/pYcagc1RV0vygD6UttHAm+3tkSlD5HcZxiq3Lvg9VVZcgLkEFzleFS6tMM7TwVUenTDvMVqaD7sMJhsBnH1bSz5S59VousESlf7nAA3/iwECwzJeAmbqB61zgNnkoe1wSWNWrMx5E8uKUscqHMTOz0TMOhCEAyE2ZhmKcRCxxhs9EigFD8OqoRFV2Kg5BCN8abh0L2diYthWVCk332qyW0oXgrBAe8EHCL0O+YFw9A0Xg8Vk1CstYnAsMPuOEWOQNUoCMsMAqFM5Jt23AOud7JE5J8pPvnZBcIvgWOYdR7nPOOQU1oGBTUzTNW6jrtpxZh82A0xlG3EkPPxvZeP466xCEkugtrFQLjezYF1cCq4+Rf5Nb4mR1x9efv5aRfaDdVAG2V9SJsl8ym9vE0a+jimo71tOjrakPN1SoccjQnIIUhYpqO7bgTG7nHDmJ2uGK3phcFa/tg9aR9P/nyZMUhvOYrI3oecAHME/anfm9q+/LWATIr+Wh0X4Lvxh9CW5Lett2Hu4cOHj1nt3UDGqqoqsIjtFlmEXhsuIVW4i6J1OdSNboNTNoPDrTQ8yC1F29V2mHjYEw9LX5BD8Ob37bYVUgolOr7ubTVP9P47XDB8rxv6bXdBx98cKFN4TLvf8nIYmOzHjx+LffLkRu6tIEB6lCYmDlTHSyJ2ybY9qLKxw7Nd+6hO98C74cMBhiYSwLBhKJkwDa9Nj6DuWDfUGPyMt5rfo/bkYDzXHYLSe+YoyE5FecR61ITMxBvv/nhzYxje+A7Fu8ARSPbVQk3c79DcMAUthu5HO5LN5Iurb2PJn5BeimaDT1HaT2nZISE471fg7IuI+ATDbPS0zUXmy/+/q/37vRMj+5/2w2G/ZEw3D0PvMwH4hcjvEF+A1kdv4HAgpcuhGZhAUf7Xy5FQJ0fgTiWBTnAaltlHwS+1GDvc4rDc7i62u8RChQLDKmsh1KjmH3nCGxpOUVhkEIRBmq7ot/cq7uc9xaxT3mihasKTv/fmRpJ/ETnGr0HZAO1WW6LzOhv+gmJbNQsorLECt9gUcuuc0V3DC02WWZN9WqGDuilF+zOQWW5M2zYQLBRjfYK4+jLbkRu+G3KM/OvtIU11PncuDjt80lBQ9gbLryXDKvohEotfYX1gPubceIix3gVQ3miNKwsOIUhNG+aTNGA9Zz9CVbVwZ4UW0o3d8GzfBWT0mIO8UarI6jcfufO2o2D8anICLDMYCPdWEyHNso1Rv/NgenD5+fmPWR3eQMbXr1+jtuYNcoufUYrvhplH7JCclYIuG5zRe6szXlVUwJEcQFMVC6gZhBB5q2Efmkqp/mU+ujOi+1GWQB4D1kHJkKCxC57xOHY1hs8cfGNziPw1vBwGlnGUlpaKffLaj9hTQYAUkX9pL2XybBJIcgsgAhciLiQWxak5CNx/HkX301DkH4onEdHwO3cZydEpKHG4iuKsfGSb2eFpMGUnwmikx4Ui23EcvM32IuVBCkrT/JGVHI+HiQHITY5EZnYpahMOQG/naMgMo5M2fA+YfHH1bSz5vQIp2nQ/QpGfcIayJrsCdLHPw9aIJ7iY8AJFlbWNWo99GkN+M2FWZHT+U9hG5yGManZ9qvevJRai5FUVvFKKkfW0Eg9KynAjrYQn/eGbybCJEc2Nyn+OzCfl8CcHEJJRirCsUuTV1/z7r99DCEVb56hshFFrFpIKC7KbV1U1iM1+DGOqx+NznqDXRiL/L2fFJz+7Rfg1sLsK7I6CEmGxCfVpW8kIP6zUxtyNG7B7lxKMtSbD/eQIBOkMQvj5IfA/MwQnNOfwdyQEi42/KkNcfdsT8Zn9tB+2E212XkfLy9ngToTjcnAKZcBluB6RjuzMR7hTUIYj1+Jw/eZ9RNK5NgvPhV9kFnKoLHGPycfN+wW4eyMaTueuIS4oDkmuIYjxjcLT2FRk+t5BalQakm8l4JmyBjK4HxHSfCwUSHYbIn1bAtOBy8vLe8wI2EDGyspKvCbU1VZj6YVAtF5hhzknfdF8qRW0rkSBkfoItdxcY5wgQgNvecRnF0OV5ksstsAwSk+yC59ijvYNtFpuDWPfRP4YATkCbZcY3rkwOQws2ygpKRH75MkP21VBgMzw37G4mxIetOoIoV8kMtLphEWmIT8wAkl6VngQk4YA11A8uBaAzKs+iHa6ilBhKiKCIuDp4o/kiHCEW5ihLscUz+1aIjtUFxFhkXTis5CbGoOU+LsIvrwfCZGhwP2F0NmuCJnBdNJINpMvrr6NJf9pozBwzXeQA9ACZ5pBaX4OdoX/veewGkP+RZYRt6YahPL36IfqBmC5YxSUbe9SSn8bk0zCMEwvBBOp/p9iEk6ZQQQWUfSfbRGByYa3MJHS/f4n/TDqXACmU3/qxSAM0/bByJM+mKsfhPGnyY6WmPJP9U077YPZZ30xkKL/MMLsk974aY8zJGafAzf5tFBcfflnBMQAt8QMTZcZoeNKXUzfsgvHDirz2Ke5FLv2Lce6ver4bfcaaOxbAe1DC+CmMw42J6aIjhVjfXH1lR+6k7cf+cE70GbHNTSxzkQH/RjcCE9DSGgiip68wv37ufCMewjTqHw43k5HUnIB8nNLEBGSAB/3uzh/0RvWdiHI9BHigUcY4k3dEb/lLKL8YxB+zAp5d5MQMW4tvKz98e6cNUX/rghuPgYKJLctBa92BKYDT35GwAYyVlBkZwCRX9/7PpHXhr+I13WjI+Iyioj7b7HqUjBf49uHpFAaX4rbifkoK6+AC3ktRvaBO12oPEiB7CpbSK+04dN9+TX2aLbUEvMppax5U/VeDss2GkN+hSE7KwhUM+3GuO6qiOw9Ej5OwQi6EohgpwAIvYW4H5+NqFv3IdS/jFuBcUhMyEWkZwAcXYKR5B4EVzN3JFpZwm/BAkQm5ZLzcEB0bAYiIxMQQtlDfpQdvO0vIS4uDTlZuagOHo1tavPQqu9eMNkM4urbWPIH3c3FXiLQBr1bRPwscLrpMEl82ag1/vxpDPm5dfZ+HKWjHJGf2+JEoHbzFUhpukOVHME6ikarr8ZiPbVK1nfR9qAnxuuHYBttr70SjbVO0VhsFYHFlO6vuXwH6+3vYhHV+kqGwVC3CseWy0JssA6HyqVALNILwBrTUKgbB2MOpf7L9fyxxTQE6w0DY8XVV6Bqio/BLTMVPUPA8L5vivZqevhpgxbmbN+JIeuP4rsVhpBQZXMsyDFQCaBiTa21qM9Atsr2/Xn9z0FcfRUGa0Bh4HYo9NuCduo24KieH2EchcuByXB1jcDVuzm4djsVbjfuISw8GcLoDFy9nQZb17vwCX0AK/8HOGp5Gza+CYiMSEYi7ReSjcfY+SHtojO8x62Df1gycmLTkR4aj7yJ6hT5e8C11c9oM4yyjiG7eDAb5snPIn4DGRtQXVWJRIrmUitIwXkmWEleHHWUoj97iVH7rkNyiSVuEem3WVCkmm8KGSJ6UxprQ605pXDKZ2/yDoJdB2BO4pLPff5uQAdyBGyN15UiOUx2cXGx2Cev46AdFQR0GKSBzgO2wr3jUKT0GYGEHwbiQc9heNBtMIRjZyN8yGTEKs5F2phpiO48CClTJ0E4fxDubVBBzMqZKF4/CI9OtoevwSLEO6ggzHQuhJYqCDaYi5Jro3BHbwBuGi9HksNcZNkOxpTpqyHTdzeYbAZx9f3WZ/uzXgNjrhZgjFM+IourvmmNhk+j7vNvcvQXbHaEYOsVPvpz26+SI3DmL+IlFb2Elm8SDvg8ICTC4m42UkrL4EFlgaZXAva6x0PDNRZOMbmIyn0C3ZtJ0HCOhrZ3Ah48eg5TSvV3OUVCh8rA1MKXMKOycDc5A3sy7qiMEpxwiYKWoxD7bMLFJz97SvAjSKw0R9NVFmhONX4TattssIXMOgpCapcgs/oSOFWy5+VWfziGUzXj8ee1GgNx9e1I5O/UdzM69d4I+Zk6aGGWhM56kRhseg8/6d5CL707+MkoCr10wzDq/G3Knm6jr0U8+uz3wartNtDcaY3tGjbYfcQF5jP2wqfTbLgqbkDgaHXc7zoT97hBsOu7DL7KmrjTfR6Sm49ElmAINOXnQ5rI34HnDtkw6cHl5ub+gfyvXr3iUV7+Ci/LymDun4hz7vcQm/GIUvRKlDx5Dksit4lfAgofP0dkagH0POMorY/k591NfojnL8pgxo7ziMPjZy/IabyhaF8JV8oM9L2pni55hsqKcl5Oo8k/YHsFAQwyg3ZjR8epEPdWH+QIfQm9CYMEqLaTpyJbBrVuMqhzl0XddWm8o/bNtXaoY0/6uUsDN1rCWWsE2vXdiQ79RXIZxNVXHPKXVVajqvqvtXxtPdinuu4dnlf/9fZe7Tv28s+X3/ppFPk3Ovjzj+NS1BewqM+e1qP+BHL+VpE5YBcDzwanQTsgGSvto/CrOUV4hyjMNrkNFYr4VneysMD0Fkac8oGSUSguUESbquuHrQ53Mfa4F1RNQmBNZD98NQoDd1/BTttwxGaV4tdTXph4wBXn3WPIvhLjxdaXPSZcDxbpp5/xhRs5H5eobKwyvwVLSpsvkhPiFhrzqT/LAvinDFlWsMSEx0KDICjpB1LNYyQaY9nCcjNRu6S+z7Ck/qlE6gvULPGxbHH15e2n31Yenajf5oA/X/c3t87g0cIqHc0JLajfzCoDkjwy0Yq2e526jXFUUg88FoiJO67iSs/FeEYpfR7XG9lcX4rw7OLeENruR9u9kMX1p/5ACCVHYmyv3yA9eNd7+2XgcnJyHrN0v4H0DSgrE7U1lAEwvK4sp7EyfuzN6wp+jDkI1n9L/er6sbdE8vL6OaxfUf7qD8dVV4kcTFm9HOZwCgsLxT55nfptqyCgM0GByNi132YEtv5RLPLXdWmK2vVSqNshjSpb+S8+4Se6x98eD21/xPgJqyHXewc696cfjOQyiKvv18jvF5KO3tMuYcwCM0TFF3x23jLfIvRyfIgtwaX4mOoHhU/hnl3+RRmNIv/6y/6CDfai5/E3OVLKT6k/9SdcCIIdI7/2Dey8Hg/f5CIe3Bo7aPslwefBI/TS8qL0PgTrKN3f4hSFiTq+mEpknKDtTVE/her8G5h3wR/a7nEIovl7aZ6Sri82moXAKigJvxkGQvmkJ6ZoukSJra+6NRrAiK1BmUXRi0qoWdzGaC132EZk4syNRPTa64Lzfg+wwzESzdbaQIVKjavR2VigH4Qg+h45T8ox7dQNHCHddG4kYNQxLxz3iKfjMzDokDsm03c5Q+N2wgxMIMfGrSDSr/4gW1x9OzEbqkfn7uvQYao2pA3jvvh0H4OEQx5GH/TBgZmHcUZxJ7y6zkcOT/ZBX3jKj/ZJDMEeFvUpU+7Yfxs+ls+T/+OIz4j6v0Rjyf99380VBDSgPRFxaM/VuNdCQewMoExZFvBpj9fXP036KkZ8bzmUOnTBsnkL0bbbDnwsk0Fcfb9G/kM6AVDZ5Iw5VDLtOu4LjcM+0DjhB2O7KHj4JiM6Ng+6puH42asUWpFPMdI+D+fiXmBDUAmMkl5ioVchggoq/znyr7PzJwcA3gFsdAC3kRwA9RXPBfBRfRCR3zAkDfuJGAup5NvkHIO19pFQ1L2JRaa34Rydh/TSV7gUnIKVtD829yl2UNTfQ85grJYHfjO7BdPAJERTtLe7lYqdFrcwRMMRjlTnGnnFQ+m4ByTniv94r2CNDRrALTfHpst38bT8DZwiKfJbhsE0NA2Gwalwj8vH7fRivvzQuBLFk32NTQR67HGBR3w+XChbGHLEE2/e1uL0jQfQo8zGM/4hjlGJEppWDB3fRETnPMHNpELYhGeCW2UFTv2D7EbY7x/sqMuPa6CwQB/SxgloTRmAlFXaZx1Ac4dc/hHfVauMkNRyFB5xfZDKDf0k8fPY8/6CwTgrOxMd+Exjy19smMvOzn5cXl7+Pyd9A5jsRpG/D5G/Dyn/Edr13Y6BPdfAUbY/ajnBZ0lf2LQ1dslNxtxZyxBBNT285PCOonudR3vUesjzLTxFYxHnB2LmlGWQ7bYdf5bH8E+RX227K4Yq6kH7YihmLrGGIaXSinNNYGgbiZ8XW2LaXENY+iSj79UirPQrgubdp1jgU8Q7gKlujzDHuxCPKt7+c+Rfa+sv+M1W9AYeeymHiM/9ZoexZ/yRWPgCOpRC76K6/qDHfVymTOBO9hNcu5ePcwEpCEktwTaHSIw7eQPOUTmIobo/IrMUPvcfIir7MczJIexxuINj12LhS4Q7fi0av1PaL0wtgidF4f02t6HjGgWHkBTx037SrQHcSkvsdI7Gs4o3OEQR/GfS+fKdbNgIs+BPpA0mOVrktOZTdvLkVRXUrSPQYccVmFFpEEDRfwA5p0fPK9F2+xXsoe94I/ERjtST34ScyDn/JGi63cN1+r6M+NzaD7IbYb9/tKXem/D9D2vRcdpJyGrfRmu77PoXe+pf6qF0vzVlBa0dc9HS9AFkVtth8Q8rECgYjkJK6R8Ssono2dxgHizNf0SIbjoCGu2V0KHPVrTvuxVdPmHDXFZW1mMW8V++fPmvgMl+9OjR3yI/+2IK9AU7EOZ1XQjjtkMR26ID8iWlkdVMFiGtu+KQ/ESM6r4K7fptR9vu29Fr4AasUZ6PK4dGId6oDzIseiDOoA8cD46CmtIC9KD9ct23fZL4/xT56969w7xVdggmA2WfzXuvY5baZYydb4b84jKMmnYex0/6wqekFou9RS+bxD95g7FXCzCNttWoBFjsX4LXX/lPH40iv7qNPx/N1tqKDJucACO/7A5nKBmHYplFOJaYh2EF1fdTzweg1VYnjCKyr7ERQt7jCN4AAAM8SURBVJn2d9ZwRnM6nj3Cq0rb46nOn3nWF4v1A/iXeJbo34QKpf7KlO4vveCH2dqeGPu7M6X7Xlh2xgeztdzw01byfOLqy14Vrge3xhbjSa4JkdmcovMCk1ukbxjmEtmHn/ThxzSvx6HVNiessRPiCkX7KXqB5Nj84BSdi8n0fTTJacjSd2DQpejvQE5syHFv/rsr03q/XAyCqmUEOHZe1n+Q/c3kb7Dhbr+hM6Xm8koX0VbTBzIXoqkciIf0pTi0OXELcvTdOo09iM49yS57b0a/XhuwrsNC2LeahDtNRyK2yXBEUuvWQhF72v+Kkd3XQI5dV+i75bM2zGVmZj5mEZj9Q41/A0x2QUHB3yJ/Azr12QI5ygLa991GzmAbOtI2cwjy1G8Y71w/t0PPrWhH5JbvsRUK1O/Yawvfsm1Gerb/c3L+KfKzl5pKnlagtv6CXXlVDVKznuAZRaXw2HworbRFJY1V1gHP3ny42Jf7qobwFi+r6/4w/o+QX83Kn3/fntWyvBMgUCbAUcu/kqtm/QFU83Is3WZ9irrsQhp/IYzAX0FfYiq6wPbxq7tKl8DN1+efuefmXOBfvOEx4wy46Tqi9+un6Yif9vPXJj6AJ2WDfiwbYK8Ts3bdZdEYi9gb7XlHwW+z+Q3HsLZhP8t4Vtevw45d+9FazDH+Se7fJT/vAHpuRJce6/F9r43oTKTtPIjKTarNWXbAxrv02MD3O5Nds2DXvh8LeFvQlcZ60TE/UtuB9skzm6d9bN6X5LHI//zfjvyNJP8Xv9D/Cv8E+b/0qSJivxX/3Z0vfhpF/lWWAQTRP9z46ILWx7X1J8HmqDHU/6OOlfX/rIPdQmv4hx1L2JNyHx655V+KYW/Fzb0gejV29jlIsLfoZpwR/4Iff1fiG7H5bxz7J4ir73+K/ImJiQkZGRlF6enpj/4NkOzCpKSkwn/i5P1Xyf9fgNhkWmHuRHhKBC6kCP4Bq62+DDZnJQMdt8KsULCcoEpYalpIpC8UqBgVEvELBYsMCgXKlwqJ+IVE/EKJeRcKJeaeL5SYpVtIxC8i4j+TmK7jJba+25wr/gN494/aL7sOwCDG3M58xrv5fUbbGPwf2loylTCTKegAAAAASUVORK5CYII="})]})})]})},IE=n.p+"static/media/b1.febf2811056176817cb0.png",CE=function(){var e=ke();return(0,cE.jsx)("div",{className:"hero-banner",children:(0,cE.jsxs)("div",{className:"content",children:[(0,cE.jsxs)("div",{className:"text-content",children:[(0,cE.jsx)("h1",{children:"Unlock Your Skin's Radiance"}),(0,cE.jsx)("p",{children:"At SKINSTORE we believe that healthy, radiant skin is a reflection of self-care and confidence. Our carefully crafted skincare products are designed to nurture your skin's natural beauty, providing you with the tools to feel your best every day. Join us on a journey to skincare excellence and discover the transformative power of nature's finest ingredients"}),(0,cE.jsxs)("div",{className:"ctas",children:[(0,cE.jsx)("div",{className:"banner-cta",onClick:function(){return e("/about")},children:"About Us"}),(0,cE.jsx)("div",{className:"banner-cta v2",onClick:function(){return e("/products")},children:"Shop Now"})]})]}),(0,cE.jsx)("img",{className:"banner-img",src:IE,alt:""})]})})},NE=function(e){var t=e.categories;console.log(t);var n=ke();return(0,cE.jsx)("div",{className:"shop-by-category",children:(0,cE.jsx)("div",{className:"categories",children:t.map((function(e){return(0,cE.jsxs)("div",{className:"category",onClick:function(){return n("/category/".concat(e.id))},children:[(0,cE.jsx)("img",{src:e.Image,alt:""}),(0,cE.jsx)("h2",{children:e.Name})]},e.id)}))})})},AE=function(e){var t=e.data,n=e.id,r=ke(),i=t.Image,a=t.Name,o=t.Price;return(0,cE.jsxs)("div",{className:"product-card",onClick:function(){return r("/product/"+n)},children:[(0,cE.jsx)("div",{className:"thumbnail",children:(0,cE.jsx)("img",{src:i,alt:a})}),(0,cE.jsxs)("div",{className:"prod-details",children:[(0,cE.jsx)("span",{className:"name",children:a}),(0,cE.jsxs)("span",{className:"price",children:["\u20a8 ",o]})]})]})},OE=function(e){var t=e.referrer,n=e.headingText,r=e.innerPage,i=e.products;return Array.isArray(i)?(0,cE.jsxs)("div",{className:"products-container",children:[(0,cE.jsx)("div",{className:"sec-heading",children:n}),(0,cE.jsx)("div",{className:"products ".concat(r?"innerPage":""),children:"home"===t?i.filter((function(e){return!0===e.Popular})).map((function(e){return(0,cE.jsx)(AE,{id:e.id,data:e},e.id)})):i.map((function(e){return(0,cE.jsx)(AE,{id:e.id,data:e},e.id)}))})]}):(0,cE.jsx)("div",{className:"products-container",children:"No products available"})},RE=function(){var e,n,r=(0,t.useContext)(fE),i=r.categories,a=r.products,o=r.setProducts,s=r.setCategories;return(0,t.useEffect)((function(){!function(){(e=e||rt(Ze().mark((function e(){var t,n,r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sv(uE,"products"),e.next=4,im(t);case 4:n=e.sent,r=n.docs.map((function(e){return tt({id:e.id},e.data())})),o(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching products:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}(),function(){(n=n||rt(Ze().mark((function e(){var t,n,r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sv(uE,"categories"),e.next=4,im(t);case 4:n=e.sent,r=n.docs.map((function(e){return tt({id:e.id},e.data())})),s(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching categories:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}()}),[]),(0,cE.jsxs)("div",{children:[(0,cE.jsx)(CE,{}),(0,cE.jsx)("div",{className:"main-content",children:(0,cE.jsxs)("div",{className:"layout",children:[(0,cE.jsx)("div",{className:"sec-heading",children:"categories"}),(0,cE.jsx)(NE,{categories:i}),(0,cE.jsx)(OE,{headingText:"Best Sellers",products:a,referrer:"home"})]})})]})},PE=function(){var e=be().Category,n=c((0,t.useState)([]),2),r=n[0],i=n[1];return console.log("cat",e),console.log("products",r),(0,t.useEffect)((function(){var t;!function(){(t=t||rt(Ze().mark((function t(){var n,r,a,o;return Ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=sv(uE,"products"),t.next=4,im(n);case 4:r=t.sent,a=r.docs.map((function(e){return tt({id:e.id},e.data())})),o=a.filter((function(t){return t.Category===e})),i(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Error fetching products:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}()}),[e]),(0,cE.jsx)("div",{className:"category-main-content",children:(0,cE.jsxs)("div",{className:"layout",children:[(0,cE.jsxs)("div",{className:"category-title",children:[e," "]}),(0,cE.jsx)(OE,{innerPage:!0,products:r})]})})};function DE(e,t){return function(){return e.apply(t,arguments)}}var LE,ME=Object.prototype.toString,jE=Object.getPrototypeOf,FE=(LE=Object.create(null),function(e){var t=ME.call(e);return LE[t]||(LE[t]=t.slice(8,-1).toLowerCase())}),UE=function(e){return e=e.toLowerCase(),function(t){return FE(t)===e}},VE=function(e){return function(t){return typeof t===e}},zE=Array.isArray,BE=VE("undefined");var HE=UE("ArrayBuffer");var qE=VE("string"),KE=VE("function"),WE=VE("number"),GE=function(e){return null!==e&&"object"===typeof e},QE=function(e){if("object"!==FE(e))return!1;var t=jE(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},YE=UE("Date"),XE=UE("File"),JE=UE("Blob"),ZE=UE("FileList"),$E=UE("URLSearchParams");function eS(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),zE(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,s=a?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;for(n=0;n<u;n++)o=s[n],t.call(null,e[o],o,e)}}function tS(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var nS="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,rS=function(e){return!BE(e)&&e!==nS};var iS,aS=(iS="undefined"!==typeof Uint8Array&&jE(Uint8Array),function(e){return iS&&e instanceof iS}),oS=UE("HTMLFormElement"),sS=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),uS=UE("RegExp"),cS=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};eS(n,(function(n,i){var a;!1!==(a=t(n,i,e))&&(r[i]=a||n)})),Object.defineProperties(e,r)},lS="abcdefghijklmnopqrstuvwxyz",fS="0123456789",hS={DIGIT:fS,ALPHA:lS,ALPHA_DIGIT:lS+lS.toUpperCase()+fS};var dS=UE("AsyncFunction"),pS={isArray:zE,isArrayBuffer:HE,isBuffer:function(e){return null!==e&&!BE(e)&&null!==e.constructor&&!BE(e.constructor)&&KE(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||KE(e.append)&&("formdata"===(t=FE(e))||"object"===t&&KE(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&HE(e.buffer)},isString:qE,isNumber:WE,isBoolean:function(e){return!0===e||!1===e},isObject:GE,isPlainObject:QE,isUndefined:BE,isDate:YE,isFile:XE,isBlob:JE,isRegExp:uS,isFunction:KE,isStream:function(e){return GE(e)&&KE(e.pipe)},isURLSearchParams:$E,isTypedArray:aS,isFileList:ZE,forEach:eS,merge:function e(){for(var t=(rS(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&tS(n,i)||i;QE(n[a])&&QE(r)?n[a]=e(n[a],r):QE(r)?n[a]=e({},r):zE(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&eS(arguments[i],r);return n},extend:function(e,t,n){return eS(t,(function(t,r){n&&KE(t)?e[r]=DE(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&jE(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:FE,kindOfTest:UE,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(zE(e))return e;var t=e.length;if(!WE(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:oS,hasOwnProperty:sS,hasOwnProp:sS,reduceDescriptors:cS,freezeMethods:function(e){cS(e,(function(t,n){if(KE(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];KE(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return zE(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:tS,global:nS,isContextDefined:rS,ALPHABET:hS,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hS.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&KE(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(GE(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=zE(n)?[]:{};return eS(n,(function(t,n){var a=e(t,r+1);!BE(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:dS,isThenable:function(e){return e&&(GE(e)||KE(e))&&KE(e.then)&&KE(e.catch)}};function vS(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}pS.inherits(vS,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pS.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var mS=vS.prototype,gS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){gS[e]={value:e}})),Object.defineProperties(vS,gS),Object.defineProperty(mS,"isAxiosError",{value:!0}),vS.from=function(e,t,n,r,i,a){var o=Object.create(mS);return pS.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),vS.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var yS=vS;function kS(e){return pS.isPlainObject(e)||pS.isArray(e)}function bS(e){return pS.endsWith(e,"[]")?e.slice(0,-2):e}function wS(e,t,n){return e?e.concat(t).map((function(e,t){return e=bS(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var xS=pS.toFlatObject(pS,{},null,(function(e){return/^is[A-Z]/.test(e)}));var ES=function(e,t,n){if(!pS.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=pS.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!pS.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&pS.isSpecCompliantForm(t);if(!pS.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(pS.isDate(e))return e.toISOString();if(!s&&pS.isBlob(e))throw new yS("Blob is not supported. Use a Buffer instead.");return pS.isArrayBuffer(e)||pS.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var s=e;if(e&&!i&&"object"===typeof e)if(pS.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(pS.isArray(e)&&function(e){return pS.isArray(e)&&!e.some(kS)}(e)||(pS.isFileList(e)||pS.endsWith(n,"[]"))&&(s=pS.toArray(e)))return n=bS(n),s.forEach((function(e,r){!pS.isUndefined(e)&&null!==e&&t.append(!0===o?wS([n],r,a):null===o?n:n+"[]",u(e))})),!1;return!!kS(e)||(t.append(wS(i,n,a),u(e)),!1)}var l=[],f=Object.assign(xS,{defaultVisitor:c,convertValue:u,isVisitable:kS});if(!pS.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!pS.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),pS.forEach(n,(function(n,a){!0===(!(pS.isUndefined(n)||null===n)&&i.call(t,n,pS.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function SS(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function _S(e,t){this._pairs=[],e&&ES(e,this,t)}var TS=_S.prototype;TS.append=function(e,t){this._pairs.push([e,t])},TS.toString=function(e){var t=e?function(t){return e.call(this,t,SS)}:SS;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var IS=_S;function CS(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function NS(e,t,n){if(!t)return e;var r,i=n&&n.encode||CS,a=n&&n.serialize;if(r=a?a(t,n):pS.isURLSearchParams(t)?t.toString():new IS(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var AS=function(){function e(){h(this,e),this.handlers=[]}return m(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){pS.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),OS=AS,RS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},PS={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:IS,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var DS=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&pS.isArray(r)?r.length:a,s?(pS.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&pS.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&pS.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(pS.isFormData(e)&&pS.isFunction(e.entries)){var n={};return pS.forEachEntry(e,(function(e,r){t(function(e){return pS.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null};var LS={transitional:RS,adapter:PS.isNode?"http":"xhr",transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=pS.isObject(e);if(a&&pS.isHTMLForm(e)&&(e=new FormData(e)),pS.isFormData(e))return i&&i?JSON.stringify(DS(e)):e;if(pS.isArrayBuffer(e)||pS.isBuffer(e)||pS.isStream(e)||pS.isFile(e)||pS.isBlob(e))return e;if(pS.isArrayBufferView(e))return e.buffer;if(pS.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ES(e,new PS.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return PS.isNode&&pS.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=pS.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return ES(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(pS.isString(e))try{return(t||JSON.parse)(e),pS.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||LS.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&pS.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw yS.from(a,yS.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:PS.classes.FormData,Blob:PS.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pS.forEach(["delete","get","head","post","put","patch"],(function(e){LS.headers[e]={}}));var MS=LS,jS=pS.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FS=Symbol("internals");function US(e){return e&&String(e).trim().toLowerCase()}function VS(e){return!1===e||null==e?e:pS.isArray(e)?e.map(VS):String(e)}function zS(e,t,n,r,i){return pS.isFunction(r)?r.call(this,t,n):(i&&(t=n),pS.isString(t)?pS.isString(r)?-1!==t.indexOf(r):pS.isRegExp(r)?r.test(t):void 0:void 0)}var BS=function(e,t){function n(e){h(this,n),e&&this.set(e)}return m(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=US(t);if(!i)throw new Error("header name must be a non-empty string");var a=pS.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=VS(e))}var a=function(e,t){return pS.forEach(e,(function(e,n){return i(e,n,t)}))};return pS.isPlainObject(e)||e instanceof this.constructor?a(e,t):pS.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&jS[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=US(e)){var n=pS.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(pS.isFunction(t))return t.call(this,r,n);if(pS.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=US(e)){var n=pS.findKey(this,e);return!(!n||void 0===this[n]||t&&!zS(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=US(e)){var i=pS.findKey(n,e);!i||t&&!zS(0,n[i],i,t)||(delete n[i],r=!0)}}return pS.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!zS(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return pS.forEach(this,(function(r,i){var a=pS.findKey(n,i);if(a)return t[a]=VS(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=VS(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return pS.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&pS.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=c(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[FS]=this[FS]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=US(e);t[r]||(!function(e,t){var n=pS.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return pS.isArray(e)?e.forEach(r):r(e),this}}]),n}();BS.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),pS.reduceDescriptors(BS.prototype,(function(e,t){var n=e.value,r=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[r]=e}}})),pS.freezeMethods(BS);var HS=BS;function qS(e,t){var n=this||MS,r=t||n,i=HS.from(r.headers),a=r.data;return pS.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function KS(e){return!(!e||!e.__CANCEL__)}function WS(e,t,n){yS.call(this,null==e?"canceled":e,yS.ERR_CANCELED,t,n),this.name="CanceledError"}pS.inherits(WS,yS,{__CANCEL__:!0});var GS=WS;var QS=PS.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),pS.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),pS.isString(r)&&o.push("path="+r),pS.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function YS(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var XS=PS.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=pS.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var JS=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=i[o];n||(n=u),r[a]=s,i[a]=u;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var h=c&&u-c;return h?Math.round(1e3*f/h):void 0}}};function ZS(e,t){var n=0,r=JS(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,u=r(s);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&a<=o?(o-a)/u:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var $S={http:null,xhr:"undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=HS.from(e.headers).normalize(),o=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}pS.isFormData(i)&&(PS.isStandardBrowserEnv||PS.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=YS(e.baseURL,e.url);function h(){if(u){var r=HS.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new yS("Request failed with status code "+n.status,[yS.ERR_BAD_REQUEST,yS.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}}if(u.open(e.method.toUpperCase(),NS(f,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new yS("Request aborted",yS.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new yS("Network Error",yS.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||RS;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new yS(t,r.clarifyTimeoutError?yS.ETIMEDOUT:yS.ECONNABORTED,e,u)),u=null},PS.isStandardBrowserEnv){var d=(e.withCredentials||XS(f))&&e.xsrfCookieName&&QS.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in u&&pS.forEach(a.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),pS.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",ZS(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",ZS(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){u&&(n(!t||t.type?new GS(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===PS.protocols.indexOf(p)?n(new yS("Unsupported protocol "+p+":",yS.ERR_BAD_REQUEST,e)):u.send(i||null)}))}};pS.forEach($S,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var e_=function(e){for(var t,n,r=(e=pS.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=pS.isString(t)?$S[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new yS("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(pS.hasOwnProp($S,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!pS.isFunction(n))throw new TypeError("adapter is not a function");return n};function t_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new GS(null,e)}function n_(e){return t_(e),e.headers=HS.from(e.headers),e.data=qS.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),e_(e.adapter||MS.adapter)(e).then((function(t){return t_(e),t.data=qS.call(e,e.transformResponse,t),t.headers=HS.from(t.headers),t}),(function(t){return KS(t)||(t_(e),t&&t.response&&(t.response.data=qS.call(e,e.transformResponse,t.response),t.response.headers=HS.from(t.response.headers))),Promise.reject(t)}))}var r_=function(e){return e instanceof HS?e.toJSON():e};function i_(e,t){t=t||{};var n={};function r(e,t,n){return pS.isPlainObject(e)&&pS.isPlainObject(t)?pS.merge.call({caseless:n},e,t):pS.isPlainObject(t)?pS.merge({},t):pS.isArray(t)?t.slice():t}function i(e,t,n){return pS.isUndefined(t)?pS.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!pS.isUndefined(t))return r(void 0,t)}function o(e,t){return pS.isUndefined(t)?pS.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return i(r_(e),r_(t),!0)}};return pS.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=u[r]||i,o=a(e[r],t[r],r);pS.isUndefined(o)&&a!==s||(n[r]=o)})),n}var a_="1.5.0",o_={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o_[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var s_={};o_.transitional=function(e,t,n){function r(e,t){return"[Axios v1.5.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new yS(r(i," has been removed"+(t?" in "+t:"")),yS.ERR_DEPRECATED);return t&&!s_[i]&&(s_[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var u_={assertOptions:function(e,t,n){if("object"!==typeof e)throw new yS("options must be an object",yS.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new yS("option "+a+" must be "+u,yS.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new yS("Unknown option "+a,yS.ERR_BAD_OPTION)}},validators:o_},c_=u_.validators,l_=function(){function e(t){h(this,e),this.defaults=t,this.interceptors={request:new OS,response:new OS}}return m(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=i_(this.defaults,t),r=n.transitional,i=n.paramsSerializer,a=n.headers;void 0!==r&&u_.assertOptions(r,{silentJSONParsing:c_.transitional(c_.boolean),forcedJSONParsing:c_.transitional(c_.boolean),clarifyTimeoutError:c_.transitional(c_.boolean)},!1),null!=i&&(pS.isFunction(i)?t.paramsSerializer={serialize:i}:u_.assertOptions(i,{encode:c_.function,serialize:c_.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var o=a&&pS.merge(a.common,a[t.method]);a&&pS.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete a[e]})),t.headers=HS.concat(o,a);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!u){var d=[n_.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=s.length;var p=t;for(h=0;h<f;){var v=s[h++],m=s[h++];try{p=v(p)}catch(g){m.call(this,g);break}}try{c=n_.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return NS(YS((e=i_(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();pS.forEach(["delete","get","head","options"],(function(e){l_.prototype[e]=function(t,n){return this.request(i_(n||{},{method:e,url:t,data:(n||{}).data}))}})),pS.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(i_(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}l_.prototype[e]=t(),l_.prototype[e+"Form"]=t(!0)}));var f_=l_,h_=function(){function e(t){if(h(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new GS(e,t,i),n(r.reason))}))}return m(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}();var d_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(d_).forEach((function(e){var t=c(e,2),n=t[0],r=t[1];d_[r]=n}));var p_=d_;var v_=function e(t){var n=new f_(t),r=DE(f_.prototype.request,n);return pS.extend(r,f_.prototype,n,{allOwnKeys:!0}),pS.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(i_(t,n))},r}(MS);v_.Axios=f_,v_.CanceledError=GS,v_.CancelToken=h_,v_.isCancel=KS,v_.VERSION=a_,v_.toFormData=ES,v_.AxiosError=yS,v_.Cancel=v_.CanceledError,v_.all=function(e){return Promise.all(e)},v_.spread=function(e){return function(t){return e.apply(null,t)}},v_.isAxiosError=function(e){return pS.isObject(e)&&!0===e.isAxiosError},v_.mergeConfig=i_,v_.AxiosHeaders=HS,v_.formToJSON=function(e){return DS(pS.isHTMLForm(e)?new FormData(e):e)},v_.getAdapter=e_,v_.HttpStatusCode=p_,v_.default=v_;v_.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_DEV_URL,headers:{Authorization:"bearer "+{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_STRIPE_APP_KEY}});var m_=function(e){var n;!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e);var r=(0,t.useContext)(fE),i=r.products,a=r.setProducts;return(0,t.useEffect)((function(){!function(){(n=n||rt(Ze().mark((function e(){var t,n,r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sv(uE,"products"),e.next=4,im(t);case 4:n=e.sent,r=n.docs.map((function(e){return tt({id:e.id},e.data())})),a(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching products:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}()}),[]),(0,cE.jsx)("div",{className:"product_page",children:(0,cE.jsx)(OE,{headingText:" Products",products:i,referrer:"products"})})},g_=function(){var e,n=(0,t.useContext)(fE),r=n.cartItems,i=(n.setShowCart,n.cartSubTotal),a=c((0,t.useState)({name:"",address:"",email:"",phoneNumber:""}),2),o=a[0],s=a[1],u=c((0,t.useState)(!0),2),l=u[0],f=u[1],h=function(e){var t=e.target,n=t.name,r=t.value;s(tt(tt({},o),{},$e({},n,r)))};(0,t.useEffect)((function(){f(!o.name||!o.address||!o.email||!o.phoneNumber||0===r.length||0===i)}),[o]);var d=c((0,t.useState)(!1),2),p=d[0],v=d[1];return(0,cE.jsxs)("div",{className:"order-page",children:[(0,cE.jsx)("div",{className:"cart-section",children:!!r.length&&(0,cE.jsxs)(cE.Fragment,{children:[(0,cE.jsx)("h2",{children:"Your Cart"}),(0,cE.jsx)(pE,{}),(0,cE.jsxs)("div",{className:"subtotal",children:[(0,cE.jsx)("span",{className:"text",children:"Subtotal: "}),(0,cE.jsxs)("span",{className:"text total",children:["\u20a8 ",i]})]})]})}),(0,cE.jsxs)("div",{className:"form-section",children:[(0,cE.jsx)("h2",{children:"Enter Your Details"}),(0,cE.jsxs)("form",{children:[(0,cE.jsxs)("div",{className:"form-group",children:[(0,cE.jsx)("label",{htmlFor:"name",children:"Name:"}),(0,cE.jsx)("input",{type:"text",id:"name",name:"name",value:o.name,onChange:h,required:!0})]}),(0,cE.jsxs)("div",{className:"form-group",children:[(0,cE.jsx)("label",{htmlFor:"address",children:"Address:"}),(0,cE.jsx)("input",{type:"text",id:"address",name:"address",value:o.address,onChange:h,required:!0})]}),(0,cE.jsxs)("div",{className:"form-group",children:[(0,cE.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,cE.jsx)("input",{type:"email",id:"email",name:"email",value:o.email,onChange:h,required:!0})]}),(0,cE.jsxs)("div",{className:"form-group",children:[(0,cE.jsx)("label",{htmlFor:"phoneNumber",children:"Phone Number:"}),(0,cE.jsx)("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:o.phoneNumber,onChange:h,required:!0})]})]}),(0,cE.jsx)("div",{className:"button",children:(0,cE.jsx)("button",{className:"checkout-cta ".concat(l?"disabled":""),disabled:l,onClick:function(){return(e=e||rt(Ze().mark((function e(){var t,n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=2;break}return e.abrupt("return");case 2:if(v(!0),o.name&&o.address&&o.email&&o.phoneNumber&&0!==r.length&&0!==i){e.next=6;break}return v(!1),e.abrupt("return");case 6:return t=Math.floor(9e4*Math.random())+1e4,n={id:t,name:o.name,address:o.address,email:o.email,phoneNumber:o.phoneNumber,products:r.map((function(e){return{id:e.id,title:e.Name,price:e.Price,quantity:e.quantity}})),total:i},e.prev=8,e.next=11,am(sv(uE,"orders"),n);case 11:alert("Order placed successfully! Your Order ID is: ".concat(t)),s({name:"",address:"",email:"",phoneNumber:"",cartItems:""}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),console.error("Error submitting the order:",e.t0);case 18:return e.prev=18,v(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[8,15,18,21]])})))).apply(this,arguments)},children:"Order Now"})})]})]})},y_=function(){var e,n=(0,t.useContext)(fE).setCategories,r=c((0,t.useState)([]),2),i=r[0],a=r[1];return(0,t.useEffect)((function(){!function(){(e=e||rt(Ze().mark((function e(){var t,n,r,i;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sv(uE,"categories"),n=Vv(t),e.next=5,im(n);case 5:r=e.sent,i=r.docs.map((function(e){return tt({id:e.id},e.data())})),a(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching categories:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}()}),[]),(0,t.useEffect)((function(){n(i)}),[i,n]),(0,cE.jsxs)("div",{className:"cat",children:[(0,cE.jsx)("div",{className:"sec-heading",children:"Categories"}),(0,cE.jsx)(NE,{categories:i})]})},k_=function(e){var n=e.categoryId,r=e.productId,i=c((0,t.useState)([]),2),a=i[0],o=i[1];return(0,t.useEffect)((function(){var e;console.log("rel",a),function(){(e=e||rt(Ze().mark((function e(){var t,i,a,s;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sv(uE,"products"),i=Vv(t,Bv("Category","==",n),Bv("Name","!=",r),(ev("limit",u=4),qv._create("limit",u,"F"))),console.log(i),e.next=6,im(i);case 6:a=e.sent,s=a.docs.map((function(e){return tt({id:e.id},e.data())})),o(s),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching related products:",e.t0);case 14:case"end":return e.stop()}var u}),e,null,[[0,11]])})))).apply(this,arguments)}()}),[n,r]),(0,cE.jsx)("div",{className:"related-products",children:(0,cE.jsx)(OE,{headingText:"Related Products",products:a})})},b_=function(){var e=c((0,t.useState)(1),2),n=e[0],r=e[1],i=be().id,a=(0,t.useContext)(fE).handleAddToCart,o=c((0,t.useState)(null),2),s=o[0],u=o[1];return(0,t.useEffect)((function(){var e;!function(){(e=e||rt(Ze().mark((function e(){var t,n,r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=uv(uE,"products",i),e.next=4,nm(t);case 4:(n=e.sent).exists()&&(r=tt({id:n.id},n.data()),u(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching product:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}()}),[i]),s?(0,cE.jsx)("div",{className:"single-product-main-content",children:(0,cE.jsxs)("div",{className:"layout",children:[(0,cE.jsxs)("div",{className:"single-product-page",children:[(0,cE.jsx)("div",{className:"left",children:(0,cE.jsx)("img",{src:s.Image,alt:""})}),(0,cE.jsxs)("div",{className:"right",children:[(0,cE.jsx)("span",{className:"name",children:s.Name}),(0,cE.jsxs)("span",{className:"price",children:["\u20a8 ",s.Price]}),(0,cE.jsx)("span",{className:"desc",children:s.Description}),(0,cE.jsxs)("div",{className:"cart-buttons",children:[(0,cE.jsxs)("div",{className:"quantity-buttons",children:[(0,cE.jsx)("span",{onClick:function(){r((function(e){return 1===e?1:e-1}))},children:"-"}),(0,cE.jsx)("span",{children:n}),(0,cE.jsx)("span",{onClick:function(){r((function(e){return e+1}))},children:"+"})]}),(0,cE.jsxs)("button",{className:"add-to-cart-button",onClick:function(){a(s,n),r(1)},children:[(0,cE.jsx)(xE,{size:20}),"ADD TO CART"]})]}),(0,cE.jsx)("span",{className:"divider"}),(0,cE.jsxs)("div",{className:"info-item",children:[(0,cE.jsxs)("span",{className:"text-bold",children:["Category:",(0,cE.jsxs)("span",{children:[" ",s.Category]})," "]}),(0,cE.jsxs)("span",{className:"text-bold",children:["Share:",(0,cE.jsxs)("span",{className:"social-icons",children:[(0,cE.jsx)(gE,{size:16}),(0,cE.jsx)(wE,{size:16}),(0,cE.jsx)(yE,{size:16}),(0,cE.jsx)(kE,{size:16}),(0,cE.jsx)(bE,{size:16})]})]})]})]})]}),(0,cE.jsx)(k_,{productId:i,categoryId:s.Category})," "]})}):null},w_=function(){return(0,cE.jsx)("div",{className:"newsletter-section",children:(0,cE.jsxs)("div",{className:"newsletter-content",children:[(0,cE.jsx)("span",{className:"small-text",children:"Newsletter"}),(0,cE.jsx)("span",{className:"big-text",children:"Sign up for latest updates and offers"}),(0,cE.jsxs)("div",{className:"form",children:[(0,cE.jsx)("input",{type:"text",placeholder:"Email Address"}),(0,cE.jsx)("button",{children:"Subscribe"})]}),(0,cE.jsx)("div",{className:"text",children:"Will be used in accordance with our Privacy Policy"}),(0,cE.jsxs)("div",{className:"social-icons",children:[(0,cE.jsx)("div",{className:"icon",children:(0,cE.jsx)(gE,{size:14})}),(0,cE.jsx)("div",{className:"icon",children:(0,cE.jsx)(wE,{size:14})}),(0,cE.jsx)("div",{className:"icon",children:(0,cE.jsx)(yE,{size:14})}),(0,cE.jsx)("div",{className:"icon",children:(0,cE.jsx)(kE,{size:14})})]})]})})},x_=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).state={hasError:!1},r}return m(n,[{key:"componentDidCatch",value:function(e,t){console.error("Error in component:",e),this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?(0,cE.jsx)("div",{children:"Something went wrong. Please try again later."}):this.props.children}}]),n}(t.Component),E_=function(){return(0,cE.jsx)("div",{className:"about-page",children:(0,cE.jsxs)("div",{className:"about-content",children:[(0,cE.jsx)("h1",{children:"About Our Skincare Store"}),(0,cE.jsx)("p",{children:"Welcome to our skincare store, your destination for premium skincare products and expert advice. We are passionate about helping you achieve healthy, radiant skin that you'll love to show off."}),(0,cE.jsx)("p",{children:"Our journey began with a simple idea: to provide high-quality skincare products that cater to the unique needs of every skin type. Whether you have sensitive skin, oily skin, or are simply looking to rejuvenate your complexion, we have the perfect solutions for you."}),(0,cE.jsx)("p",{children:"What sets us apart is our commitment to sourcing the finest ingredients and collaborating with renowned skincare brands. We believe in the power of science-backed formulations and natural extracts to deliver noticeable results."}),(0,cE.jsx)("p",{children:"Our team of skincare experts is here to guide you on your skincare journey. We offer personalized recommendations, tips, and tutorials to help you make informed choices for your daily skincare routine."}),(0,cE.jsx)("p",{children:"Thank you for choosing us as your skincare partner. We look forward to helping you achieve your skincare goals and embracing the beauty of healthy skin."})]})})};var S_=function(){return(0,cE.jsx)(x_,{children:(0,cE.jsx)(Ue,{children:(0,cE.jsxs)(hE,{children:[(0,cE.jsx)(mE,{}),(0,cE.jsxs)(De,{children:[(0,cE.jsx)(Re,{path:"/",element:(0,cE.jsx)(RE,{})}),(0,cE.jsx)(Re,{path:"/about",element:(0,cE.jsx)(E_,{})}),(0,cE.jsx)(Re,{path:"/categories",element:(0,cE.jsx)(y_,{})}),(0,cE.jsx)(Re,{path:"/products",element:(0,cE.jsx)(m_,{})}),(0,cE.jsx)(Re,{path:"/orders",element:(0,cE.jsx)(g_,{})}),(0,cE.jsx)(Re,{path:"/category/:Category",element:(0,cE.jsx)(PE,{})}),(0,cE.jsx)(Re,{path:"/product/:id",element:(0,cE.jsx)(b_,{})})]}),(0,cE.jsx)(w_,{}),(0,cE.jsx)(TE,{})]})})})};i.createRoot(document.getElementById("root")).render((0,cE.jsx)(S_,{}))}()}();
//# sourceMappingURL=main.7b0d2f7d.js.map